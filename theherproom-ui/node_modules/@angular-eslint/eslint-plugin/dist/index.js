var e=require("@typescript-eslint/experimental-utils");function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}const n=Object.keys;var s,r,i,a;!function(e){e.Component="Component",e.Directive="Directive",e.Injectable="Injectable",e.NgModule="NgModule",e.Pipe="Pipe"}(s||(s={})),function(e){e.Attribute="Attribute",e.Host="Host",e.Inject="Inject",e.Optional="Optional",e.Self="Self",e.SkipSelf="SkipSelf"}(r||(r={})),function(e){e.HostListener="HostListener"}(i||(i={})),function(e){e.ContentChild="ContentChild",e.ContentChildren="ContentChildren",e.HostBinding="HostBinding",e.Input="Input",e.Output="Output",e.ViewChild="ViewChild",e.ViewChildren="ViewChildren"}(a||(a={}));const o=t({},r,i,a);var l,c;!function(e){e.AfterContentChecked="AfterContentChecked",e.AfterContentInit="AfterContentInit",e.AfterViewChecked="AfterViewChecked",e.AfterViewInit="AfterViewInit",e.DoBootstrap="DoBootstrap",e.DoCheck="DoCheck",e.OnChanges="OnChanges",e.OnDestroy="OnDestroy",e.OnInit="OnInit"}(l||(l={})),function(e){e.ngAfterContentChecked="ngAfterContentChecked",e.ngAfterContentInit="ngAfterContentInit",e.ngAfterViewChecked="ngAfterViewChecked",e.ngAfterViewInit="ngAfterViewInit",e.ngDoBootstrap="ngDoBootstrap",e.ngDoCheck="ngDoCheck",e.ngOnChanges="ngOnChanges",e.ngOnDestroy="ngOnDestroy",e.ngOnInit="ngOnInit"}(c||(c={}));const u="camelCase",p="kebab-case",h=n(s),d=n(o),m=n(l),g=n(c),f=new Map([[s.Component,new Set([c.ngAfterContentChecked,c.ngAfterContentInit,c.ngAfterViewChecked,c.ngAfterViewInit,c.ngOnChanges,c.ngOnDestroy,c.ngOnInit,c.ngDoCheck])],[s.Directive,new Set([c.ngAfterContentChecked,c.ngAfterContentInit,c.ngAfterViewChecked,c.ngAfterViewInit,c.ngOnChanges,c.ngOnDestroy,c.ngOnInit,c.ngDoCheck])],[s.Injectable,new Set([c.ngOnDestroy])],[s.NgModule,new Set([c.ngDoBootstrap])],[s.Pipe,new Set([c.ngOnDestroy])]]),v=new Set(d),y=new Set(h),x=new Map([[s.Component,v],[s.Directive,v],[s.Injectable,new Set([o.Host,o.Inject,o.Optional,o.Self,o.SkipSelf])],[s.NgModule,new Set([o.Host,o.Inject,o.Optional,o.Self,o.SkipSelf])],[s.Pipe,new Set([o.Host,o.Inject,o.Optional,o.Self,o.SkipSelf])]]);function S(e){return"CallExpression"===e.type}function E(e){return"Identifier"===e.type}function _(e){return"MemberExpression"===e.type}function w(e){return"ClassDeclaration"===e.type}function C(e){return"ObjectExpression"===e.type}function b(e){return"ArrayExpression"===e.type}function I(e){return"Literal"===e.type}function T(e){return"TemplateLiteral"===e.type}function N(e){return"ImportDeclaration"===e.type}function A(e){return"ImportSpecifier"===e.type}function P(e){return"Literal"===e.type&&"string"==typeof e.value}function k(e){return"MethodDefinition"===e.type}function O({parent:e},t){for(;e&&"Program"!==e.type;){if(t(e))return e;e=e.parent}return null}const M=e=>w(e)?e.id?e.id.name:void 0:e.parent?M(e.parent):void 0,L=({decorators:e})=>null==e?void 0:e.map(R).filter(Y).find(H),R=e=>{const{expression:t}=e;return E(t)?t.name:S(t)&&E(t.callee)?t.callee.name:void 0},D=e=>{const{expression:t}=e;return _(t)?t.property.name:t.name},F=e=>e.implements||[],B=e=>F(e).map(D),$=e=>B(e).filter(U),V=new Set(m),j=new Set(g),U=e=>V.has(e),q=e=>j.has(e),H=e=>y.has(e);function W(e){if("Identifier"===e.key.type)return e.key.name;if("Literal"===e.key.type)return e.key.raw;throw new Error('Unexpected "ClassProperty.key.type" provided: '+e.key.type)}const z=(e,t)=>{const n=(e=>{const{expression:t}=e;if(!S(t)||!t.arguments||0===t.arguments.length)return;const n=t.arguments[0];return C(n)&&n.properties?n:void 0})(e);if(!n||!C(n))return;const s=n.properties.find(e=>e.key&&E(e.key)&&e.key.name===t);return s&&"Property"===s.type?s:void 0},K=(e,t)=>{const n=z(e,t);if(n)return n.value},X=e=>e.body.body.filter(k),G=e=>I(e.key)?e.key.value:e.key.name;function Q(e){return Array.isArray(e)?e:null!=e?[e]:[]}const Y=e=>null!=e,Z={attribute:e=>0!==e.length,camelCase:e=>/^[a-zA-Z0-9[\]]+$/.test(e),element:e=>null!==e,kebabCase:e=>/^[a-z0-9-]+-[a-z0-9-]+$/.test(e),prefix(e,t){const n=new RegExp(`^\\[?(${e})`);return s=>{if(!e)return!0;if(!n.test(s))return!1;const r=s.replace(n,"");if(t===u)return!r||r[0]===r[0].toUpperCase();if(t===p)return!r||"-"===r[0];throw Error("Invalid selector style!")}}};function J(e,t){let n=e;for(;n=n.parent;)if("Program"===n.type)return n.body.some(n=>N(n)&&n.source.value===t&&n.specifiers.some(t=>A(t)&&t.imported.name===e.name&&t.local.name===e.name));return!1}const ee=e=>{const t=e.length;return 1===t?`"${e[0]}"`:`${e.map(e=>`"${e}"`).slice(0,t-1).join(", ")} or "${[...e].pop()}"`},te=e=>RegExp(`^(${e.join("|")})$`),ne=e.ESLintUtils.RuleCreator(e=>"https://github.com/angular-eslint/angular-eslint");var se=ne({name:"contextual-decorator",meta:{type:"suggestion",docs:{description:"Ensures that classes use contextual decorators in its body.",category:"Best Practices",recommended:!1},schema:[],messages:{contextualDecorator:'Decorator out of context for "@{{classDecoratorName}}()"'}},defaultOptions:[],create:e=>({"MethodDefinition[kind=/^(get|set|method)$/], ClassProperty, TSParameterProperty"(t){!function(e,t){var n;if(!(null==(n=t.decorators)?void 0:n.length))return;const s=function(e){for(;e.parent;){if("ClassDeclaration"===e.type)return e;e=e.parent}return null}(t);if(!s)return;const r=L(s);if(r)for(const n of t.decorators)re(e,n,r)}(e,t)}})});function re(e,t,n){const s=R(t);if(!s||!v.has(s))return;const r=x.get(n);r&&!r.has(s)&&e.report({node:t,messageId:"contextualDecorator",data:{classDecoratorName:n}})}const ie='ClassDeclaration > Decorator:matches([expression.callee.name="Component"], [expression.callee.name="Directive"])',ae='ClassDeclaration > Decorator[expression.callee.name="Component"]',oe='ClassDeclaration > Decorator[expression.callee.name="Directive"]',le='ClassDeclaration > Decorator[expression.callee.name="Pipe"]';var ce=ne({name:"component-class-suffix",meta:{type:"suggestion",docs:{description:'Classes decorated with @Component must have suffix "Component" (or custom) in their name. See more at https://angular.io/styleguide#style-02-03.',category:"Best Practices",recommended:"error"},schema:[{type:"object",properties:{suffixes:{type:"array",items:{type:"string"}}},additionalProperties:!1}],messages:{componentClassSuffix:"The name of the class {{className}} should end with the suffix {{suffixes}} (https://angular.io/styleguide#style-02-03)"}},defaultOptions:[{suffixes:["Component"]}],create(e,[t]){const{suffixes:n}=t;return{[ae](t){const s=t.parent,r=M(s);r&&n.some(e=>r.endsWith(e))||e.report({node:s.id?s.id:s,messageId:"componentClassSuffix",data:{className:r,suffixes:n}})}}}});const ue=/\r\n|\r|\n/;function pe(e){return T(e)?e.quasis[0].value.raw.trim().split(ue).length:I(e)?e.raw.trim().split(ue).length:0}var he,de=ne({name:"component-max-inline-declarations",meta:{type:"suggestion",docs:{description:"Enforces a maximum number of lines in inline template, styles and animations",category:"Best Practices",recommended:!1},schema:[{type:"object",properties:{template:{type:"number"},styles:{type:"number"},animations:{type:"number"}},additionalProperties:!1}],messages:{componentMaxInlineDeclarations:"`{{propertyType}}` has too many lines ({{lineCount}}). Maximum allowed is {{max}} (https://angular.io/guide/styleguide#style-05-04)"}},defaultOptions:[{template:3,styles:3,animations:15}],create:(e,[{template:t=-1,styles:n=-1,animations:s=-1}])=>(t=t>-1?t:3,n=n>-1?n:3,s=s>-1?s:15,{[ae+" Property[key.name='template']"]({value:n}){const s=pe(n);s<=t||e.report({node:n,messageId:"componentMaxInlineDeclarations",data:{lineCount:s,max:t,propertyType:"template"}})},[ae+" Property[key.name='styles']"]({value:t}){if(!b(t))return;const s=t.elements.reduce((e,t)=>e+pe(t),0);s<=n||e.report({node:t,messageId:"componentMaxInlineDeclarations",data:{lineCount:s,max:n,propertyType:"styles"}})},[ae+" Property[key.name='animations']"]({value:t}){if(!b(t)||0===t.elements.length)return;const n=Math.max(t.loc.end.line-t.loc.start.line-2,1);n<=s||e.report({node:t,messageId:"componentMaxInlineDeclarations",data:{lineCount:n,max:s,propertyType:"animations"}})}})});function me(e){if(":"!=e[0])return[null,e];const t=e.indexOf(":",1);if(-1==t)throw new Error(`Unsupported format "${e}" expecting ":namespace:name"`);return[e.slice(1,t),e.slice(t+1)]}function ge(e){return"ng-container"===me(e)[1]}function fe(e){return"ng-content"===me(e)[1]}function ve(e){return null===e?null:me(e)[0]}function ye(e,t){return e?`:${e}:${t}`:t}!function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(he||(he={}));const xe={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",alefsym:"ℵ",Alpha:"Α",alpha:"α",amp:"&",and:"∧",ang:"∠",apos:"'",Aring:"Å",aring:"å",asymp:"≈",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",bdquo:"„",Beta:"Β",beta:"β",brvbar:"¦",bull:"•",cap:"∩",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",Chi:"Χ",chi:"χ",circ:"ˆ",clubs:"♣",cong:"≅",copy:"©",crarr:"↵",cup:"∪",curren:"¤",dagger:"†",Dagger:"‡",darr:"↓",dArr:"⇓",deg:"°",Delta:"Δ",delta:"δ",diams:"♦",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",empty:"∅",emsp:" ",ensp:" ",Epsilon:"Ε",epsilon:"ε",equiv:"≡",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",exist:"∃",fnof:"ƒ",forall:"∀",frac12:"½",frac14:"¼",frac34:"¾",frasl:"⁄",Gamma:"Γ",gamma:"γ",ge:"≥",gt:">",harr:"↔",hArr:"⇔",hearts:"♥",hellip:"…",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",image:"ℑ",infin:"∞",int:"∫",Iota:"Ι",iota:"ι",iquest:"¿",isin:"∈",Iuml:"Ï",iuml:"ï",Kappa:"Κ",kappa:"κ",Lambda:"Λ",lambda:"λ",lang:"⟨",laquo:"«",larr:"←",lArr:"⇐",lceil:"⌈",ldquo:"“",le:"≤",lfloor:"⌊",lowast:"∗",loz:"◊",lrm:"‎",lsaquo:"‹",lsquo:"‘",lt:"<",macr:"¯",mdash:"—",micro:"µ",middot:"·",minus:"−",Mu:"Μ",mu:"μ",nabla:"∇",nbsp:" ",ndash:"–",ne:"≠",ni:"∋",not:"¬",notin:"∉",nsub:"⊄",Ntilde:"Ñ",ntilde:"ñ",Nu:"Ν",nu:"ν",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",OElig:"Œ",oelig:"œ",Ograve:"Ò",ograve:"ò",oline:"‾",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",oplus:"⊕",or:"∨",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",otimes:"⊗",Ouml:"Ö",ouml:"ö",para:"¶",permil:"‰",perp:"⊥",Phi:"Φ",phi:"φ",Pi:"Π",pi:"π",piv:"ϖ",plusmn:"±",pound:"£",prime:"′",Prime:"″",prod:"∏",prop:"∝",Psi:"Ψ",psi:"ψ",quot:'"',radic:"√",rang:"⟩",raquo:"»",rarr:"→",rArr:"⇒",rceil:"⌉",rdquo:"”",real:"ℜ",reg:"®",rfloor:"⌋",Rho:"Ρ",rho:"ρ",rlm:"‏",rsaquo:"›",rsquo:"’",sbquo:"‚",Scaron:"Š",scaron:"š",sdot:"⋅",sect:"§",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sim:"∼",spades:"♠",sub:"⊂",sube:"⊆",sum:"∑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supe:"⊇",szlig:"ß",Tau:"Τ",tau:"τ",there4:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thinsp:" ",THORN:"Þ",thorn:"þ",tilde:"˜",times:"×",trade:"™",Uacute:"Ú",uacute:"ú",uarr:"↑",uArr:"⇑",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",Uuml:"Ü",uuml:"ü",weierp:"℘",Xi:"Ξ",xi:"ξ",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ",Yuml:"Ÿ",Zeta:"Ζ",zeta:"ζ",zwj:"‍",zwnj:"‌",ngsp:""};class Se{constructor({closedByChildren:e,implicitNamespacePrefix:t,contentType:n=he.PARSABLE_DATA,closedByParent:s=!1,isVoid:r=!1,ignoreFirstLf:i=!1,preventNamespaceInheritance:a=!1}={}){this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,e&&e.length>0&&e.forEach(e=>this.closedByChildren[e]=!0),this.isVoid=r,this.closedByParent=s||r,this.implicitNamespacePrefix=t||null,this.contentType=n,this.ignoreFirstLf=i,this.preventNamespaceInheritance=a}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){if("object"==typeof this.contentType){const t=null==e?void 0:this.contentType[e];return null!=t?t:this.contentType.default}return this.contentType}}let Ee,_e;function we(e){var t,n;return _e||(Ee=new Se,_e={base:new Se({isVoid:!0}),meta:new Se({isVoid:!0}),area:new Se({isVoid:!0}),embed:new Se({isVoid:!0}),link:new Se({isVoid:!0}),img:new Se({isVoid:!0}),input:new Se({isVoid:!0}),param:new Se({isVoid:!0}),hr:new Se({isVoid:!0}),br:new Se({isVoid:!0}),source:new Se({isVoid:!0}),track:new Se({isVoid:!0}),wbr:new Se({isVoid:!0}),p:new Se({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new Se({closedByChildren:["tbody","tfoot"]}),tbody:new Se({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new Se({closedByChildren:["tbody"],closedByParent:!0}),tr:new Se({closedByChildren:["tr"],closedByParent:!0}),td:new Se({closedByChildren:["td","th"],closedByParent:!0}),th:new Se({closedByChildren:["td","th"],closedByParent:!0}),col:new Se({isVoid:!0}),svg:new Se({implicitNamespacePrefix:"svg"}),foreignObject:new Se({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new Se({implicitNamespacePrefix:"math"}),li:new Se({closedByChildren:["li"],closedByParent:!0}),dt:new Se({closedByChildren:["dt","dd"]}),dd:new Se({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new Se({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new Se({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new Se({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new Se({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new Se({closedByChildren:["optgroup"],closedByParent:!0}),option:new Se({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new Se({ignoreFirstLf:!0}),listing:new Se({ignoreFirstLf:!0}),style:new Se({contentType:he.RAW_TEXT}),script:new Se({contentType:he.RAW_TEXT}),title:new Se({contentType:{default:he.ESCAPABLE_RAW_TEXT,svg:he.PARSABLE_DATA}}),textarea:new Se({contentType:he.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),null!==(n=null!==(t=_e[e])&&void 0!==t?t:_e[e.toLowerCase()])&&void 0!==n?n:Ee}const Ce=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class be{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){const t=[],n=(e,t)=>{t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)};let s,r=new be,i=r,a=!1;for(Ce.lastIndex=0;s=Ce.exec(e);){if(s[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,i=new be,r.notSelectors.push(i)}const e=s[2];if(e){const t=s[3];"#"===t?i.addAttribute("id",e.substr(1)):"."===t?i.addClassName(e.substr(1)):i.setElement(e)}const o=s[4];if(o&&i.addAttribute(o,s[6]),s[7]&&(a=!1,i=r),s[8]){if(a)throw new Error("Multiple selectors in :not are not supported");n(t,r),r=i=new be}}return n(t,r),t}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getMatchingElementTemplate(){const e=this.element||"div",t=this.classNames.length>0?` class="${this.classNames.join(" ")}"`:"";let n="";for(let e=0;e<this.attrs.length;e+=2)n+=` ${this.attrs[e]}${""!==this.attrs[e+1]?`="${this.attrs[e+1]}"`:""}`;return we(e).isVoid?`<${e}${t}${n}/>`:`<${e}${t}${n}></${e}>`}getAttrs(){const e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+="."+t),this.attrs)for(let t=0;t<this.attrs.length;t+=2){const n=this.attrs[t+1];e+=`[${this.attrs[t]}${n?"="+n:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}}class Ie{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(e){const t=new Ie;return t.addSelectables(e,null),t}addSelectables(e,t){let n=null;e.length>1&&(n=new Te(e),this._listContexts.push(n));for(let s=0;s<e.length;s++)this._addSelectable(e[s],t,n)}_addSelectable(e,t,n){let s=this;const r=e.element,i=e.classNames,a=e.attrs,o=new Ne(e,t,n);if(r&&(0===a.length&&0===i.length?this._addTerminal(s._elementMap,r,o):s=this._addPartial(s._elementPartialMap,r)),i)for(let e=0;e<i.length;e++){const t=i[e];0===a.length&&e===i.length-1?this._addTerminal(s._classMap,t,o):s=this._addPartial(s._classPartialMap,t)}if(a)for(let e=0;e<a.length;e+=2){const t=a[e],n=a[e+1];if(e===a.length-2){const e=s._attrValueMap;let r=e.get(t);r||(r=new Map,e.set(t,r)),this._addTerminal(r,n,o)}else{const e=s._attrValuePartialMap;let r=e.get(t);r||(r=new Map,e.set(t,r)),s=this._addPartial(r,n)}}}_addTerminal(e,t,n){let s=e.get(t);s||(s=[],e.set(t,s)),s.push(n)}_addPartial(e,t){let n=e.get(t);return n||(n=new Ie,e.set(t,n)),n}match(e,t){let n=!1;const s=e.element,r=e.classNames,i=e.attrs;for(let e=0;e<this._listContexts.length;e++)this._listContexts[e].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,s,e,t)||n,n=this._matchPartial(this._elementPartialMap,s,e,t)||n,r)for(let s=0;s<r.length;s++){const i=r[s];n=this._matchTerminal(this._classMap,i,e,t)||n,n=this._matchPartial(this._classPartialMap,i,e,t)||n}if(i)for(let s=0;s<i.length;s+=2){const r=i[s],a=i[s+1],o=this._attrValueMap.get(r);a&&(n=this._matchTerminal(o,"",e,t)||n),n=this._matchTerminal(o,a,e,t)||n;const l=this._attrValuePartialMap.get(r);a&&(n=this._matchPartial(l,"",e,t)||n),n=this._matchPartial(l,a,e,t)||n}return n}_matchTerminal(e,t,n,s){if(!e||"string"!=typeof t)return!1;let r=e.get(t)||[];const i=e.get("*");if(i&&(r=r.concat(i)),0===r.length)return!1;let a,o=!1;for(let e=0;e<r.length;e++)a=r[e],o=a.finalize(n,s)||o;return o}_matchPartial(e,t,n,s){if(!e||"string"!=typeof t)return!1;const r=e.get(t);return!!r&&r.match(n,s)}}class Te{constructor(e){this.selectors=e,this.alreadyMatched=!1}}class Ne{constructor(e,t,n){this.selector=e,this.cbContext=t,this.listContext=n,this.notSelectors=e.notSelectors}finalize(e,t){let n=!0;return!(this.notSelectors.length>0)||this.listContext&&this.listContext.alreadyMatched||(n=!Ie.createNotMatcher(this.notSelectors).match(e,null)),!n||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n}}var Ae,Pe,ke,Oe,Me,Le;function Re(e){const t=function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return[e.element&&"*"!==e.element?e.element:"",...e.attrs,...t]}(e),n=e.notSelectors&&e.notSelectors.length?e.notSelectors.map(e=>function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return e.element?[5,e.element,...e.attrs,...t]:e.attrs.length?[3,...e.attrs,...t]:e.classNames&&e.classNames.length?[9,...e.classNames]:[]}(e)):[];return t.concat(...n)}function De(e){return e?be.parse(e).map(Re):[]}!function(e){e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(Ae||(Ae={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(Pe||(Pe={})),function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(ke||(ke={})),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}(Oe||(Oe={})),function(e){e[e.Const=0]="Const"}(Me||(Me={}));class Fe{constructor(e=[]){this.modifiers=e}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function",e[e.Inferred=6]="Inferred",e[e.None=7]="None"}(Le||(Le={}));class Be extends Fe{constructor(e,t){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}}class $e extends Fe{constructor(e,t,n=null){super(t),this.value=e,this.typeParams=n}visitType(e,t){return e.visitExpressionType(this,t)}}const Ve=new Be(Le.Dynamic),je=new Be(Le.Inferred),Ue=new Be(Le.Bool),qe=(new Be(Le.Int),new Be(Le.Number)),He=new Be(Le.String),We=(new Be(Le.Function),new Be(Le.None));var ze,Ke,Xe,Ge;function Qe(e,t,n){const s=e.length;if(s!==t.length)return!1;for(let r=0;r<s;r++)if(!n(e[r],t[r]))return!1;return!0}function Ye(e,t){return Qe(e,t,(e,t)=>e.isEquivalent(t))}!function(e){e[e.Minus=0]="Minus",e[e.Plus=1]="Plus"}(ze||(ze={})),function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.BitwiseAnd=11]="BitwiseAnd",e[e.Lower=12]="Lower",e[e.LowerEquals=13]="LowerEquals",e[e.Bigger=14]="Bigger",e[e.BiggerEquals=15]="BiggerEquals"}(Ke||(Ke={}));class Ze{constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new At(this,e,null,t)}key(e,t,n){return new Pt(this,e,t,n)}callMethod(e,t,n){return new it(this,e,t,null,n)}callFn(e,t,n){return new at(this,e,null,t,n)}instantiate(e,t,n){return new lt(this,e,t,n)}conditional(e,t=null,n){return new Et(this,e,t,null,n)}equals(e,t){return new Nt(Ke.Equals,this,e,null,t)}notEquals(e,t){return new Nt(Ke.NotEquals,this,e,null,t)}identical(e,t){return new Nt(Ke.Identical,this,e,null,t)}notIdentical(e,t){return new Nt(Ke.NotIdentical,this,e,null,t)}minus(e,t){return new Nt(Ke.Minus,this,e,null,t)}plus(e,t){return new Nt(Ke.Plus,this,e,null,t)}divide(e,t){return new Nt(Ke.Divide,this,e,null,t)}multiply(e,t){return new Nt(Ke.Multiply,this,e,null,t)}modulo(e,t){return new Nt(Ke.Modulo,this,e,null,t)}and(e,t){return new Nt(Ke.And,this,e,null,t)}bitwiseAnd(e,t,n=!0){return new Nt(Ke.BitwiseAnd,this,e,null,t,n)}or(e,t){return new Nt(Ke.Or,this,e,null,t)}lower(e,t){return new Nt(Ke.Lower,this,e,null,t)}lowerEquals(e,t){return new Nt(Ke.LowerEquals,this,e,null,t)}bigger(e,t){return new Nt(Ke.Bigger,this,e,null,t)}biggerEquals(e,t){return new Nt(Ke.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(Rt,e)}cast(e,t){return new Ct(this,e,t)}toStmt(){return new jt(this,null)}}!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(Xe||(Xe={}));class Je extends Ze{constructor(e,t,n){super(t,n),"string"==typeof e?(this.name=e,this.builtin=null):(this.name=null,this.builtin=e)}isEquivalent(e){return e instanceof Je&&this.name===e.name&&this.builtin===e.builtin}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}set(e){if(!this.name)throw new Error(`Built in variable ${this.builtin} can not be assigned to.`);return new nt(this.name,e,null,this.sourceSpan)}}class et extends Ze{constructor(e,t,n){super(t,n),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof et&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}}class tt extends Ze{constructor(e,t,n){super(t,n),this.node=e}isEquivalent(e){return e instanceof tt&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}}class nt extends Ze{constructor(e,t,n,s){super(n||t.type,s),this.name=e,this.value=t}isEquivalent(e){return e instanceof nt&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteVarExpr(this,t)}toDeclStmt(e,t){return new $t(this.name,this.value,e,t,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(je,[Dt.Final])}}class st extends Ze{constructor(e,t,n,s,r){super(s||n.type,r),this.receiver=e,this.index=t,this.value=n}isEquivalent(e){return e instanceof st&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteKeyExpr(this,t)}}class rt extends Ze{constructor(e,t,n,s,r){super(s||n.type,r),this.receiver=e,this.name=t,this.value=n}isEquivalent(e){return e instanceof rt&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWritePropExpr(this,t)}}!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind"}(Ge||(Ge={}));class it extends Ze{constructor(e,t,n,s,r){super(s,r),this.receiver=e,this.args=n,"string"==typeof t?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}isEquivalent(e){return e instanceof it&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&Ye(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeMethodExpr(this,t)}}class at extends Ze{constructor(e,t,n,s,r=!1){super(n,s),this.fn=e,this.args=t,this.pure=r}isEquivalent(e){return e instanceof at&&this.fn.isEquivalent(e.fn)&&Ye(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}}class ot extends Ze{constructor(e,t,n,s){super(n,s),this.tag=e,this.template=t}isEquivalent(e){return e instanceof ot&&this.tag.isEquivalent(e.tag)&&Qe(this.template.elements,e.template.elements,(e,t)=>e.text===t.text)&&Ye(this.template.expressions,e.template.expressions)}isConstant(){return!1}visitExpression(e,t){return e.visitTaggedTemplateExpr(this,t)}}class lt extends Ze{constructor(e,t,n,s){super(n,s),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof lt&&this.classExpr.isEquivalent(e.classExpr)&&Ye(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}}class ct extends Ze{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof ct&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}}class ut{constructor(e,t){this.elements=e,this.expressions=t}}class pt{constructor(e,t,n){var s;this.text=e,this.sourceSpan=t,this.rawText=null!==(s=null!=n?n:null==t?void 0:t.toString())&&void 0!==s?s:yt(ft(e))}}class ht{constructor(e,t){this.text=e,this.sourceSpan=t}}class dt extends ht{}class mt extends ht{}class gt extends Ze{constructor(e,t,n,s,r){super(He,r),this.metaBlock=e,this.messageParts=t,this.placeHolderNames=n,this.expressions=s}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,t){return e.visitLocalizedString(this,t)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}|${e}`),this.metaBlock.customId&&(e=`${e}@@${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(t=>{e=`${e}␟${t}`}),xt(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){var t,n;return null!==(n=null===(t=this.messageParts[e])||void 0===t?void 0:t.sourceSpan)&&void 0!==n?n:this.sourceSpan}getPlaceholderSourceSpan(e){var t,n,s,r;return null!==(r=null!==(n=null===(t=this.placeHolderNames[e])||void 0===t?void 0:t.sourceSpan)&&void 0!==n?n:null===(s=this.expressions[e])||void 0===s?void 0:s.sourceSpan)&&void 0!==r?r:this.sourceSpan}serializeI18nTemplatePart(e){return xt(this.placeHolderNames[e-1].text,this.messageParts[e].text,this.getMessagePartSourceSpan(e))}}const ft=e=>e.replace(/\\/g,"\\\\"),vt=e=>e.replace(/:/g,"\\:"),yt=e=>e.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function xt(e,t,n){return""===e?{cooked:t,raw:yt((s=ft(t),s.replace(/^:/,"\\:"))),range:n}:{cooked:`:${e}:${t}`,raw:yt(`:${vt(ft(e))}:${ft(t)}`),range:n};var s}class St extends Ze{constructor(e,t,n=null,s){super(t,s),this.value=e,this.typeParams=n}isEquivalent(e){return e instanceof St&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}}class Et extends Ze{constructor(e,t,n=null,s,r){super(s||t.type,r),this.condition=e,this.falseCase=n,this.trueCase=t}isEquivalent(e){return e instanceof Et&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&(n=e.falseCase,null==(t=this.falseCase)||null==n?t==n:t.isEquivalent(n));var t,n}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}}class _t extends Ze{constructor(e,t){super(Ue,t),this.condition=e}isEquivalent(e){return e instanceof _t&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}}class wt extends Ze{constructor(e,t){super(e.type,t),this.condition=e}isEquivalent(e){return e instanceof wt&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitAssertNotNullExpr(this,t)}}class Ct extends Ze{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof Ct&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitCastExpr(this,t)}}class bt{constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}}class It extends Ze{constructor(e,t,n,s,r){super(n,s),this.params=e,this.statements=t,this.name=r}isEquivalent(e){return e instanceof It&&Ye(this.params,e.params)&&Ye(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t){return new Vt(e,this.params,this.statements,this.type,t,this.sourceSpan)}}class Tt extends Ze{constructor(e,t,n,s,r=!0){super(n||qe,s),this.operator=e,this.expr=t,this.parens=r}isEquivalent(e){return e instanceof Tt&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,t){return e.visitUnaryOperatorExpr(this,t)}}class Nt extends Ze{constructor(e,t,n,s,r,i=!0){super(s||t.type,r),this.operator=e,this.rhs=n,this.parens=i,this.lhs=t}isEquivalent(e){return e instanceof Nt&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}}class At extends Ze{constructor(e,t,n,s){super(n,s),this.receiver=e,this.name=t}isEquivalent(e){return e instanceof At&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new rt(this.receiver,this.name,e,null,this.sourceSpan)}}class Pt extends Ze{constructor(e,t,n,s){super(n,s),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof Pt&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new st(this.receiver,this.index,e,null,this.sourceSpan)}}class kt extends Ze{constructor(e,t,n){super(t,n),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof kt&&Ye(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}}class Ot{constructor(e,t,n){this.key=e,this.value=t,this.quoted=n}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}class Mt extends Ze{constructor(e,t,n){super(t,n),this.entries=e,this.valueType=null,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof Mt&&Ye(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}}new Je(Xe.This,null,null),new Je(Xe.Super,null,null),new Je(Xe.CatchError,null,null),new Je(Xe.CatchStack,null,null);const Lt=new ct(null,null,null),Rt=new ct(null,je,null);var Dt;!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private",e[e.Exported=2]="Exported",e[e.Static=3]="Static"}(Dt||(Dt={}));class Ft extends class{constructor(e,t,n){this.text=e,this.multiline=t,this.trailingNewline=n}toString(){return this.multiline?` ${this.text} `:this.text}}{constructor(e){super("",!0,!0),this.tags=e}toString(){return function(e){if(0===e.length)return"";if(1===e.length&&e[0].tagName&&!e[0].text)return`*${tn(e[0])} `;let t="*\n";for(const n of e)t+=" *",t+=tn(n).replace(/\n/g,"\n * "),t+="\n";return t+=" ",t}(this.tags)}}class Bt{constructor(e=[],t=null,n){this.modifiers=e,this.sourceSpan=t,this.leadingComments=n}hasModifier(e){return-1!==this.modifiers.indexOf(e)}addLeadingComment(e){var t;this.leadingComments=null!==(t=this.leadingComments)&&void 0!==t?t:[],this.leadingComments.push(e)}}class $t extends Bt{constructor(e,t,n,s,r,i){super(s,r,i),this.name=e,this.value=t,this.type=n||t&&t.type||null}isEquivalent(e){return e instanceof $t&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}}class Vt extends Bt{constructor(e,t,n,s,r,i,a){super(r,i,a),this.name=e,this.params=t,this.statements=n,this.type=s||null}isEquivalent(e){return e instanceof Vt&&Ye(this.params,e.params)&&Ye(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}}class jt extends Bt{constructor(e,t,n){super([],t,n),this.expr=e}isEquivalent(e){return e instanceof jt&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}}class Ut extends Bt{constructor(e,t=null,n){super([],t,n),this.value=e}isEquivalent(e){return e instanceof Ut&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}}class qt extends Bt{constructor(e,t,n=[],s,r){super([],s,r),this.condition=e,this.trueCase=t,this.falseCase=n}isEquivalent(e){return e instanceof qt&&this.condition.isEquivalent(e.condition)&&Ye(this.trueCase,e.trueCase)&&Ye(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}}function Ht(e,t,n){return new Je(e,t,n)}function Wt(e,t=null,n){return new St(e,null,t,n)}function zt(e,t,n){return new $e(e,t,n)}function Kt(e){return new et(e)}function Xt(e,t,n){return new kt(e,t,n)}function Gt(e,t=null){return new Mt(e.map(e=>new Ot(e.key,e.value,e.quoted)),t,null)}function Qt(e,t,n,s,r){return new It(e,t,n,s,r)}function Yt(e,t,n,s,r){return new qt(e,t,n,s,r)}function Zt(e,t,n,s){return new ot(e,t,n,s)}function Jt(e,t,n){return new ct(e,t,n)}function en(e){return e instanceof ct&&null===e.value}function tn(e){let t="";if(e.tagName&&(t+=" @"+e.tagName),e.text){if(e.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');t+=" "+e.text.replace(/@/g,"\\@")}return t}const nn=Ht("<unknown>"),sn={};class rn extends Ze{constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===sn?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof rn&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}fixup(e){this.resolved=e,this.shared=!0}}class an{constructor(e=!1){this.isClosureCompilerEnabled=e,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}getConstLiteral(e,t){if(e instanceof ct&&!un(e)||e instanceof rn)return e;const n=this.keyOf(e);let s=this.literals.get(n),r=!1;if(s||(s=new rn(e),this.literals.set(n,s),r=!0),!r&&!s.shared||r&&t){const t=this.freshName();let n,r;this.isClosureCompilerEnabled&&un(e)?(n=Ht(t).set(new It([],[new Ut(e)])),r=Ht(t).callFn([])):(n=Ht(t).set(e),r=Ht(t)),this.statements.push(n.toDeclStmt(je,[Dt.Final])),s.fixup(r)}return s}getDefinition(e,t,n,s=!1){const r=this.definitionsOf(t);let i=r.get(e),a=!1;if(!i){const s=this.propertyNameOf(t);i=new rn(n.importExpr(e).prop(s)),r.set(e,i),a=!0}if(!a&&!i.shared||a&&s){const e=this.freshName();this.statements.push(Ht(e).set(i.resolved).toDeclStmt(je,[Dt.Final])),i.fixup(Ht(e))}return i}getLiteralFactory(e){if(e instanceof kt){const t=e.entries.map(e=>e.isConstant()?e:nn),n=this.keyOf(Xt(t));return this._getLiteralFactory(n,e.entries,e=>Xt(e))}{const t=Gt(e.entries.map(e=>({key:e.key,value:e.value.isConstant()?e.value:nn,quoted:e.quoted}))),n=this.keyOf(t);return this._getLiteralFactory(n,e.entries.map(e=>e.value),t=>Gt(t.map((t,n)=>({key:e.entries[n].key,value:t,quoted:e.entries[n].quoted}))))}}_getLiteralFactory(e,t,n){let s=this.literalFactories.get(e);const r=t.filter(e=>!e.isConstant());if(!s){const r=t.map((e,t)=>e.isConstant()?this.getConstLiteral(e,!0):Ht("a"+t)),i=Qt(r.filter(cn).map(e=>new bt(e.name,Ve)),[new Ut(n(r))],je),a=this.freshName();this.statements.push(Ht(a).set(i).toDeclStmt(je,[Dt.Final])),s=Ht(a),this.literalFactories.set(e,s)}return{literalFactory:s,literalFactoryArguments:r}}uniqueName(e){return`${e}${this.nextNameIndex++}`}definitionsOf(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}}propertyNameOf(e){switch(e){case 2:return"ɵcmp";case 1:return"ɵdir";case 0:return"ɵinj";case 3:return"ɵpipe"}}freshName(){return this.uniqueName("_c")}keyOf(e){return e.visitExpression(new on,sn)}}class on{constructor(){this.visitWrappedNodeExpr=ln,this.visitWriteVarExpr=ln,this.visitWriteKeyExpr=ln,this.visitWritePropExpr=ln,this.visitInvokeMethodExpr=ln,this.visitInvokeFunctionExpr=ln,this.visitTaggedTemplateExpr=ln,this.visitInstantiateExpr=ln,this.visitConditionalExpr=ln,this.visitNotExpr=ln,this.visitAssertNotNullExpr=ln,this.visitCastExpr=ln,this.visitFunctionExpr=ln,this.visitUnaryOperatorExpr=ln,this.visitBinaryOperatorExpr=ln,this.visitReadPropExpr=ln,this.visitReadKeyExpr=ln,this.visitCommaExpr=ln,this.visitLocalizedString=ln}visitLiteralExpr(e){return""+("string"==typeof e.value?'"'+e.value+'"':e.value)}visitLiteralArrayExpr(e,t){return`[${e.entries.map(e=>e.visitExpression(this,t)).join(",")}]`}visitLiteralMapExpr(e,t){return"{"+e.entries.map(e=>`${(e=>{const t=e.quoted?'"':"";return`${t}${e.key}${t}`})(e)}:${e.value.visitExpression(this,t)}`).join(",")}visitExternalExpr(e){return e.value.moduleName?`EX:${e.value.moduleName}:${e.value.name}`:"EX:"+e.value.runtime.name}visitReadVarExpr(e){return"VAR:"+e.name}visitTypeofExpr(e,t){return"TYPEOF:"+e.expr.visitExpression(this,t)}}function ln(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function cn(e){return e instanceof Je}function un(e){return e instanceof ct&&"string"==typeof e.value&&e.value.length>=50}const pn="@angular/core";class hn{}hn.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:pn},hn.ElementRef={name:"ElementRef",moduleName:pn},hn.NgModuleRef={name:"NgModuleRef",moduleName:pn},hn.ViewContainerRef={name:"ViewContainerRef",moduleName:pn},hn.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:pn},hn.QueryList={name:"QueryList",moduleName:pn},hn.TemplateRef={name:"TemplateRef",moduleName:pn},hn.Renderer2={name:"Renderer2",moduleName:pn},hn.CodegenComponentFactoryResolver={name:"ɵCodegenComponentFactoryResolver",moduleName:pn},hn.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:pn},hn.ComponentFactory={name:"ComponentFactory",moduleName:pn},hn.ComponentRef={name:"ComponentRef",moduleName:pn},hn.NgModuleFactory={name:"NgModuleFactory",moduleName:pn},hn.createModuleFactory={name:"ɵcmf",moduleName:pn},hn.moduleDef={name:"ɵmod",moduleName:pn},hn.moduleProviderDef={name:"ɵmpd",moduleName:pn},hn.RegisterModuleFactoryFn={name:"ɵregisterModuleFactory",moduleName:pn},hn.inject={name:"ɵɵinject",moduleName:pn},hn.directiveInject={name:"ɵɵdirectiveInject",moduleName:pn},hn.INJECTOR={name:"INJECTOR",moduleName:pn},hn.Injector={name:"Injector",moduleName:pn},hn.ɵɵdefineInjectable={name:"ɵɵdefineInjectable",moduleName:pn},hn.InjectableDef={name:"ɵɵInjectableDef",moduleName:pn},hn.ViewEncapsulation={name:"ViewEncapsulation",moduleName:pn},hn.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:pn},hn.SecurityContext={name:"SecurityContext",moduleName:pn},hn.LOCALE_ID={name:"LOCALE_ID",moduleName:pn},hn.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:pn},hn.inlineInterpolate={name:"ɵinlineInterpolate",moduleName:pn},hn.interpolate={name:"ɵinterpolate",moduleName:pn},hn.EMPTY_ARRAY={name:"ɵEMPTY_ARRAY",moduleName:pn},hn.EMPTY_MAP={name:"ɵEMPTY_MAP",moduleName:pn},hn.Renderer={name:"Renderer",moduleName:pn},hn.viewDef={name:"ɵvid",moduleName:pn},hn.elementDef={name:"ɵeld",moduleName:pn},hn.anchorDef={name:"ɵand",moduleName:pn},hn.textDef={name:"ɵted",moduleName:pn},hn.directiveDef={name:"ɵdid",moduleName:pn},hn.providerDef={name:"ɵprd",moduleName:pn},hn.queryDef={name:"ɵqud",moduleName:pn},hn.pureArrayDef={name:"ɵpad",moduleName:pn},hn.pureObjectDef={name:"ɵpod",moduleName:pn},hn.purePipeDef={name:"ɵppd",moduleName:pn},hn.pipeDef={name:"ɵpid",moduleName:pn},hn.nodeValue={name:"ɵnov",moduleName:pn},hn.ngContentDef={name:"ɵncd",moduleName:pn},hn.unwrapValue={name:"ɵunv",moduleName:pn},hn.createRendererType2={name:"ɵcrt",moduleName:pn},hn.RendererType2={name:"RendererType2",moduleName:pn},hn.ViewDefinition={name:"ɵViewDefinition",moduleName:pn},hn.createComponentFactory={name:"ɵccf",moduleName:pn},hn.setClassMetadata={name:"ɵsetClassMetadata",moduleName:pn};const dn=/-+([a-z0-9])/g;function mn(e,t){return gn(e,":",t)}function gn(e,t,n){const s=e.indexOf(t);return-1==s?n:[e.slice(0,s).trim(),e.slice(s+1).trim()]}function fn(e){throw new Error("Internal Error: "+e)}function vn(e){let t=[];for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s>=55296&&s<=56319&&e.length>n+1){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(n++,s=(s-55296<<10)+t-56320+65536)}s<=127?t.push(s):s<=2047?t.push(s>>6&31|192,63&s|128):s<=65535?t.push(s>>12|224,s>>6&63|128,63&s|128):s<=2097151&&t.push(s>>18&7|240,s>>12&63|128,s>>6&63|128,63&s|128)}return t}function yn(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(yn).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;if(!e.toString)return"object";const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const xn="undefined"!=typeof window&&window,Sn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,En="undefined"!=typeof global&&global||xn||Sn;function _n(e){return e.replace(/\W/g,"_")}let wn=0;var Cn;!function(e){e[e.Pipe=0]="Pipe",e[e.Directive=1]="Directive",e[e.NgModule=2]="NgModule",e[e.Injectable=3]="Injectable"}(Cn||(Cn={}));const bn="@angular/core";class In{}In.NEW_METHOD="factory",In.TRANSFORM_METHOD="transform",In.PATCH_DEPS="patchedDeps",In.core={name:null,moduleName:bn},In.namespaceHTML={name:"ɵɵnamespaceHTML",moduleName:bn},In.namespaceMathML={name:"ɵɵnamespaceMathML",moduleName:bn},In.namespaceSVG={name:"ɵɵnamespaceSVG",moduleName:bn},In.element={name:"ɵɵelement",moduleName:bn},In.elementStart={name:"ɵɵelementStart",moduleName:bn},In.elementEnd={name:"ɵɵelementEnd",moduleName:bn},In.advance={name:"ɵɵadvance",moduleName:bn},In.syntheticHostProperty={name:"ɵɵsyntheticHostProperty",moduleName:bn},In.syntheticHostListener={name:"ɵɵsyntheticHostListener",moduleName:bn},In.attribute={name:"ɵɵattribute",moduleName:bn},In.attributeInterpolate1={name:"ɵɵattributeInterpolate1",moduleName:bn},In.attributeInterpolate2={name:"ɵɵattributeInterpolate2",moduleName:bn},In.attributeInterpolate3={name:"ɵɵattributeInterpolate3",moduleName:bn},In.attributeInterpolate4={name:"ɵɵattributeInterpolate4",moduleName:bn},In.attributeInterpolate5={name:"ɵɵattributeInterpolate5",moduleName:bn},In.attributeInterpolate6={name:"ɵɵattributeInterpolate6",moduleName:bn},In.attributeInterpolate7={name:"ɵɵattributeInterpolate7",moduleName:bn},In.attributeInterpolate8={name:"ɵɵattributeInterpolate8",moduleName:bn},In.attributeInterpolateV={name:"ɵɵattributeInterpolateV",moduleName:bn},In.classProp={name:"ɵɵclassProp",moduleName:bn},In.elementContainerStart={name:"ɵɵelementContainerStart",moduleName:bn},In.elementContainerEnd={name:"ɵɵelementContainerEnd",moduleName:bn},In.elementContainer={name:"ɵɵelementContainer",moduleName:bn},In.styleMap={name:"ɵɵstyleMap",moduleName:bn},In.styleMapInterpolate1={name:"ɵɵstyleMapInterpolate1",moduleName:bn},In.styleMapInterpolate2={name:"ɵɵstyleMapInterpolate2",moduleName:bn},In.styleMapInterpolate3={name:"ɵɵstyleMapInterpolate3",moduleName:bn},In.styleMapInterpolate4={name:"ɵɵstyleMapInterpolate4",moduleName:bn},In.styleMapInterpolate5={name:"ɵɵstyleMapInterpolate5",moduleName:bn},In.styleMapInterpolate6={name:"ɵɵstyleMapInterpolate6",moduleName:bn},In.styleMapInterpolate7={name:"ɵɵstyleMapInterpolate7",moduleName:bn},In.styleMapInterpolate8={name:"ɵɵstyleMapInterpolate8",moduleName:bn},In.styleMapInterpolateV={name:"ɵɵstyleMapInterpolateV",moduleName:bn},In.classMap={name:"ɵɵclassMap",moduleName:bn},In.classMapInterpolate1={name:"ɵɵclassMapInterpolate1",moduleName:bn},In.classMapInterpolate2={name:"ɵɵclassMapInterpolate2",moduleName:bn},In.classMapInterpolate3={name:"ɵɵclassMapInterpolate3",moduleName:bn},In.classMapInterpolate4={name:"ɵɵclassMapInterpolate4",moduleName:bn},In.classMapInterpolate5={name:"ɵɵclassMapInterpolate5",moduleName:bn},In.classMapInterpolate6={name:"ɵɵclassMapInterpolate6",moduleName:bn},In.classMapInterpolate7={name:"ɵɵclassMapInterpolate7",moduleName:bn},In.classMapInterpolate8={name:"ɵɵclassMapInterpolate8",moduleName:bn},In.classMapInterpolateV={name:"ɵɵclassMapInterpolateV",moduleName:bn},In.styleProp={name:"ɵɵstyleProp",moduleName:bn},In.stylePropInterpolate1={name:"ɵɵstylePropInterpolate1",moduleName:bn},In.stylePropInterpolate2={name:"ɵɵstylePropInterpolate2",moduleName:bn},In.stylePropInterpolate3={name:"ɵɵstylePropInterpolate3",moduleName:bn},In.stylePropInterpolate4={name:"ɵɵstylePropInterpolate4",moduleName:bn},In.stylePropInterpolate5={name:"ɵɵstylePropInterpolate5",moduleName:bn},In.stylePropInterpolate6={name:"ɵɵstylePropInterpolate6",moduleName:bn},In.stylePropInterpolate7={name:"ɵɵstylePropInterpolate7",moduleName:bn},In.stylePropInterpolate8={name:"ɵɵstylePropInterpolate8",moduleName:bn},In.stylePropInterpolateV={name:"ɵɵstylePropInterpolateV",moduleName:bn},In.nextContext={name:"ɵɵnextContext",moduleName:bn},In.templateCreate={name:"ɵɵtemplate",moduleName:bn},In.text={name:"ɵɵtext",moduleName:bn},In.enableBindings={name:"ɵɵenableBindings",moduleName:bn},In.disableBindings={name:"ɵɵdisableBindings",moduleName:bn},In.getCurrentView={name:"ɵɵgetCurrentView",moduleName:bn},In.textInterpolate={name:"ɵɵtextInterpolate",moduleName:bn},In.textInterpolate1={name:"ɵɵtextInterpolate1",moduleName:bn},In.textInterpolate2={name:"ɵɵtextInterpolate2",moduleName:bn},In.textInterpolate3={name:"ɵɵtextInterpolate3",moduleName:bn},In.textInterpolate4={name:"ɵɵtextInterpolate4",moduleName:bn},In.textInterpolate5={name:"ɵɵtextInterpolate5",moduleName:bn},In.textInterpolate6={name:"ɵɵtextInterpolate6",moduleName:bn},In.textInterpolate7={name:"ɵɵtextInterpolate7",moduleName:bn},In.textInterpolate8={name:"ɵɵtextInterpolate8",moduleName:bn},In.textInterpolateV={name:"ɵɵtextInterpolateV",moduleName:bn},In.restoreView={name:"ɵɵrestoreView",moduleName:bn},In.pureFunction0={name:"ɵɵpureFunction0",moduleName:bn},In.pureFunction1={name:"ɵɵpureFunction1",moduleName:bn},In.pureFunction2={name:"ɵɵpureFunction2",moduleName:bn},In.pureFunction3={name:"ɵɵpureFunction3",moduleName:bn},In.pureFunction4={name:"ɵɵpureFunction4",moduleName:bn},In.pureFunction5={name:"ɵɵpureFunction5",moduleName:bn},In.pureFunction6={name:"ɵɵpureFunction6",moduleName:bn},In.pureFunction7={name:"ɵɵpureFunction7",moduleName:bn},In.pureFunction8={name:"ɵɵpureFunction8",moduleName:bn},In.pureFunctionV={name:"ɵɵpureFunctionV",moduleName:bn},In.pipeBind1={name:"ɵɵpipeBind1",moduleName:bn},In.pipeBind2={name:"ɵɵpipeBind2",moduleName:bn},In.pipeBind3={name:"ɵɵpipeBind3",moduleName:bn},In.pipeBind4={name:"ɵɵpipeBind4",moduleName:bn},In.pipeBindV={name:"ɵɵpipeBindV",moduleName:bn},In.hostProperty={name:"ɵɵhostProperty",moduleName:bn},In.property={name:"ɵɵproperty",moduleName:bn},In.propertyInterpolate={name:"ɵɵpropertyInterpolate",moduleName:bn},In.propertyInterpolate1={name:"ɵɵpropertyInterpolate1",moduleName:bn},In.propertyInterpolate2={name:"ɵɵpropertyInterpolate2",moduleName:bn},In.propertyInterpolate3={name:"ɵɵpropertyInterpolate3",moduleName:bn},In.propertyInterpolate4={name:"ɵɵpropertyInterpolate4",moduleName:bn},In.propertyInterpolate5={name:"ɵɵpropertyInterpolate5",moduleName:bn},In.propertyInterpolate6={name:"ɵɵpropertyInterpolate6",moduleName:bn},In.propertyInterpolate7={name:"ɵɵpropertyInterpolate7",moduleName:bn},In.propertyInterpolate8={name:"ɵɵpropertyInterpolate8",moduleName:bn},In.propertyInterpolateV={name:"ɵɵpropertyInterpolateV",moduleName:bn},In.i18n={name:"ɵɵi18n",moduleName:bn},In.i18nAttributes={name:"ɵɵi18nAttributes",moduleName:bn},In.i18nExp={name:"ɵɵi18nExp",moduleName:bn},In.i18nStart={name:"ɵɵi18nStart",moduleName:bn},In.i18nEnd={name:"ɵɵi18nEnd",moduleName:bn},In.i18nApply={name:"ɵɵi18nApply",moduleName:bn},In.i18nPostprocess={name:"ɵɵi18nPostprocess",moduleName:bn},In.pipe={name:"ɵɵpipe",moduleName:bn},In.projection={name:"ɵɵprojection",moduleName:bn},In.projectionDef={name:"ɵɵprojectionDef",moduleName:bn},In.reference={name:"ɵɵreference",moduleName:bn},In.inject={name:"ɵɵinject",moduleName:bn},In.injectAttribute={name:"ɵɵinjectAttribute",moduleName:bn},In.injectPipeChangeDetectorRef={name:"ɵɵinjectPipeChangeDetectorRef",moduleName:bn},In.directiveInject={name:"ɵɵdirectiveInject",moduleName:bn},In.invalidFactory={name:"ɵɵinvalidFactory",moduleName:bn},In.invalidFactoryDep={name:"ɵɵinvalidFactoryDep",moduleName:bn},In.templateRefExtractor={name:"ɵɵtemplateRefExtractor",moduleName:bn},In.forwardRef={name:"forwardRef",moduleName:bn},In.resolveForwardRef={name:"resolveForwardRef",moduleName:bn},In.resolveWindow={name:"ɵɵresolveWindow",moduleName:bn},In.resolveDocument={name:"ɵɵresolveDocument",moduleName:bn},In.resolveBody={name:"ɵɵresolveBody",moduleName:bn},In.defineComponent={name:"ɵɵdefineComponent",moduleName:bn},In.declareComponent={name:"ɵɵngDeclareComponent",moduleName:bn},In.setComponentScope={name:"ɵɵsetComponentScope",moduleName:bn},In.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:bn},In.ViewEncapsulation={name:"ViewEncapsulation",moduleName:bn},In.ComponentDefWithMeta={name:"ɵɵComponentDefWithMeta",moduleName:bn},In.FactoryDef={name:"ɵɵFactoryDef",moduleName:bn},In.defineDirective={name:"ɵɵdefineDirective",moduleName:bn},In.declareDirective={name:"ɵɵngDeclareDirective",moduleName:bn},In.DirectiveDefWithMeta={name:"ɵɵDirectiveDefWithMeta",moduleName:bn},In.InjectorDef={name:"ɵɵInjectorDef",moduleName:bn},In.defineInjector={name:"ɵɵdefineInjector",moduleName:bn},In.NgModuleDefWithMeta={name:"ɵɵNgModuleDefWithMeta",moduleName:bn},In.ModuleWithProviders={name:"ModuleWithProviders",moduleName:bn},In.defineNgModule={name:"ɵɵdefineNgModule",moduleName:bn},In.setNgModuleScope={name:"ɵɵsetNgModuleScope",moduleName:bn},In.PipeDefWithMeta={name:"ɵɵPipeDefWithMeta",moduleName:bn},In.definePipe={name:"ɵɵdefinePipe",moduleName:bn},In.declarePipe={name:"ɵɵngDeclarePipe",moduleName:bn},In.queryRefresh={name:"ɵɵqueryRefresh",moduleName:bn},In.viewQuery={name:"ɵɵviewQuery",moduleName:bn},In.loadQuery={name:"ɵɵloadQuery",moduleName:bn},In.contentQuery={name:"ɵɵcontentQuery",moduleName:bn},In.NgOnChangesFeature={name:"ɵɵNgOnChangesFeature",moduleName:bn},In.InheritDefinitionFeature={name:"ɵɵInheritDefinitionFeature",moduleName:bn},In.CopyDefinitionFeature={name:"ɵɵCopyDefinitionFeature",moduleName:bn},In.ProvidersFeature={name:"ɵɵProvidersFeature",moduleName:bn},In.listener={name:"ɵɵlistener",moduleName:bn},In.getFactoryOf={name:"ɵɵgetFactoryOf",moduleName:bn},In.getInheritedFactory={name:"ɵɵgetInheritedFactory",moduleName:bn},In.sanitizeHtml={name:"ɵɵsanitizeHtml",moduleName:bn},In.sanitizeStyle={name:"ɵɵsanitizeStyle",moduleName:bn},In.sanitizeResourceUrl={name:"ɵɵsanitizeResourceUrl",moduleName:bn},In.sanitizeScript={name:"ɵɵsanitizeScript",moduleName:bn},In.sanitizeUrl={name:"ɵɵsanitizeUrl",moduleName:bn},In.sanitizeUrlOrResourceUrl={name:"ɵɵsanitizeUrlOrResourceUrl",moduleName:bn},In.trustConstantHtml={name:"ɵɵtrustConstantHtml",moduleName:bn},In.trustConstantResourceUrl={name:"ɵɵtrustConstantResourceUrl",moduleName:bn};class Tn{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,n,s){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==s))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:s}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const e=new Map,t=[],n=[];Array.from(this.sourcesContent.keys()).forEach((s,r)=>{e.set(s,r),t.push(s),n.push(this.sourcesContent.get(s)||null)});let s="",r=0,i=0,a=0,o=0;return this.lines.forEach(t=>{r=0,s+=t.map(t=>{let n=Nn(t.col0-r);return r=t.col0,null!=t.sourceUrl&&(n+=Nn(e.get(t.sourceUrl)-i),i=e.get(t.sourceUrl),n+=Nn(t.sourceLine0-a),a=t.sourceLine0,n+=Nn(t.sourceCol0-o),o=t.sourceCol0),n}).join(","),s+=";"}),s=s.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:t,sourcesContent:n,mappings:s}}toJsComment(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function(e){let t="";const n=vn(e);for(let e=0;e<n.length;){const s=n[e++],r=e<n.length?n[e++]:null,i=e<n.length?n[e++]:null;t+=An(s>>2),t+=An((3&s)<<4|(null===r?0:r>>4)),t+=null===r?"=":An((15&r)<<2|(null===i?0:i>>6)),t+=null===r||null===i?"=":An(63&i)}return t}(JSON.stringify(this,null,0)):""}}function Nn(e){e=e<0?1+(-e<<1):e<<1;let t="";do{let n=31&e;(e>>=5)>0&&(n|=32),t+=An(n)}while(e>0);return t}function An(e){if(e<0||e>=64)throw new Error("Can only encode value in the range [0, 63]");return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}const Pn=/'|\\|\n|\r|\$/g,kn=/^[$A-Z_][0-9A-Z_$]*$/i,On=Ht("error",null,null),Mn=Ht("stack",null,null);class Ln{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}}class Rn{constructor(e){this._indent=e,this._classes=[],this._preambleLineCount=0,this._lines=[new Ln(e)]}static createRoot(){return new Rn(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return this._currentLine.indent*"  ".length+this._currentLine.partsLength}print(e,t,n=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new Ln(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}pushClass(e){this._classes.push(e)}popClass(){return this._classes.pop()}get currentClass(){return this._classes.length>0?this._classes[this._classes.length-1]:null}toSource(){return this.sourceLines.map(e=>e.parts.length>0?Fn(e.indent)+e.parts.join(""):"").join("\n")}toSourceMapGenerator(e,t=0){const n=new Tn(e);let s=!1;const r=()=>{s||(n.addSource(e," ").addMapping(0,e,0,0),s=!0)};for(let e=0;e<t;e++)n.addLine(),r();return this.sourceLines.forEach((e,t)=>{n.addLine();const i=e.srcSpans,a=e.parts;let o=e.indent*"  ".length,l=0;for(;l<i.length&&!i[l];)o+=a[l].length,l++;for(l<i.length&&0===t&&0===o?s=!0:r();l<i.length;){const e=i[l],t=e.start.file,s=e.start.line,r=e.start.col;for(n.addSource(t.url,t.content).addMapping(o,t.url,s,r),o+=a[l].length,l++;l<i.length&&(e===i[l]||!i[l]);)o+=a[l].length,l++}}),n}setPreambleLineCount(e){return this._preambleLineCount=e}spanOf(e,t){const n=this._lines[e-this._preambleLineCount];if(n){let e=t-Fn(n.indent).length;for(let t=0;t<n.parts.length;t++){const s=n.parts[t];if(s.length>e)return n.srcSpans[t];e-=s.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}function Dn(e,t,n=!0){if(null==e)return null;const s=e.replace(Pn,(...e)=>"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":"\\"+e[0]);return n||!kn.test(s)?`'${s}'`:s}function Fn(e){let t="";for(let n=0;n<e;n++)t+="  ";return t}function Bn(e){return Gt(Object.keys(e).map(t=>({key:t,value:e[t],quoted:!1})))}function $n(e,t){if(0===t)return zt(e);const n=[];for(let e=0;e<t;e++)n.push(Ve);return zt(e,void 0,n)}function Vn(e){return"@"+e}function jn(e,t){const n=Dn(t,!1,!1);return n!==t?`${e}[${n}]`:`${e}.${t}`}function Un(e,t){return`animation_${e}_${t}`}class qn{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}}class Hn{constructor(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}visit(e){return e.visitBoundText(this)}}class Wn{constructor(e,t,n,s,r,i){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=s,this.valueSpan=r,this.i18n=i}visit(e){return e.visitTextAttribute(this)}}class zn{constructor(e,t,n,s,r,i,a,o,l){this.name=e,this.type=t,this.securityContext=n,this.value=s,this.unit=r,this.sourceSpan=i,this.keySpan=a,this.valueSpan=o,this.i18n=l}static fromBoundElementProperty(e,t){if(void 0===e.keySpan)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new zn(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,t)}visit(e){return e.visitBoundAttribute(this)}}class Kn{constructor(e,t,n,s,r,i,a,o){this.name=e,this.type=t,this.handler=n,this.target=s,this.phase=r,this.sourceSpan=i,this.handlerSpan=a,this.keySpan=o}static fromParsedEvent(e){const t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;if(void 0===e.keySpan)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new Kn(e.name,e.type,e.handler,t,n,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}}class Xn{constructor(e,t,n,s,r,i,a,o,l,c){this.name=e,this.attributes=t,this.inputs=n,this.outputs=s,this.children=r,this.references=i,this.sourceSpan=a,this.startSourceSpan=o,this.endSourceSpan=l,this.i18n=c}visit(e){return e.visitElement(this)}}class Gn{constructor(e,t,n,s,r,i,a,o,l,c,u,p){this.tagName=e,this.attributes=t,this.inputs=n,this.outputs=s,this.templateAttrs=r,this.children=i,this.references=a,this.variables=o,this.sourceSpan=l,this.startSourceSpan=c,this.endSourceSpan=u,this.i18n=p}visit(e){return e.visitTemplate(this)}}class Qn{constructor(e,t,n,s){this.selector=e,this.attributes=t,this.sourceSpan=n,this.i18n=s,this.name="ng-content"}visit(e){return e.visitContent(this)}}class Yn{constructor(e,t,n,s,r){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=s,this.valueSpan=r}visit(e){return e.visitVariable(this)}}class Zn{constructor(e,t,n,s,r){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=s,this.valueSpan=r}visit(e){return e.visitReference(this)}}class Jn{constructor(e,t,n,s){this.vars=e,this.placeholders=t,this.sourceSpan=n,this.i18n=s}visit(e){return e.visitIcu(this)}}function es(e,t){const n=[];if(e.visit)for(const n of t)e.visit(n)||n.visit(e);else for(const s of t){const t=s.visit(e);t&&n.push(t)}return n}class ts{constructor(e,t,n,s,r,i){this.nodes=e,this.placeholders=t,this.placeholderToMessage=n,this.meaning=s,this.description=r,this.customId=i,this.id=this.customId,this.legacyIds=[],this.sources=e.length?[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:[]}}class ns{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}}class ss{constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}}class rs{constructor(e,t,n,s){this.expression=e,this.type=t,this.cases=n,this.sourceSpan=s}visit(e,t){return e.visitIcu(this,t)}}class is{constructor(e,t,n,s,r,i,a,o,l){this.tag=e,this.attrs=t,this.startName=n,this.closeName=s,this.children=r,this.isVoid=i,this.sourceSpan=a,this.startSourceSpan=o,this.endSourceSpan=l}visit(e,t){return e.visitTagPlaceholder(this,t)}}class as{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitPlaceholder(this,t)}}class os{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitIcuPlaceholder(this,t)}}class ls{constructor(e){this.digits=e}static zero(){return new ls([0])}static one(){return new ls([1])}clone(){return new ls(this.digits.slice())}add(e){const t=this.clone();return t.addToSelf(e),t}addToSelf(e){const t=Math.max(this.digits.length,e.digits.length);let n=0;for(let s=0;s<t;s++){let t=n;s<this.digits.length&&(t+=this.digits[s]),s<e.digits.length&&(t+=e.digits[s]),t>=10?(this.digits[s]=t-10,n=1):(this.digits[s]=t,n=0)}n>0&&(this.digits[t]=1)}toString(){let e="";for(let t=this.digits.length-1;t>=0;t--)e+=this.digits[t];return e}}class cs{constructor(e){this.powerOfTwos=[e]}getValue(){return this.powerOfTwos[0]}multiplyBy(e){const t=ls.zero();return this.multiplyByAndAddTo(e,t),t}multiplyByAndAddTo(e,t){for(let n=0;0!==e;e>>>=1,n++)if(1&e){const e=this.getMultipliedByPowerOfTwo(n);t.addToSelf(e)}}getMultipliedByPowerOfTwo(e){for(let t=this.powerOfTwos.length;t<=e;t++){const e=this.powerOfTwos[t-1];this.powerOfTwos[t]=e.add(e)}return this.powerOfTwos[e]}}function us(e){return function(e){const t=vn(e),n=function(e,t){const n=e.length+3>>>2,s=[];for(let r=0;r<n;r++)s[r]=bs(e,4*r,t);return s}(t,xs.Big),s=8*t.length,r=function(e,t){const n=[];for(let e=0;e<80;e++)n.push(void 0);return n}();let i=1732584193,a=4023233417,o=2562383102,l=271733878,c=3285377520;n[s>>5]|=128<<24-s%32,n[15+(s+64>>9<<4)]=s;for(let e=0;e<n.length;e+=16){const t=i,s=a,u=o,p=l,h=c;for(let t=0;t<80;t++){r[t]=t<16?n[e+t]:ws(r[t-3]^r[t-8]^r[t-14]^r[t-16],1);const s=gs(t,a,o,l),u=s[0],p=s[1],h=[ws(i,5),u,c,p,r[t]].reduce(Ss);c=l,l=o,o=ws(a,30),a=i,i=h}i=Ss(i,t),a=Ss(a,s),o=Ss(o,u),l=Ss(l,p),c=Ss(c,h)}return function(e){let t="";for(let n=0;n<e.length;n++){const s=Cs(e,n);t+=(s>>>4).toString(16)+(15&s).toString(16)}return t.toLowerCase()}(function(e){return e.reduce((e,t)=>e.concat(function(e){let t=[];for(let n=0;n<4;n++)t.push(e>>>8*(3-n)&255);return t}(t)),[])}([i,a,o,l,c]))}((t=e.nodes,t.map(e=>e.visit(ds,null))).join("")+`[${e.meaning}]`);var t}function ps(e){const t=new ms;return function(e,t=""){let n=fs(e);if(t){const e=fs(t);n=function(e,t){const n=e[0],s=t[0],r=Es(e[1],t[1]),i=r[0],a=r[1];return[Ss(Ss(n,s),i),a]}(function(e,t){const n=e[0],s=e[1];return[n<<1|s>>>31,s<<1|n>>>31]}(n),e)}return function(e,t){const n=Is.toThePowerOf(0).multiplyBy(t);return Is.toThePowerOf(4).multiplyByAndAddTo(e,n),n.toString()}(2147483647&n[0],n[1])}(e.nodes.map(e=>e.visit(t,null)).join(""),e.meaning)}class hs{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(e=>e.visit(this)).join(", ")}]`}visitIcu(e,t){const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.expression}, ${e.type}, ${n.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(e=>e.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}}const ds=new hs;class ms extends hs{visitIcu(e,t){let n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}}function gs(e,t,n,s){return e<20?[t&n|~t&s,1518500249]:e<40?[t^n^s,1859775393]:e<60?[t&n|t&s|n&s,2400959708]:[t^n^s,3395469782]}function fs(e){const t=vn(e);let n=vs(t,0),s=vs(t,102072);return 0!=n||0!=s&&1!=s||(n^=319790063,s^=-1801410264),[n,s]}function vs(e,t){let n,s=2654435769,r=2654435769;const i=e.length;for(n=0;n+12<=i;n+=12){s=Ss(s,bs(e,n,xs.Little)),r=Ss(r,bs(e,n+4,xs.Little));const i=ys(s,r,t=Ss(t,bs(e,n+8,xs.Little)));s=i[0],r=i[1],t=i[2]}return s=Ss(s,bs(e,n,xs.Little)),r=Ss(r,bs(e,n+4,xs.Little)),t=Ss(t,i),ys(s,r,t=Ss(t,bs(e,n+8,xs.Little)<<8))[2]}function ys(e,t,n){return e=_s(e,t),e=_s(e,n),e^=n>>>13,t=_s(t,n),t=_s(t,e),t^=e<<8,n=_s(n,e),n=_s(n,t),n^=t>>>13,e=_s(e,t),e=_s(e,n),e^=n>>>12,t=_s(t,n),t=_s(t,e),t^=e<<16,n=_s(n,e),n=_s(n,t),n^=t>>>5,e=_s(e,t),e=_s(e,n),e^=n>>>3,t=_s(t,n),t=_s(t,e),t^=e<<10,n=_s(n,e),n=_s(n,t),[e,t,n^=t>>>15]}var xs;function Ss(e,t){return Es(e,t)[1]}function Es(e,t){const n=(65535&e)+(65535&t),s=(e>>>16)+(t>>>16)+(n>>>16);return[s>>>16,s<<16|65535&n]}function _s(e,t){const n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function ws(e,t){return e<<t|e>>>32-t}function Cs(e,t){return t>=e.length?0:e[t]}function bs(e,t,n){let s=0;if(n===xs.Big)for(let n=0;n<4;n++)s+=Cs(e,t+n)<<24-8*n;else for(let n=0;n<4;n++)s+=Cs(e,t+n)<<8*n;return s}!function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(xs||(xs={}));const Is=new class{constructor(e){this.base=e,this.exponents=[new cs(ls.one())]}toThePowerOf(e){for(let t=this.exponents.length;t<=e;t++){const e=this.exponents[t-1].multiplyBy(this.base);this.exponents[t]=new cs(e)}return this.exponents[e]}}(256);function Ts(e){return"i18n"===e||e.startsWith("i18n-")}function Ns(e){return e instanceof ts}function As(e){return Ns(e)&&1===e.nodes.length&&e.nodes[0]instanceof rs}function Ps(e){return!!e.i18n}function ks(e){return e.nodes[0]}function Os(e,t=0){return`�${e}${t>0?":"+t:""}�`}function Ms(e=0){let t=e;return()=>t++}function Ls(e){const t={};return e.forEach((e,n)=>{t[n]=Jt(e.length>1?`[${e.join("|")}]`:e[0])}),t}function Rs(e,t,...n){const s=e.get(t)||[];s.push(...n),e.set(t,s)}function Ds(e,t=0,n=0){const s=t,r=new Map,i=e instanceof ts?e.nodes.find(e=>e instanceof ss):e;return i&&i.children.filter(e=>e instanceof as).forEach((e,t)=>{const i=Os(s+t,n);Rs(r,e.name,i)}),r}function Fs(e={},t){const n={};return e&&Object.keys(e).length&&Object.keys(e).forEach(s=>n[Bs(s,t)]=e[s]),n}function Bs(e,t=!0){const n=e.toUpperCase().replace(/[^A-Z0-9_]/g,"_");if(!t)return n;const s=n.split("_");if(1===s.length)return e.toLowerCase();let r;/^\d+$/.test(s[s.length-1])&&(r=s.pop());let i=s.shift().toLowerCase();return s.length&&(i+=s.map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join("")),r?`${i}_${r}`:i}function $s(e){return("MSG_"+e).toUpperCase()}function Vs(e){return new $t(e.name,void 0,je,void 0,e.sourceSpan)}const js=/[-.]/;function Us(e,t){let n=null;return()=>(n||(e.push(new $t("_t",void 0,Ve)),n=Ht(t)),n)}function qs(e){if(this)throw new Error(`Builder ${this.constructor.name} doesn't support ${e} yet`);throw new Error(`Feature ${e} is not supported yet`)}function Hs(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function Ws(e){return Array.isArray(e)?Xt(e.map(Ws)):Jt(e,je)}function zs(e,t){return Object.getOwnPropertyNames(e).length>0?function(e,t){return Gt(Object.getOwnPropertyNames(e).map(n=>{const s=e[n];let r,i,a,o;return Array.isArray(s)?([i,r]=s,a=n,o=i!==r):([r,i]=mn(n,[n,s]),a=r,o=i!==r&&n.includes(":")),{key:a,quoted:js.test(a),value:t&&o?Xt([Ws(i),Ws(r)]):Ws(i)}}))}(e,t):null}function Ks(e){for(;en(e[e.length-1]);)e.pop();return e}function Xs(e,t){if(Array.isArray(e.predicate)){let n=[];return e.predicate.forEach(e=>{const t=e.split(",").map(e=>Jt(e.trim()));n.push(...t)}),t.getConstLiteral(Xt(n),!0)}return e.predicate}class Gs{constructor(){this.values=[]}set(e,t){t&&this.values.push({key:e,value:t,quoted:!1})}toLiteralMap(){return Gt(this.values)}}function Qs(e,t,n){let s=Wt(e,null,n);if(t.length>0)for(let e=0;e<t.length;e++)s=s.callFn(t[e],n);else s=s.callFn([],n);return s}function Ys(e){const{expressions:t,strings:n}=e;return 1===t.length&&2===n.length&&""===n[0]&&""===n[1]?1:t.length+n.length}var Zs,Js,er;function tr(e){const t=Ht("t"),n=[];let s=We;const r=sr(e)?t:new Nt(Ke.Or,t,e.internalType);let i=null;if(null!==e.deps)"invalid"!==e.deps&&(i=new lt(r,nr(e.deps,e.injectFn,e.target===Js.Pipe)),s=function(e){let t=!1;const n=e.map(e=>{const n=function(e){const t=[];return e.resolved===er.Attribute&&null!==e.attribute&&t.push({key:"attribute",value:e.attribute,quoted:!1}),e.optional&&t.push({key:"optional",value:Jt(!0),quoted:!1}),e.host&&t.push({key:"host",value:Jt(!0),quoted:!1}),e.self&&t.push({key:"self",value:Jt(!0),quoted:!1}),e.skipSelf&&t.push({key:"skipSelf",value:Jt(!0),quoted:!1}),t.length>0?Gt(t):null}(e);return null!==n?(t=!0,n):Jt(null)});return t?zt(Xt(n)):We}(e.deps));else{const t=Ht(`ɵ${e.name}_BaseFactory`),s=Wt(In.getInheritedFactory),a=t.set(s.callFn([e.internalType],void 0,!0)).toDeclStmt(je,[Dt.Exported,Dt.Final]);n.push(a),i=t.callFn([r])}const a=i,o=[];let l=null;function c(e){const n=Ht("r");o.push(n.set(Lt).toDeclStmt());let s=null;return s=null!==a?n.set(a).toStmt():Wt(In.invalidFactory).callFn([]).toStmt(),o.push(Yt(t,[s],[n.set(e).toStmt()])),n}if(sr(e)&&e.delegateType===Zs.Factory){const t=Ht(`ɵ${e.name}_BaseFactory`),s=Wt(In.getFactoryOf);if(e.delegate.isEquivalent(e.internalType))throw new Error("Illegal state: compiling factory that delegates to itself");const r=t.set(s.callFn([e.delegate])).toDeclStmt(je,[Dt.Exported,Dt.Final]);n.push(r),l=c(t.callFn([]))}else if(sr(e)){const t=nr(e.delegateDeps,e.injectFn,e.target===Js.Pipe);l=c(new(e.delegateType===Zs.Class?lt:at)(e.delegate,t))}else l=function(e){return void 0!==e.expression}(e)?c(e.expression):i;return o.push(null!==l?new Ut(l):Wt(In.invalidFactory).callFn([]).toStmt()),{factory:Qt([new bt("t",Ve)],o,je,void 0,e.name+"_Factory"),statements:n,type:zt(Wt(In.FactoryDef,[$n(e.type.type,e.typeArgumentCount),s]))}}function nr(e,t,n){return e.map((e,s)=>function(e,t,n,s){switch(e.resolved){case er.Token:case er.ChangeDetectorRef:const r=0|(e.self?2:0)|(e.skipSelf?4:0)|(e.host?1:0)|(e.optional?8:0);let i=0!==r||e.optional?Jt(r):null;if(n&&e.resolved===er.ChangeDetectorRef)return Wt(In.injectPipeChangeDetectorRef).callFn(i?[i]:[]);const a=[e.token];return i&&a.push(i),Wt(t).callFn(a);case er.Attribute:return Wt(In.injectAttribute).callFn([e.token]);case er.Invalid:return Wt(In.invalidFactoryDep).callFn([Jt(s)]);default:return qs("Unknown R3ResolvedDependencyType: "+er[e.resolved])}}(e,t,n,s))}function sr(e){return void 0!==e.delegateType}function rr(e,t){return{statements:[],factory:e.node===t.node?t.prop("ɵfac"):Qt([new bt("t",Ve)],[new Ut(t.callMethod("ɵfac",[Ht("t")]))])}}!function(e){e[e.Class=0]="Class",e[e.Function=1]="Function",e[e.Factory=2]="Factory"}(Zs||(Zs={})),function(e){e[e.Directive=0]="Directive",e[e.Component=1]="Component",e[e.Injectable=2]="Injectable",e[e.Pipe=3]="Pipe",e[e.NgModule=4]="NgModule"}(Js||(Js={})),function(e){e[e.Token=0]="Token",e[e.Attribute=1]="Attribute",e[e.ChangeDetectorRef=2]="ChangeDetectorRef",e[e.Invalid=3]="Invalid"}(er||(er={}));const ir=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];class ar{constructor(e,t){this.start=e,this.end=t}static fromArray(e){return e?(function(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error("Expected 'interpolation' to be an array, [start, end].");if(null!=t){const e=t[0],n=t[1];ir.forEach(t=>{if(t.test(e)||t.test(n))throw new Error(`['${e}', '${n}'] contains unusable interpolation symbol.`)})}}(0,e),new ar(e[0],e[1])):or}}const or=new ar("{{","}}"),lr='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})';let cr;function ur(...e){if(!En.trustedTypes)return new Function(...e);const t=`(function anonymous(${e.slice(0,-1).join(",")}\n) { ${e[e.length-1]}\n})`,n=En.eval((s=t,(null===(r=function(){if(void 0===cr&&(cr=null,En.trustedTypes))try{cr=En.trustedTypes.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch(e){}return cr}())||void 0===r?void 0:r.createScript(s))||s));var s,r;return void 0===n.bind?new Function(...e):(n.toString=()=>t,n.bind(En))}class pr{evaluateStatements(e,t,n,s){const r=new hr(n),i=Rn.createRoot();return t.length>0&&!t[0].isEquivalent(Jt("use strict").toStmt())&&(t=[Jt("use strict").toStmt(),...t]),r.visitAllStatements(t,i),r.createReturnStmt(i),this.evaluateCode(e,i,r.getArgs(),s)}evaluateCode(e,t,n,s){let r=`"use strict";${t.toSource()}\n//# sourceURL=${e}`;const i=[],a=[];for(const e in n)a.push(n[e]),i.push(e);if(s){const n=ur(...i.concat("return null;")).toString(),s=n.slice(0,n.indexOf("return null;")).split("\n").length-1;r+="\n"+t.toSourceMapGenerator(e,s).toJsComment()}const o=ur(...i.concat(r));return this.executeFunction(o,a)}executeFunction(e,t){return e(...t)}}class hr extends class extends class{constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,t){if(void 0!==e.leadingComments)for(const n of e.leadingComments)n instanceof Ft?t.print(e,`/*${n.toString()}*/`,n.trailingNewline):n.multiline?t.print(e,`/* ${n.text} */`,n.trailingNewline):n.text.split("\n").forEach(n=>{t.println(e,"// "+n)})}visitExpressionStmt(e,t){return this.printLeadingComments(e,t),e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){this.printLeadingComments(e,t),t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");const n=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitThrowStmt(e,t){return this.printLeadingComments(e,t),t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null}visitWriteVarExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,e.name+" = "),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWriteKeyExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWritePropExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,`.${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitInvokeMethodExpr(e,t){e.receiver.visitExpression(this,t);let n=e.name;return null!=e.builtin&&(n=this.getBuiltinMethodName(e.builtin),null==n)||(t.print(e,`.${n}(`),this.visitAllExpressions(e.args,t,","),t.print(e,")")),null}visitInvokeFunctionExpr(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitTaggedTemplateExpr(e,t){e.tag.visitExpression(this,t),t.print(e,"`"+e.template.elements[0].rawText);for(let n=1;n<e.template.elements.length;n++)t.print(e,"${"),e.template.expressions[n-1].visitExpression(this,t),t.print(e,"}"+e.template.elements[n].rawText);return t.print(e,"`"),null}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){let n=e.name;if(null!=e.builtin)switch(e.builtin){case Xe.Super:n="super";break;case Xe.This:n="this";break;case Xe.CatchError:n=On.name;break;case Xe.CatchStack:n=Mn.name;break;default:throw new Error("Unknown builtin variable "+e.builtin)}return t.print(e,n),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){const n=e.value;return t.print(e,"string"==typeof n?Dn(n,this._escapeDollarInStrings):""+n),null}visitLocalizedString(e,t){const n=e.serializeI18nHead();t.print(e,"$localize `"+n.raw);for(let n=1;n<e.messageParts.length;n++)t.print(e,"${"),e.expressions[n-1].visitExpression(this,t),t.print(e,"}"+e.serializeI18nTemplatePart(n).raw);return t.print(e,"`"),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t),null}visitUnaryOperatorExpr(e,t){let n;switch(e.operator){case ze.Plus:n="+";break;case ze.Minus:n="-";break;default:throw new Error("Unknown operator "+e.operator)}return e.parens&&t.print(e,"("),t.print(e,n),e.expr.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitBinaryOperatorExpr(e,t){let n;switch(e.operator){case Ke.Equals:n="==";break;case Ke.Identical:n="===";break;case Ke.NotEquals:n="!=";break;case Ke.NotIdentical:n="!==";break;case Ke.And:n="&&";break;case Ke.BitwiseAnd:n="&";break;case Ke.Or:n="||";break;case Ke.Plus:n="+";break;case Ke.Minus:n="-";break;case Ke.Divide:n="/";break;case Ke.Multiply:n="*";break;case Ke.Modulo:n="%";break;case Ke.Lower:n="<";break;case Ke.LowerEquals:n="<=";break;case Ke.Bigger:n=">";break;case Ke.BiggerEquals:n=">=";break;default:throw new Error("Unknown operator "+e.operator)}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${n} `),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(n=>{t.print(e,Dn(n.key,this._escapeDollarInStrings,n.quoted)+":"),n.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitAllExpressions(e,t,n){this.visitAllObjects(e=>e.visitExpression(this,t),e,t,n)}visitAllObjects(e,t,n,s){let r=!1;for(let i=0;i<t.length;i++)i>0&&(n.lineLength()>80?(n.print(null,s,!0),r||(n.incIndent(),n.incIndent(),r=!0)):n.print(null,s,!1)),e(t[i]);r&&(n.decIndent(),n.decIndent())}visitAllStatements(e,t){e.forEach(e=>e.visitStatement(this,t))}}{constructor(){super(!1)}visitDeclareClassStmt(e,t){return t.pushClass(e),this._visitClassConstructor(e,t),null!=e.parent&&(t.print(e,e.name+".prototype = Object.create("),e.parent.visitExpression(this,t),t.println(e,".prototype);")),e.getters.forEach(n=>this._visitClassGetter(e,n,t)),e.methods.forEach(n=>this._visitClassMethod(e,n,t)),t.popClass(),null}_visitClassConstructor(e,t){t.print(e,`function ${e.name}(`),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&e.constructorMethod.body.length>0&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")}_visitClassGetter(e,t,n){n.println(e,`Object.defineProperty(${e.name}.prototype, '${t.name}', { get: function() {`),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"}});")}_visitClassMethod(e,t,n){n.print(e,`${e.name}.prototype.${t.name} = function(`),this._visitParams(t.params,n),n.println(e,") {"),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"};")}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitReadVarExpr(e,t){if(e.builtin===Xe.This)t.print(e,"self");else{if(e.builtin===Xe.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");super.visitReadVarExpr(e,t)}return null}visitDeclareVarStmt(e,t){return t.print(e,"var "+e.name),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitCastExpr(e,t){return e.value.visitExpression(this,t),null}visitInvokeFunctionExpr(e,t){const n=e.fn;return n instanceof Je&&n.builtin===Xe.Super?(t.currentClass.parent.visitExpression(this,t),t.print(e,".call(this"),e.args.length>0&&(t.print(e,", "),this.visitAllExpressions(e.args,t,",")),t.print(e,")")):super.visitInvokeFunctionExpr(e,t),null}visitTaggedTemplateExpr(e,t){const n=e.template.elements;return e.tag.visitExpression(this,t),t.print(e,`(${lr}(`),t.print(e,`[${n.map(e=>Dn(e.text,!1)).join(", ")}], `),t.print(e,`[${n.map(e=>Dn(e.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(n=>{t.print(e,", "),n.visitExpression(this,t)}),t.print(e,")"),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitTryCatchStmt(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,`} catch (${On.name}) {`),t.incIndent();const n=[Mn.set(On.prop("stack")).toDeclStmt(null,[Dt.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}visitLocalizedString(e,t){t.print(e,`$localize(${lr}(`);const n=[e.serializeI18nHead()];for(let t=1;t<e.messageParts.length;t++)n.push(e.serializeI18nTemplatePart(t));return t.print(e,`[${n.map(e=>Dn(e.cooked,!1)).join(", ")}], `),t.print(e,`[${n.map(e=>Dn(e.raw,!1)).join(", ")}])`),e.expressions.forEach(n=>{t.print(e,", "),n.visitExpression(this,t)}),t.print(e,")"),null}_visitParams(e,t){this.visitAllObjects(e=>t.print(null,e.name),e,t,",")}getBuiltinMethodName(e){let t;switch(e){case Ge.ConcatArray:t="concat";break;case Ge.SubscribeObservable:t="subscribe";break;case Ge.Bind:t="bind";break;default:throw new Error("Unknown builtin method: "+e)}return t}}{constructor(e){super(),this.reflector=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new Ut(new Mt(this._evalExportedVars.map(e=>new Ot(e,Ht(e),!1)))).visitStatement(this,e)}getArgs(){const e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.reflector.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(Dt.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(Dt.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}visitDeclareClassStmt(e,t){return e.hasModifier(Dt.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareClassStmt(e,t)}_emitReferenceToExternal(e,t,n){let s=this._evalArgValues.indexOf(t);if(-1===s){s=this._evalArgValues.length,this._evalArgValues.push(t);const e=function(e){if(!e||!e.reference)return null;const t=e.reference;if(t instanceof class{constructor(e,t,n){this.filePath=e,this.name=t,this.members=n}assertNoMembers(){if(this.members.length)throw new Error(`Illegal state: symbol without members expected, but got ${JSON.stringify(this)}.`)}})return t.name;if(t.__anonymousType)return t.__anonymousType;let n=yn(t);return n.indexOf("(")>=0?(n="anonymous_"+wn++,t.__anonymousType=n):n=_n(n),n}({reference:t})||"val";this._evalArgNames.push(`jit_${e}_${s}`)}n.print(e,this._evalArgNames[s])}}function dr(e){return e>=9&&e<=32||160==e}function mr(e){return 48<=e&&e<=57}function gr(e){return e>=97&&e<=122||e>=65&&e<=90}function fr(e){return 10===e||13===e}function vr(e){return 48<=e&&e<=55}class yr{constructor(e,t,n,s){this.file=e,this.offset=t,this.line=n,this.col=s}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){const t=this.file.content,n=t.length;let s=this.offset,r=this.line,i=this.col;for(;s>0&&e<0;)if(s--,e++,10==t.charCodeAt(s)){r--;const e=t.substr(0,s-1).lastIndexOf(String.fromCharCode(10));i=e>0?s-e:s}else i--;for(;s<n&&e>0;){const n=t.charCodeAt(s);s++,e--,10==n?(r++,i=0):i++}return new yr(this.file,s,r,i)}getContext(e,t){const n=this.file.content;let s=this.offset;if(null!=s){s>n.length-1&&(s=n.length-1);let r=s,i=0,a=0;for(;i<e&&s>0&&(s--,i++,"\n"!=n[s]||++a!=t););for(i=0,a=0;i<e&&r<n.length-1&&(r++,i++,"\n"!=n[r]||++a!=t););return{before:n.substring(s,this.offset),after:n.substring(this.offset,r+1)}}return null}}class xr{constructor(e,t){this.content=e,this.url=t}}class Sr{constructor(e,t,n=e,s=null){this.start=e,this.end=t,this.fullStart=n,this.details=s}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}var Er,_r,wr,Cr;!function(e){e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR"}(Er||(Er={}));class br{constructor(e,t,n=Er.ERROR){this.span=e,this.msg=t,this.level=n}contextualMessage(){const e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Er[this.level]} ->]${e.after}")`:this.msg}toString(){const e=this.span.details?", "+this.span.details:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}}class Ir{constructor(e){this.context=e}resolveExternalReference(e){if("@angular/core"!==e.moduleName)throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}parameters(e){throw new Error("Not implemented.")}annotations(e){throw new Error("Not implemented.")}shallowAnnotations(e){throw new Error("Not implemented.")}tryAnnotations(e){throw new Error("Not implemented.")}propMetadata(e){throw new Error("Not implemented.")}hasLifecycleHook(e,t){throw new Error("Not implemented.")}guards(e){throw new Error("Not implemented.")}componentModuleUrl(e,t){throw new Error("Not implemented.")}}function Tr(e,t=!1){return Gt(Object.keys(e).map(n=>({key:n,quoted:t,value:e[n]})))}function Nr(e){const t=e.map(e=>Kt(e.type));return e.length>0?zt(Xt(t)):We}function Ar(e,t){const n=Xt(e.map(e=>e.value));return t?Qt([],[new Ut(n)]):n}function Pr(e){const t=[];return t.push({key:"name",value:Jt(e.pipeName),quoted:!1}),t.push({key:"type",value:e.type.value,quoted:!1}),t.push({key:"pure",value:Jt(e.pure),quoted:!1}),{expression:Wt(In.definePipe).callFn([Gt(t)]),type:function(e){return new $e(Wt(In.PipeDefWithMeta,[$n(e.type.type,e.typeArgumentCount),new $e(new ct(e.pipeName))]))}(e)}}class kr{constructor(e,t,n,s){this.input=t,this.errLocation=n,this.ctxLocation=s,this.message=`Parser Error: ${e} ${n} [${t}] in ${s}`}}class Or{constructor(e,t){this.start=e,this.end=t}toAbsolute(e){return new ri(e+this.start,e+this.end)}}class Mr{constructor(e,t){this.span=e,this.sourceSpan=t}visit(e,t=null){return null}toString(){return"AST"}}class Lr extends Mr{constructor(e,t,n){super(e,t),this.nameSpan=n}}class Rr extends Mr{constructor(e,t,n,s,r){super(e,t),this.prefix=n,this.uninterpretedExpression=s,this.location=r}visit(e,t=null){return e.visitQuote(this,t)}toString(){return"Quote"}}class Dr extends Mr{visit(e,t=null){}}class Fr extends Mr{visit(e,t=null){return e.visitImplicitReceiver(this,t)}}class Br extends Fr{visit(e,t=null){var n;return null===(n=e.visitThisReceiver)||void 0===n?void 0:n.call(e,this,t)}}class $r extends Mr{constructor(e,t,n){super(e,t),this.expressions=n}visit(e,t=null){return e.visitChain(this,t)}}class Vr extends Mr{constructor(e,t,n,s,r){super(e,t),this.condition=n,this.trueExp=s,this.falseExp=r}visit(e,t=null){return e.visitConditional(this,t)}}class jr extends Lr{constructor(e,t,n,s,r){super(e,t,n),this.receiver=s,this.name=r}visit(e,t=null){return e.visitPropertyRead(this,t)}}class Ur extends Lr{constructor(e,t,n,s,r,i){super(e,t,n),this.receiver=s,this.name=r,this.value=i}visit(e,t=null){return e.visitPropertyWrite(this,t)}}class qr extends Lr{constructor(e,t,n,s,r){super(e,t,n),this.receiver=s,this.name=r}visit(e,t=null){return e.visitSafePropertyRead(this,t)}}class Hr extends Mr{constructor(e,t,n,s){super(e,t),this.obj=n,this.key=s}visit(e,t=null){return e.visitKeyedRead(this,t)}}class Wr extends Mr{constructor(e,t,n,s,r){super(e,t),this.obj=n,this.key=s,this.value=r}visit(e,t=null){return e.visitKeyedWrite(this,t)}}class zr extends Lr{constructor(e,t,n,s,r,i){super(e,t,i),this.exp=n,this.name=s,this.args=r}visit(e,t=null){return e.visitPipe(this,t)}}class Kr extends Mr{constructor(e,t,n){super(e,t),this.value=n}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}}class Xr extends Mr{constructor(e,t,n){super(e,t),this.expressions=n}visit(e,t=null){return e.visitLiteralArray(this,t)}}class Gr extends Mr{constructor(e,t,n,s){super(e,t),this.keys=n,this.values=s}visit(e,t=null){return e.visitLiteralMap(this,t)}}class Qr extends Mr{constructor(e,t,n,s){super(e,t),this.strings=n,this.expressions=s}visit(e,t=null){return e.visitInterpolation(this,t)}}class Yr extends Mr{constructor(e,t,n,s,r){super(e,t),this.operation=n,this.left=s,this.right=r}visit(e,t=null){return e.visitBinary(this,t)}}class Zr extends Yr{constructor(e,t,n,s,r,i,a){super(e,t,r,i,a),this.operator=n,this.expr=s}static createMinus(e,t,n){return new Zr(e,t,"-",n,"-",new Kr(e,t,0),n)}static createPlus(e,t,n){return new Zr(e,t,"+",n,"-",n,new Kr(e,t,0))}visit(e,t=null){return void 0!==e.visitUnary?e.visitUnary(this,t):e.visitBinary(this,t)}}class Jr extends Mr{constructor(e,t,n){super(e,t),this.expression=n}visit(e,t=null){return e.visitPrefixNot(this,t)}}class ei extends Mr{constructor(e,t,n){super(e,t),this.expression=n}visit(e,t=null){return e.visitNonNullAssert(this,t)}}class ti extends Lr{constructor(e,t,n,s,r,i){super(e,t,n),this.receiver=s,this.name=r,this.args=i}visit(e,t=null){return e.visitMethodCall(this,t)}}class ni extends Lr{constructor(e,t,n,s,r,i){super(e,t,n),this.receiver=s,this.name=r,this.args=i}visit(e,t=null){return e.visitSafeMethodCall(this,t)}}class si extends Mr{constructor(e,t,n,s){super(e,t),this.target=n,this.args=s}visit(e,t=null){return e.visitFunctionCall(this,t)}}class ri{constructor(e,t){this.start=e,this.end=t}}class ii extends Mr{constructor(e,t,n,s,r){super(new Or(0,null===t?0:t.length),new ri(s,null===t?s:s+t.length)),this.ast=e,this.source=t,this.location=n,this.errors=r}visit(e,t=null){return e.visitASTWithSource?e.visitASTWithSource(this,t):this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}}class ai{constructor(e,t,n){this.sourceSpan=e,this.key=t,this.value=n}}class oi{constructor(e,t,n){this.sourceSpan=e,this.key=t,this.value=n}}class li{visit(e,t){e.visit(this,t)}visitUnary(e,t){this.visit(e.expr,t)}visitBinary(e,t){this.visit(e.left,t),this.visit(e.right,t)}visitChain(e,t){this.visitAll(e.expressions,t)}visitConditional(e,t){this.visit(e.condition,t),this.visit(e.trueExp,t),this.visit(e.falseExp,t)}visitPipe(e,t){this.visit(e.exp,t),this.visitAll(e.args,t)}visitFunctionCall(e,t){e.target&&this.visit(e.target,t),this.visitAll(e.args,t)}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){this.visitAll(e.expressions,t)}visitKeyedRead(e,t){this.visit(e.obj,t),this.visit(e.key,t)}visitKeyedWrite(e,t){this.visit(e.obj,t),this.visit(e.key,t),this.visit(e.value,t)}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){}visitMethodCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitPrefixNot(e,t){this.visit(e.expression,t)}visitNonNullAssert(e,t){this.visit(e.expression,t)}visitPropertyRead(e,t){this.visit(e.receiver,t)}visitPropertyWrite(e,t){this.visit(e.receiver,t),this.visit(e.value,t)}visitSafePropertyRead(e,t){this.visit(e.receiver,t)}visitSafeMethodCall(e,t){this.visit(e.receiver,t),this.visitAll(e.args,t)}visitQuote(e,t){}visitAll(e,t){for(const n of e)this.visit(n,t)}}class ci{constructor(e,t,n,s,r,i){this.name=e,this.expression=t,this.type=n,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i,this.isLiteral=this.type===_r.LITERAL_ATTR,this.isAnimation=this.type===_r.ANIMATION}}!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LITERAL_ATTR=1]="LITERAL_ATTR",e[e.ANIMATION=2]="ANIMATION"}(_r||(_r={}));class ui{constructor(e,t,n,s,r,i,a){this.name=e,this.targetOrPhase=t,this.type=n,this.handler=s,this.sourceSpan=r,this.handlerSpan=i,this.keySpan=a}}class pi{constructor(e,t,n,s,r){this.name=e,this.value=t,this.sourceSpan=n,this.keySpan=s,this.valueSpan=r}}class hi{constructor(e,t,n,s,r,i,a,o){this.name=e,this.type=t,this.securityContext=n,this.value=s,this.unit=r,this.sourceSpan=i,this.keySpan=a,this.valueSpan=o}}class di{}di.event=Ht("$event");class mi{constructor(e,t){this.stmts=e,this.allowDefault=t,this.render3Stmts=e.map(e=>e instanceof $t&&e.name==t.name&&e.value instanceof Nt?new Ut(e.value.lhs.value):e)}}class gi{constructor(e,t){this.stmts=e,this.currValExpr=t}}function fi(e,t,n,s,r,i){e||(e=new Ci);const a=new wi(e,t,s,i),o=n.visit(a,Cr.Expression),l=vi(a,s);if(a.usesImplicitReceiver&&e.notifyImplicitReceiverUse(),0===a.temporaryCount&&r==wr.TrySimple)return new gi([],o);if(r===wr.Expression)return new gi(l,o);const c=function(e){return Ht("currVal_"+e)}(s);return l.push(c.set(o).toDeclStmt(Ve,[Dt.Final])),new gi(l,c)}function vi(e,t){const n=[];for(let s=0;s<e.temporaryCount;s++)n.push(xi(t,s));return n}function yi(e,t){return`tmp_${e}_${t}`}function xi(e,t){return new $t(yi(e,t),Lt)}function Si(e,t){if(e!==Cr.Expression)throw new Error("Expected an expression, but saw "+t)}function Ei(e,t){return e===Cr.Statement?t.toStmt():t}!function(e){e[e.General=0]="General",e[e.TrySimple=1]="TrySimple",e[e.Expression=2]="Expression"}(wr||(wr={})),function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(Cr||(Cr={}));class _i extends class{visitImplicitReceiver(e,t){return e}visitThisReceiver(e,t){return e}visitInterpolation(e,t){return new Qr(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,t){return new Kr(e.span,e.sourceSpan,e.value)}visitPropertyRead(e,t){return new jr(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitPropertyWrite(e,t){return new Ur(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,t){return new qr(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitMethodCall(e,t){return new ti(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,this.visitAll(e.args))}visitSafeMethodCall(e,t){return new ni(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,this.visitAll(e.args))}visitFunctionCall(e,t){return new si(e.span,e.sourceSpan,e.target.visit(this),this.visitAll(e.args))}visitLiteralArray(e,t){return new Xr(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitLiteralMap(e,t){return new Gr(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))}visitUnary(e,t){switch(e.operator){case"+":return Zr.createPlus(e.span,e.sourceSpan,e.expr.visit(this));case"-":return Zr.createMinus(e.span,e.sourceSpan,e.expr.visit(this));default:throw new Error("Unknown unary operator "+e.operator)}}visitBinary(e,t){return new Yr(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,t){return new Jr(e.span,e.sourceSpan,e.expression.visit(this))}visitNonNullAssert(e,t){return new ei(e.span,e.sourceSpan,e.expression.visit(this))}visitConditional(e,t){return new Vr(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,t){return new zr(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)}visitKeyedRead(e,t){return new Hr(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this))}visitKeyedWrite(e,t){return new Wr(e.span,e.sourceSpan,e.obj.visit(this),e.key.visit(this),e.value.visit(this))}visitAll(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].visit(this);return t}visitChain(e,t){return new $r(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitQuote(e,t){return new Rr(e.span,e.sourceSpan,e.prefix,e.uninterpretedExpression,e.location)}}{constructor(e){super(),this._converterFactory=e}visitPipe(e,t){const n=[e.exp,...e.args].map(e=>e.visit(this,t));return new bi(e.span,e.sourceSpan,n,this._converterFactory.createPipeConverter(e.name,n.length))}visitLiteralArray(e,t){const n=e.expressions.map(e=>e.visit(this,t));return new bi(e.span,e.sourceSpan,n,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}visitLiteralMap(e,t){const n=e.values.map(e=>e.visit(this,t));return new bi(e.span,e.sourceSpan,n,this._converterFactory.createLiteralMapConverter(e.keys))}}class wi{constructor(e,t,n,s,r,i){this._localResolver=e,this._implicitReceiver=t,this.bindingId=n,this.interpolationFunction=s,this.baseSourceSpan=r,this.implicitReceiverAccesses=i,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitUnary(e,t){let n;switch(e.operator){case"+":n=ze.Plus;break;case"-":n=ze.Minus;break;default:throw new Error("Unsupported operator "+e.operator)}return Ei(t,new Tt(n,this._visit(e.expr,Cr.Expression),void 0,this.convertSourceSpan(e.span)))}visitBinary(e,t){let n;switch(e.operation){case"+":n=Ke.Plus;break;case"-":n=Ke.Minus;break;case"*":n=Ke.Multiply;break;case"/":n=Ke.Divide;break;case"%":n=Ke.Modulo;break;case"&&":n=Ke.And;break;case"||":n=Ke.Or;break;case"==":n=Ke.Equals;break;case"!=":n=Ke.NotEquals;break;case"===":n=Ke.Identical;break;case"!==":n=Ke.NotIdentical;break;case"<":n=Ke.Lower;break;case">":n=Ke.Bigger;break;case"<=":n=Ke.LowerEquals;break;case">=":n=Ke.BiggerEquals;break;default:throw new Error("Unsupported operation "+e.operation)}return Ei(t,new Nt(n,this._visit(e.left,Cr.Expression),this._visit(e.right,Cr.Expression),void 0,this.convertSourceSpan(e.span)))}visitChain(e,t){return function(e,t){if(e!==Cr.Statement)throw new Error("Expected a statement, but saw "+t)}(t,e),this.visitAll(e.expressions,t)}visitConditional(e,t){return Ei(t,this._visit(e.condition,Cr.Expression).conditional(this._visit(e.trueExp,Cr.Expression),this._visit(e.falseExp,Cr.Expression),this.convertSourceSpan(e.span)))}visitPipe(e,t){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: "+e.name)}visitFunctionCall(e,t){const n=this.visitAll(e.args,Cr.Expression);let s;return s=e instanceof bi?e.converter(n):this._visit(e.target,Cr.Expression).callFn(n,this.convertSourceSpan(e.span)),Ei(t,s)}visitImplicitReceiver(e,t){return Si(t,e),this.usesImplicitReceiver=!0,this._implicitReceiver}visitThisReceiver(e,t){return this.visitImplicitReceiver(e,t)}visitInterpolation(e,t){Si(t,e);const n=[Jt(e.expressions.length)];for(let t=0;t<e.strings.length-1;t++)n.push(Jt(e.strings[t])),n.push(this._visit(e.expressions[t],Cr.Expression));return n.push(Jt(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):e.expressions.length<=9?Wt(hn.inlineInterpolate).callFn(n):Wt(hn.interpolate).callFn([n[0],Xt(n.slice(1),void 0,this.convertSourceSpan(e.span))])}visitKeyedRead(e,t){const n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):Ei(t,this._visit(e.obj,Cr.Expression).key(this._visit(e.key,Cr.Expression)))}visitKeyedWrite(e,t){const n=this._visit(e.obj,Cr.Expression),s=this._visit(e.key,Cr.Expression),r=this._visit(e.value,Cr.Expression);return Ei(t,n.key(s).set(r))}visitLiteralArray(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(e,t){return Ei(t,Jt(e.value,null==e.value||!0===e.value||!0===e.value?je:void 0,this.convertSourceSpan(e.span)))}_getLocal(e,t){var n;return(null===(n=this._localResolver.globals)||void 0===n?void 0:n.has(e))&&t instanceof Br?null:this._localResolver.getLocal(e)}visitMethodCall(e,t){if(e.receiver instanceof Fr&&!(e.receiver instanceof Br)&&"$any"===e.name){const t=this.visitAll(e.args,Cr.Expression);if(1!=t.length)throw new Error("Invalid call to $any, expected 1 argument but received "+(t.length||"none"));return t[0].cast(Ve,this.convertSourceSpan(e.span))}const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{const n=this.visitAll(e.args,Cr.Expression),s=this.usesImplicitReceiver;let r=null;const i=this._visit(e.receiver,Cr.Expression);if(i===this._implicitReceiver){const t=this._getLocal(e.name,e.receiver);t&&(this.usesImplicitReceiver=s,r=t.callFn(n),this.addImplicitReceiverAccess(e.name))}return null==r&&(r=i.callMethod(e.name,n,this.convertSourceSpan(e.span))),Ei(t,r)}}visitPrefixNot(e,t){return Ei(t,(n=this._visit(e.expression,Cr.Expression),new _t(n,void 0)));var n}visitNonNullAssert(e,t){return Ei(t,(n=this._visit(e.expression,Cr.Expression),new wt(n,void 0)));var n}visitPropertyRead(e,t){const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{let n=null;const s=this.usesImplicitReceiver,r=this._visit(e.receiver,Cr.Expression);return r===this._implicitReceiver&&(n=this._getLocal(e.name,e.receiver),n&&(this.usesImplicitReceiver=s,this.addImplicitReceiverAccess(e.name))),null==n&&(n=r.prop(e.name)),Ei(t,n)}}visitPropertyWrite(e,t){const n=this._visit(e.receiver,Cr.Expression),s=this.usesImplicitReceiver;let r=null;if(n===this._implicitReceiver){const t=this._getLocal(e.name,e.receiver);if(t){if(!(t instanceof At))throw new Error(`Cannot assign value "${e.value instanceof jr?e.value.name:void 0}" to template variable "${e.name}". Template variables are read-only.`);r=t,this.usesImplicitReceiver=s,this.addImplicitReceiverAccess(e.name)}}return null===r&&(r=n.prop(e.name)),Ei(t,r.set(this._visit(e.value,Cr.Expression)))}visitSafePropertyRead(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitSafeMethodCall(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitAll(e,t){return e.map(e=>this._visit(e,t))}visitQuote(e,t){throw new Error(`Quotes are not supported for evaluation!\n        Statement: ${e.uninterpretedExpression} located at ${e.location}`)}_visit(e,t){return this._resultMap.get(e)||(this._nodeMap.get(e)||e).visit(this,t)}convertSafeAccess(e,t,n){let s=this._visit(t.receiver,Cr.Expression),r=void 0;this.needsTemporary(t.receiver)&&(r=this.allocateTemporary(),s=r.set(s),this._resultMap.set(t.receiver,r));const i=s.isBlank();this._nodeMap.set(t,t instanceof ni?new ti(t.span,t.sourceSpan,t.nameSpan,t.receiver,t.name,t.args):new jr(t.span,t.sourceSpan,t.nameSpan,t.receiver,t.name));const a=this._visit(e,Cr.Expression);return this._nodeMap.delete(t),r&&this.releaseTemporary(r),Ei(n,i.conditional(Jt(null),a))}leftMostSafeNode(e){const t=(e,t)=>(this._nodeMap.get(t)||t).visit(e);return e.visit({visitUnary:e=>null,visitBinary:e=>null,visitChain:e=>null,visitConditional:e=>null,visitFunctionCall:e=>null,visitImplicitReceiver:e=>null,visitThisReceiver:e=>null,visitInterpolation:e=>null,visitKeyedRead(e){return t(this,e.obj)},visitKeyedWrite:e=>null,visitLiteralArray:e=>null,visitLiteralMap:e=>null,visitLiteralPrimitive:e=>null,visitMethodCall(e){return t(this,e.receiver)},visitPipe:e=>null,visitPrefixNot:e=>null,visitNonNullAssert:e=>null,visitPropertyRead(e){return t(this,e.receiver)},visitPropertyWrite:e=>null,visitQuote:e=>null,visitSafeMethodCall(e){return t(this,e.receiver)||e},visitSafePropertyRead(e){return t(this,e.receiver)||e}})}needsTemporary(e){const t=(e,t)=>t&&(this._nodeMap.get(t)||t).visit(e);return e.visit({visitUnary(e){return t(this,e.expr)},visitBinary(e){return t(this,e.left)||t(this,e.right)},visitChain:e=>!1,visitConditional(e){return t(this,e.condition)||t(this,e.trueExp)||t(this,e.falseExp)},visitFunctionCall:e=>!0,visitImplicitReceiver:e=>!1,visitThisReceiver:e=>!1,visitInterpolation(e){return((e,n)=>n.some(n=>t(e,n)))(this,e.expressions)},visitKeyedRead:e=>!1,visitKeyedWrite:e=>!1,visitLiteralArray:e=>!0,visitLiteralMap:e=>!0,visitLiteralPrimitive:e=>!1,visitMethodCall:e=>!0,visitPipe:e=>!0,visitPrefixNot(e){return t(this,e.expression)},visitNonNullAssert(e){return t(this,e.expression)},visitPropertyRead:e=>!1,visitPropertyWrite:e=>!1,visitQuote:e=>!1,visitSafeMethodCall:e=>!0,visitSafePropertyRead:e=>!1})}allocateTemporary(){const e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Je(yi(this.bindingId,e))}releaseTemporary(e){if(this._currentTemporary--,e.name!=yi(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${e.name} released out of order`)}convertSourceSpan(e){if(this.baseSourceSpan){const t=this.baseSourceSpan.start.moveBy(e.start),n=this.baseSourceSpan.start.moveBy(e.end),s=this.baseSourceSpan.fullStart.moveBy(e.start);return new Sr(t,n,s)}return null}addImplicitReceiverAccess(e){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(e)}}class Ci{constructor(e){this.globals=e}notifyImplicitReceiverUse(){}getLocal(e){return e===di.event.name?di.event:null}}class bi extends si{constructor(e,t,n,s){super(e,t,null,n),this.args=n,this.converter=s}}class Ii{constructor(){this.strictStyling=!0}shimCssText(e,t,n=""){const s=e.match(zi)||[];return e=function(e){return e.replace(Wi,"")}(e),e=this._insertDirectives(e),[this._scopeCssText(e,t,n),...s].join("\n")}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_insertPolyfillDirectivesInCssText(e){return e.replace(Ni,function(...e){return e[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(Ai,(...e)=>{const t=e[0].replace(e[1],"").replace(e[2],"");return e[4]+t})}_scopeCssText(e,t,n){const s=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,n)),(e=e+"\n"+s).trim()}_extractUnscopedRulesFromCssText(e){let t,n="";for(Pi.lastIndex=0;null!==(t=Pi.exec(e));)n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n";return n}_convertColonHost(e){return e.replace(Li,(e,t,n)=>{if(t){const e=[],s=t.split(",").map(e=>e.trim());for(const t of s){if(!t)break;const s=Fi+t.replace(ki,"")+n;e.push(s)}return e.join(",")}return Fi+n})}_convertColonHostContext(e){return e.replace(Ri,e=>{var t;const n=[[]];let s;for(;s=Di.exec(e);){const r=(null!==(t=s[1])&&void 0!==t?t:"").trim().split(",").map(e=>e.trim()).filter(e=>""!==e),i=n.length;ea(n,r.length);for(let e=0;e<r.length;e++)for(let t=0;t<i;t++)n[t+e*i].push(r[e]);e=s[2]}return n.map(t=>function(e,t){const n=Fi,s=Ui.test(t);if(0===e.length)return n+t;const r=[e.pop()||""];for(;e.length>0;){const t=r.length,n=e.pop();for(let e=0;e<t;e++){const s=r[e];r[2*t+e]=s+" "+n,r[t+e]=n+" "+s,r[e]=n+s}}return r.map(e=>s?`${e}${t}`:`${e}${n}${t}, ${e} ${n}${t}`).join(",")}(t,e)).join(", ")})}_convertShadowDOMSelectors(e){return $i.reduce((e,t)=>e.replace(t," "),e)}_scopeSelectors(e,t,n){return function(e,t){const n=Ji(e,Qi,"%QUOTED%"),s=Ji(n.escapedString,Gi,"%BLOCK%");let r=0,i=0;return s.escapedString.replace(Ki,(...e)=>{const n=e[2];let i="",a=e[4],o="";a&&a.startsWith("{%BLOCK%")&&(i=s.blocks[r++],a=a.substring("%BLOCK%".length+1),o="{");const l=t(new Yi(n,i));return`${e[1]}${l.selector}${e[3]}${o}${l.content}${a}`}).replace(Xi,()=>n.blocks[i++])}(e,e=>{let s=e.selector,r=e.content;return"@"!=e.selector[0]?s=this._scopeSelector(e.selector,t,n,this.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(r=this._scopeSelectors(e.content,t,n)),new Yi(s,r)})}_scopeSelector(e,t,n,s){return e.split(",").map(e=>e.trim().split(Vi)).map(e=>{const[r,...i]=e;return[(e=>this._selectorNeedsScoping(e,t)?s?this._applyStrictSelectorScope(e,t,n):this._applySelectorScope(e,t,n):e)(r),...i].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+ji,"m")}_applySelectorScope(e,t,n){return this._applySimpleSelectorScope(e,t,n)}_applySimpleSelectorScope(e,t,n){if(Ui.lastIndex=0,Ui.test(e)){const s=this.strictStyling?`[${n}]`:t;return e.replace(Bi,(e,t)=>t.replace(/([^:]*)(:*)(.*)/,(e,t,n,r)=>t+s+n+r)).replace(Ui,s+" ")}return t+" "+e}_applyStrictSelectorScope(e,t,n){const s="["+(t=t.replace(/\[is=([^\]]*)\]/g,(e,...t)=>t[0]))+"]",r=e=>{let r=e.trim();if(!r)return"";if(e.indexOf(Fi)>-1)r=this._applySimpleSelectorScope(e,t,n);else{const t=e.replace(Ui,"");if(t.length>0){const e=t.match(/([^:]*)(:*)(.*)/);e&&(r=e[1]+s+e[2]+e[3])}}return r},i=new Ti(e);let a,o="",l=0;const c=/( |>|\+|~(?!=))\s*/g;let u=!((e=i.content()).indexOf(Fi)>-1);for(;null!==(a=c.exec(e));){const t=a[1],n=e.slice(l,a.index).trim();u=u||n.indexOf(Fi)>-1,o+=`${u?r(n):n} ${t} `,l=c.lastIndex}const p=e.substring(l);return u=u||p.indexOf(Fi)>-1,o+=u?r(p):p,i.restore(o)}_insertPolyfillHostInCssText(e){return e.replace(Hi,Oi).replace(qi,ki)}}class Ti{constructor(e){this.placeholders=[],this.index=0,e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=this._escapeRegexMatches(e,/(\\.)/g),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(e,t,n)=>{const s=`__ph-${this.index}__`;return this.placeholders.push(n),this.index++,t+s})}restore(e){return e.replace(/__ph-(\d+)__/g,(e,t)=>this.placeholders[+t])}content(){return this._content}_escapeRegexMatches(e,t){return e.replace(t,(e,t)=>{const n=`__ph-${this.index}__`;return this.placeholders.push(t),this.index++,n})}}const Ni=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,Ai=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Pi=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,ki="-shadowcsshost",Oi="-shadowcsscontext",Mi="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Li=new RegExp(ki+Mi,"gim"),Ri=new RegExp(Oi+Mi,"gim"),Di=new RegExp(Oi+Mi,"im"),Fi=ki+"-no-combinator",Bi=/-shadowcsshost-no-combinator([^\s]*)/,$i=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Vi=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,ji="([>\\s~+[.,{:][\\s\\S]*)?$",Ui=/-shadowcsshost/gim,qi=/:host/gim,Hi=/:host-context/gim,Wi=/\/\*\s*[\s\S]*?\*\//g,zi=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g,Ki=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Xi=/%QUOTED%/g,Gi=new Map([["{","}"]]),Qi=new Map([['"','"'],["'","'"]]);class Yi{constructor(e,t){this.selector=e,this.content=t}}class Zi{constructor(e,t){this.escapedString=e,this.blocks=t}}function Ji(e,t,n){const s=[],r=[];let i,a,o=0,l=0,c=-1;for(let u=0;u<e.length;u++){const p=e[u];"\\"===p?u++:p===a?(o--,0===o&&(r.push(e.substring(c,u)),s.push(n),l=u,c=-1,i=a=void 0)):p===i?o++:0===o&&t.has(p)&&(i=p,a=t.get(p),o=1,c=u+1,s.push(e.substring(l,c)))}return-1!==c?(r.push(e.substring(c)),s.push(n)):s.push(e.substring(l)),new Zi(s.join(""),r)}function ea(e,t){const n=e.length;for(let s=1;s<t;s++)for(let t=0;t<n;t++)e[t+s*n]=e[t].slice(0)}class ta{constructor(e,t){this.sourceSpan=e,this.i18n=t}}class na extends ta{constructor(e,t,n){super(t,n),this.value=e}visit(e,t){return e.visitText(this,t)}}class sa extends ta{constructor(e,t,n,s,r,i){super(s,i),this.switchValue=e,this.type=t,this.cases=n,this.switchValueSourceSpan=r}visit(e,t){return e.visitExpansion(this,t)}}class ra{constructor(e,t,n,s,r){this.value=e,this.expression=t,this.sourceSpan=n,this.valueSourceSpan=s,this.expSourceSpan=r}visit(e,t){return e.visitExpansionCase(this,t)}}class ia extends ta{constructor(e,t,n,s,r,i){super(n,i),this.name=e,this.value=t,this.keySpan=s,this.valueSpan=r}visit(e,t){return e.visitAttribute(this,t)}}class aa extends ta{constructor(e,t,n,s,r,i=null,a){super(s,a),this.name=e,this.attrs=t,this.children=n,this.startSourceSpan=r,this.endSourceSpan=i}visit(e,t){return e.visitElement(this,t)}}class oa{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}}function la(e,t,n=null){const s=[],r=e.visit?t=>e.visit(t,n)||t.visit(e,n):t=>t.visit(e,n);return t.forEach(e=>{const t=r(e);t&&s.push(t)}),s}var ca;!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.INCOMPLETE_TAG_OPEN=4]="INCOMPLETE_TAG_OPEN",e[e.TEXT=5]="TEXT",e[e.ESCAPABLE_RAW_TEXT=6]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=7]="RAW_TEXT",e[e.COMMENT_START=8]="COMMENT_START",e[e.COMMENT_END=9]="COMMENT_END",e[e.CDATA_START=10]="CDATA_START",e[e.CDATA_END=11]="CDATA_END",e[e.ATTR_NAME=12]="ATTR_NAME",e[e.ATTR_QUOTE=13]="ATTR_QUOTE",e[e.ATTR_VALUE=14]="ATTR_VALUE",e[e.DOC_TYPE=15]="DOC_TYPE",e[e.EXPANSION_FORM_START=16]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=17]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=18]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=19]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=20]="EXPANSION_FORM_END",e[e.EOF=21]="EOF"}(ca||(ca={}));class ua{constructor(e,t,n){this.type=e,this.parts=t,this.sourceSpan=n}}class pa extends br{constructor(e,t,n){super(n,e),this.tokenType=t}}class ha{constructor(e,t,n){this.tokens=e,this.errors=t,this.nonNormalizedIcuExpressions=n}}const da=/\r\n?/g;function ma(e){return`Unexpected character "${0===e?"EOF":String.fromCharCode(e)}"`}function ga(e){return`Unknown entity "${e}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}var fa;!function(e){e.HEX="hexadecimal",e.DEC="decimal"}(fa||(fa={}));class va{constructor(e){this.error=e}}class ya{constructor(e,t,n){this._getTagDefinition=t,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=n.tokenizeExpansionForms||!1,this._interpolationConfig=n.interpolationConfig||or,this._leadingTriviaCodePoints=n.leadingTriviaChars&&n.leadingTriviaChars.map(e=>e.codePointAt(0)||0);const s=n.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=n.escapedString?new ba(e,s):new Ca(e,s),this._preserveLineEndings=n.preserveLineEndings||!1,this._escapedString=n.escapedString||!1,this._i18nNormalizeLineEndingsInICUs=n.i18nNormalizeLineEndingsInICUs||!1;try{this._cursor.init()}catch(e){this.handleError(e)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(da,"\n")}tokenize(){for(;0!==this._cursor.peek();){const e=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(e):this._attemptCharCode(45)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(47)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){this.handleError(e)}}this._beginToken(ca.EOF),this._endToken([])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(125!==this._cursor.peek()&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,t=this._cursor.clone()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t){if(null===this._currentTokenStart)throw new pa("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(t));if(null===this._currentTokenType)throw new pa("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));const n=new ua(this._currentTokenType,e,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n}_createError(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const n=new pa(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new va(n)}handleError(e){if(e instanceof Ia&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),!(e instanceof va))throw e;this.errors.push(e.error)}_attemptCharCode(e){return this._cursor.peek()===e&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(e){return t=e,wa(this._cursor.peek())==wa(t)&&(this._cursor.advance(),!0);var t}_requireCharCode(e){const t=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(ma(this._cursor.peek()),this._cursor.getSpan(t))}_attemptStr(e){const t=e.length;if(this._cursor.charsLeft()<t)return!1;const n=this._cursor.clone();for(let s=0;s<t;s++)if(!this._attemptCharCode(e.charCodeAt(s)))return this._cursor=n,!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){const t=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(ma(this._cursor.peek()),this._cursor.getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,t){const n=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(n)<t)throw this._createError(ma(this._cursor.peek()),this._cursor.getSpan(n))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(e){if(e&&38===this._cursor.peek())return this._decodeEntity();{const e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}}_decodeEntity(){const e=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){const t=this._cursor.clone();if(this._attemptCharCodeUntilFn(_a),59!=this._cursor.peek())return this._cursor=t,"&";const n=this._cursor.getChars(t);this._cursor.advance();const s=xe[n];if(!s)throw this._createError(ga(n),this._cursor.getSpan(e));return s}{const n=this._attemptCharCode(120)||this._attemptCharCode(88),s=this._cursor.clone();if(this._attemptCharCodeUntilFn(Ea),59!=this._cursor.peek())throw this._cursor.advance(),this._createError((t=n?fa.HEX:fa.DEC,`Unable to parse entity "${this._cursor.getChars(e)}" - ${t} character reference entities must end with ";"`),this._cursor.getSpan());const r=this._cursor.getChars(s);this._cursor.advance();try{const e=parseInt(r,n?16:10);return String.fromCharCode(e)}catch(t){throw this._createError(ga(this._cursor.getChars(e)),this._cursor.getSpan())}}var t}_consumeRawText(e,t){this._beginToken(e?ca.ESCAPABLE_RAW_TEXT:ca.RAW_TEXT);const n=[];for(;;){const s=this._cursor.clone(),r=t();if(this._cursor=s,r)break;n.push(this._readChar(e))}return this._endToken([this._processCarriageReturns(n.join(""))])}_consumeComment(e){this._beginToken(ca.COMMENT_START,e),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("--\x3e")),this._beginToken(ca.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(e){this._beginToken(ca.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(ca.CDATA_END),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(ca.DOC_TYPE,e);const t=this._cursor.clone();this._attemptUntilChar(62);const n=this._cursor.getChars(t);this._cursor.advance(),this._endToken([n])}_consumePrefixAndName(){const e=this._cursor.clone();let t="";for(;58!==this._cursor.peek()&&!(((n=this._cursor.peek())<97||122<n)&&(n<65||90<n)&&(n<48||n>57));)this._cursor.advance();var n;let s;return 58===this._cursor.peek()?(t=this._cursor.getChars(e),this._cursor.advance(),s=this._cursor.clone()):s=e,this._requireCharCodeUntilFn(Sa,""===t?0:1),[t,this._cursor.getChars(s)]}_consumeTagOpen(e){let t,n,s;try{if(!gr(this._cursor.peek()))throw this._createError(ma(this._cursor.peek()),this._cursor.getSpan(e));for(s=this._consumeTagOpenStart(e),n=s.parts[0],t=s.parts[1],this._attemptCharCodeUntilFn(xa);47!==this._cursor.peek()&&62!==this._cursor.peek()&&60!==this._cursor.peek()&&0!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(xa),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(xa),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(xa);this._consumeTagOpenEnd()}catch(t){if(t instanceof va)return void(s?s.type=ca.INCOMPLETE_TAG_OPEN:(this._beginToken(ca.TEXT,e),this._endToken(["<"])));throw t}const r=this._getTagDefinition(t).getContentType(n);r===he.RAW_TEXT?this._consumeRawTextWithTagClose(n,t,!1):r===he.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(n,t,!0)}_consumeRawTextWithTagClose(e,t,n){this._consumeRawText(n,()=>!!this._attemptCharCode(60)&&!!this._attemptCharCode(47)&&(this._attemptCharCodeUntilFn(xa),!!this._attemptStrCaseInsensitive(t)&&(this._attemptCharCodeUntilFn(xa),this._attemptCharCode(62)))),this._beginToken(ca.TAG_CLOSE),this._requireCharCodeUntilFn(e=>62===e,3),this._cursor.advance(),this._endToken([e,t])}_consumeTagOpenStart(e){this._beginToken(ca.TAG_OPEN_START,e);const t=this._consumePrefixAndName();return this._endToken(t)}_consumeAttributeName(){const e=this._cursor.peek();if(39===e||34===e)throw this._createError(ma(e),this._cursor.getSpan());this._beginToken(ca.ATTR_NAME);const t=this._consumePrefixAndName();this._endToken(t)}_consumeAttributeValue(){let e;if(39===this._cursor.peek()||34===this._cursor.peek()){this._beginToken(ca.ATTR_QUOTE);const t=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(t)]),this._beginToken(ca.ATTR_VALUE);const n=[];for(;this._cursor.peek()!==t;)n.push(this._readChar(!0));e=n.join(""),this._endToken([this._processCarriageReturns(e)]),this._beginToken(ca.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(t)])}else{this._beginToken(ca.ATTR_VALUE);const t=this._cursor.clone();this._requireCharCodeUntilFn(Sa,1),e=this._cursor.getChars(t),this._endToken([this._processCarriageReturns(e)])}}_consumeTagOpenEnd(){const e=this._attemptCharCode(47)?ca.TAG_OPEN_END_VOID:ca.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(62),this._endToken([])}_consumeTagClose(e){this._beginToken(ca.TAG_CLOSE,e),this._attemptCharCodeUntilFn(xa);const t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(xa),this._requireCharCode(62),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(ca.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(ca.EXPANSION_FORM_START),this._beginToken(ca.RAW_TEXT);const e=this._readUntil(44),t=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([t]);else{const n=this._endToken([e]);t!==e&&this.nonNormalizedIcuExpressions.push(n)}this._requireCharCode(44),this._attemptCharCodeUntilFn(xa),this._beginToken(ca.RAW_TEXT);const n=this._readUntil(44);this._endToken([n]),this._requireCharCode(44),this._attemptCharCodeUntilFn(xa)}_consumeExpansionCaseStart(){this._beginToken(ca.EXPANSION_CASE_VALUE);const e=this._readUntil(123).trim();this._endToken([e]),this._attemptCharCodeUntilFn(xa),this._beginToken(ca.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(xa),this._expansionCaseStack.push(ca.EXPANSION_CASE_EXP_START)}_consumeExpansionCaseEnd(){this._beginToken(ca.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(xa),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(ca.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()}_consumeText(){const e=this._cursor.clone();this._beginToken(ca.TEXT,e);const t=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])}_isTextEnd(){if(60===this._cursor.peek()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(125===this._cursor.peek()&&this._isInExpansionCase())return!0}return!1}_readUntil(e){const t=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(t)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===ca.EXPANSION_CASE_EXP_START}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===ca.EXPANSION_FORM_START}isExpansionFormStart(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){const e=this._cursor.clone(),t=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!t}return!0}}function xa(e){return!dr(e)||0===e}function Sa(e){return dr(e)||62===e||60===e||47===e||39===e||34===e||61===e||0===e}function Ea(e){return 59==e||0==e||!function(e){return e>=97&&e<=102||e>=65&&e<=70||mr(e)}(e)}function _a(e){return 59==e||0==e||!gr(e)}function wa(e){return e>=97&&e<=122?e-97+65:e}class Ca{constructor(e,t){if(e instanceof Ca){this.file=e.file,this.input=e.input,this.end=e.end;const t=e.state;this.state={peek:t.peek,offset:t.offset,line:t.line,column:t.column}}else{if(!t)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=t.endPos,this.state={peek:-1,offset:t.startPos,line:t.startLine,column:t.startCol}}}clone(){return new Ca(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,t){let n=e=e||this;if(t)for(;this.diff(e)>0&&-1!==t.indexOf(e.peek());)n===e&&(e=e.clone()),e.advance();const s=this.locationFromCursor(e),r=this.locationFromCursor(this),i=n!==e?this.locationFromCursor(n):s;return new Sr(s,r,i)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new Ia('Unexpected character "EOF"',this);const t=this.charAt(e.offset);10===t?(e.line++,e.column=0):fr(t)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?0:this.charAt(e.offset)}locationFromCursor(e){return new yr(e.file,e.state.offset,e.state.line,e.state.column)}}class ba extends Ca{constructor(e,t){e instanceof ba?(super(e),this.internalState=Object.assign({},e.internalState)):(super(e,t),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new ba(this)}getChars(e){const t=e.clone();let n="";for(;t.internalState.offset<this.internalState.offset;)n+=String.fromCodePoint(t.peek()),t.advance();return n}processEscapeSequence(){const e=()=>this.internalState.peek;if(92===e())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),110===e())this.state.peek=10;else if(114===e())this.state.peek=13;else if(118===e())this.state.peek=11;else if(116===e())this.state.peek=9;else if(98===e())this.state.peek=8;else if(102===e())this.state.peek=12;else if(117===e())if(this.advanceState(this.internalState),123===e()){this.advanceState(this.internalState);const t=this.clone();let n=0;for(;125!==e();)this.advanceState(this.internalState),n++;this.state.peek=this.decodeHexDigits(t,n)}else{const e=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,4)}else if(120===e()){this.advanceState(this.internalState);const e=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,2)}else if(vr(e())){let t="",n=0,s=this.clone();for(;vr(e())&&n<3;)s=this.clone(),t+=String.fromCodePoint(e()),this.advanceState(this.internalState),n++;this.state.peek=parseInt(t,8),this.internalState=s.internalState}else fr(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,t){const n=this.input.substr(e.internalState.offset,t),s=parseInt(n,16);if(isNaN(s))throw e.state=e.internalState,new Ia("Invalid hexadecimal escape sequence",e);return s}}class Ia{constructor(e,t){this.msg=e,this.cursor=t}}class Ta extends br{constructor(e,t,n){super(t,n),this.elementName=e}static create(e,t,n){return new Ta(e,t,n)}}class Na{constructor(e,t){this.rootNodes=e,this.errors=t}}class Aa{constructor(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._elementStack=[],this.rootNodes=[],this.errors=[],this._advance()}build(){for(;this._peek.type!==ca.EOF;)this._peek.type===ca.TAG_OPEN_START||this._peek.type===ca.INCOMPLETE_TAG_OPEN?this._consumeStartTag(this._advance()):this._peek.type===ca.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===ca.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===ca.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===ca.TEXT||this._peek.type===ca.RAW_TEXT||this._peek.type===ca.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===ca.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance()}_advance(){const e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(ca.CDATA_END)}_consumeComment(e){const t=this._advanceIf(ca.RAW_TEXT);this._advanceIf(ca.COMMENT_END);const n=null!=t?t.parts[0].trim():null;this._addToParent(new oa(n,e.sourceSpan))}_consumeExpansion(e){const t=this._advance(),n=this._advance(),s=[];for(;this._peek.type===ca.EXPANSION_CASE_VALUE;){const e=this._parseExpansionCase();if(!e)return;s.push(e)}if(this._peek.type!==ca.EXPANSION_FORM_END)return void this.errors.push(Ta.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const r=new Sr(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new sa(t.parts[0],n.parts[0],s,r,t.sourceSpan)),this._advance()}_parseExpansionCase(){const e=this._advance();if(this._peek.type!==ca.EXPANSION_CASE_EXP_START)return this.errors.push(Ta.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const t=this._advance(),n=this._collectExpansionExpTokens(t);if(!n)return null;const s=this._advance();n.push(new ua(ca.EOF,[],s.sourceSpan));const r=new Aa(n,this.getTagDefinition);if(r.build(),r.errors.length>0)return this.errors=this.errors.concat(r.errors),null;const i=new Sr(e.sourceSpan.start,s.sourceSpan.end,e.sourceSpan.fullStart),a=new Sr(t.sourceSpan.start,s.sourceSpan.end,t.sourceSpan.fullStart);return new ra(e.parts[0],r.rootNodes,i,e.sourceSpan,a)}_collectExpansionExpTokens(e){const t=[],n=[ca.EXPANSION_CASE_EXP_START];for(;;){if(this._peek.type!==ca.EXPANSION_FORM_START&&this._peek.type!==ca.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===ca.EXPANSION_CASE_EXP_END){if(!Pa(n,ca.EXPANSION_CASE_EXP_START))return this.errors.push(Ta.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this._peek.type===ca.EXPANSION_FORM_END){if(!Pa(n,ca.EXPANSION_FORM_START))return this.errors.push(Ta.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===ca.EOF)return this.errors.push(Ta.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=e.parts[0];if(t.length>0&&"\n"==t[0]){const e=this._getParentElement();null!=e&&0==e.children.length&&this.getTagDefinition(e.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new na(t,e.sourceSpan))}_closeVoidElement(){const e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}_consumeStartTag(e){const[t,n]=e.parts,s=[];for(;this._peek.type===ca.ATTR_NAME;)s.push(this._consumeAttr(this._advance()));const r=this._getElementFullName(t,n,this._getParentElement());let i=!1;if(this._peek.type===ca.TAG_OPEN_END_VOID){this._advance(),i=!0;const t=this.getTagDefinition(r);t.canSelfClose||null!==ve(r)||t.isVoid||this.errors.push(Ta.create(r,e.sourceSpan,`Only void and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===ca.TAG_OPEN_END&&(this._advance(),i=!1);const a=this._peek.sourceSpan.fullStart,o=new Sr(e.sourceSpan.start,a,e.sourceSpan.fullStart),l=new Sr(e.sourceSpan.start,a,e.sourceSpan.fullStart),c=new aa(r,s,[],o,l,void 0);this._pushElement(c),i?this._popElement(r,o):e.type===ca.INCOMPLETE_TAG_OPEN&&(this._popElement(r,null),this.errors.push(Ta.create(r,o,`Opening tag "${r}" not terminated.`)))}_pushElement(e){const t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop(),this._addToParent(e),this._elementStack.push(e)}_consumeEndTag(e){const t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());this.getTagDefinition(t).isVoid?this.errors.push(Ta.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`)):this._popElement(t,e.sourceSpan)||this.errors.push(Ta.create(t,e.sourceSpan,`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`))}_popElement(e,t){for(let n=this._elementStack.length-1;n>=0;n--){const s=this._elementStack[n];if(s.name==e)return s.endSourceSpan=t,s.sourceSpan.end=null!==t?t.end:s.sourceSpan.end,this._elementStack.splice(n,this._elementStack.length-n),!0;if(!this.getTagDefinition(s.name).closedByParent)return!1}return!1}_consumeAttr(e){const t=ye(e.parts[0],e.parts[1]);let n=e.sourceSpan.end,s="",r=void 0;if(this._peek.type===ca.ATTR_QUOTE&&this._advance(),this._peek.type===ca.ATTR_VALUE){const e=this._advance();s=e.parts[0],n=e.sourceSpan.end,r=e.sourceSpan}this._peek.type===ca.ATTR_QUOTE&&(n=this._advance().sourceSpan.end);const i=new Sr(e.sourceSpan.start,e.sourceSpan.end);return new ia(t,s,new Sr(e.sourceSpan.start,n,e.sourceSpan.fullStart),i,r)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_addToParent(e){const t=this._getParentElement();null!=t?t.children.push(e):this.rootNodes.push(e)}_getElementFullName(e,t,n){if(""===e&&""===(e=this.getTagDefinition(t).implicitNamespacePrefix||"")&&null!=n){const t=me(n.name)[1];this.getTagDefinition(t).preventNamespaceInheritance||(e=ve(n.name))}return ye(e,t)}}function Pa(e,t){return e.length>0&&e[e.length-1]===t}class ka extends class{constructor(e){this.getTagDefinition=e}parse(e,t,n){const s=function(e,t,n,s={}){const r=new ya(new xr(e,t),n,s);return r.tokenize(),new ha(function(e){const t=[];let n=void 0;for(let s=0;s<e.length;s++){const r=e[s];n&&n.type==ca.TEXT&&r.type==ca.TEXT?(n.parts[0]+=r.parts[0],n.sourceSpan.end=r.sourceSpan.end):(n=r,t.push(n))}return t}(r.tokens),r.errors,r.nonNormalizedIcuExpressions)}(e,t,this.getTagDefinition,n),r=new Aa(s.tokens,this.getTagDefinition);return r.build(),new Na(r.rootNodes,s.errors.concat(r.errors))}}{constructor(){super(we)}parse(e,t,n){return super.parse(e,t,n)}}const Oa=new Set(["pre","template","textarea","script","style"]),Ma=new RegExp("[^ \f\n\r\t\v ᠎ - \u2028\u2029  　\ufeff]"),La=new RegExp("[ \f\n\r\t\v ᠎ - \u2028\u2029  　\ufeff]{2,}","g");function Ra(e){return e.replace(new RegExp("","g")," ")}class Da{visitElement(e,t){return Oa.has(e.name)||e.attrs.some(e=>"ngPreserveWhitespaces"===e.name)?new aa(e.name,la(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new aa(e.name,e.attrs,function(e,t){const n=[];return t.forEach((s,r)=>{const i=s.visit(e,{prev:t[r-1],next:t[r+1]});i&&n.push(i)}),n}(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,t){return"ngPreserveWhitespaces"!==e.name?e:null}visitText(e,t){return e.value.match(Ma)||t&&(t.prev instanceof sa||t.next instanceof sa)?new na(Ra(e.value).replace(La," "),e.sourceSpan,e.i18n):null}visitComment(e,t){return e}visitExpansion(e,t){return e}visitExpansionCase(e,t){return e}}var Fa;!function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(Fa||(Fa={}));const Ba=/^([^:/?#]+):/;class $a{constructor(e,t,n,s,r){if(this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=n,this.errors=r,this.pipesByName=null,this._usedPipes=new Map,s){const e=new Map;s.forEach(t=>e.set(t.name,t)),this.pipesByName=e}}get interpolationConfig(){return this._interpolationConfig}getUsedPipes(){return Array.from(this._usedPipes.values())}createBoundHostProperties(e,t){if(e.hostProperties){const n=[];return Object.keys(e.hostProperties).forEach(s=>{const r=e.hostProperties[s];"string"==typeof r?this.parsePropertyBinding(s,r,!0,t,t.start.offset,void 0,[],n,t):this._reportError(`Value of the host property binding "${s}" needs to be a string representing an expression but got "${r}" (${typeof r})`,t)}),n}return null}createDirectiveHostPropertyAsts(e,t,n){const s=this.createBoundHostProperties(e,n);return s&&s.map(e=>this.createBoundElementProperty(t,e))}createDirectiveHostEventAsts(e,t){if(e.hostListeners){const n=[];return Object.keys(e.hostListeners).forEach(s=>{const r=e.hostListeners[s];"string"==typeof r?this.parseEvent(s,r,t,t,[],n,t):this._reportError(`Value of the host listener "${s}" needs to be a string representing an expression but got "${r}" (${typeof r})`,t)}),n}return null}parseInterpolation(e,t){const n=t.start.toString(),s=t.fullStart.offset;try{const r=this._exprParser.parseInterpolation(e,n,s,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),this._checkPipes(r,t),r}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,s)}}parseInterpolationExpression(e,t){const n=t.start.toString(),s=t.start.offset;try{const r=this._exprParser.parseInterpolationExpression(e,n,s);return r&&this._reportExpressionParserErrors(r.errors,t),this._checkPipes(r,t),r}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,s)}}parseInlineTemplateBinding(e,t,n,s,r,i,a,o){const l=this._parseTemplateBindings(e,t,n,n.start.offset+"*".length,s);for(const e of l){const t=qa(n,e.sourceSpan),l=e.key.source,c=qa(n,e.key.span);if(e instanceof ai){const s=e.value?e.value.source:"$implicit",r=e.value?qa(n,e.value.span):void 0;a.push(new pi(l,s,t,c,r))}else if(e.value){const s=o?t:n,a=qa(n,e.value.ast.sourceSpan);this._parsePropertyAst(l,e.value,s,c,a,r,i)}else r.push([l,""]),this.parseLiteralAttr(l,null,c,s,void 0,r,i,c)}}_parseTemplateBindings(e,t,n,s,r){const i=n.start.toString();try{const a=this._exprParser.parseTemplateBindings(e,t,i,s,r);return this._reportExpressionParserErrors(a.errors,n),a.templateBindings.forEach(e=>{e.value instanceof ii&&this._checkPipes(e.value,n)}),a.warnings.forEach(e=>{this._reportError(e,n,Er.WARNING)}),a.templateBindings}catch(e){return this._reportError(""+e,n),[]}}parseLiteralAttr(e,t,n,s,r,i,a,o){ja(e)?(e=e.substring(1),void 0!==o&&(o=qa(o,new ri(o.start.offset+1,o.end.offset))),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,Er.ERROR),this._parseAnimation(e,t,n,s,o,r,i,a)):a.push(new ci(e,this._exprParser.wrapLiteralPrimitive(t,"",s),_r.LITERAL_ATTR,n,o,r))}parsePropertyBinding(e,t,n,s,r,i,a,o,l){0===e.length&&this._reportError("Property name is missing in binding",s);let c=!1;e.startsWith("animate-")?(c=!0,e=e.substring("animate-".length),void 0!==l&&(l=qa(l,new ri(l.start.offset+"animate-".length,l.end.offset)))):ja(e)&&(c=!0,e=e.substring(1),void 0!==l&&(l=qa(l,new ri(l.start.offset+1,l.end.offset)))),c?this._parseAnimation(e,t,s,r,l,i,a,o):this._parsePropertyAst(e,this._parseBinding(t,n,i||s,r),s,l,i,a,o)}parsePropertyInterpolation(e,t,n,s,r,i,a){const o=this.parseInterpolation(t,s||n);return!!o&&(this._parsePropertyAst(e,o,n,a,s,r,i),!0)}_parsePropertyAst(e,t,n,s,r,i,a){i.push([e,t.source]),a.push(new ci(e,t,_r.DEFAULT,n,s,r))}_parseAnimation(e,t,n,s,r,i,a,o){0===e.length&&this._reportError("Animation trigger is missing",n);const l=this._parseBinding(t||"undefined",!1,i||n,s);a.push([e,l.source]),o.push(new ci(e,l,_r.ANIMATION,n,r,i))}_parseBinding(e,t,n,s){const r=(n&&n.start||"(unknown)").toString();try{const i=t?this._exprParser.parseSimpleBinding(e,r,s,this._interpolationConfig):this._exprParser.parseBinding(e,r,s,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),this._checkPipes(i,n),i}catch(e){return this._reportError(""+e,n),this._exprParser.wrapLiteralPrimitive("ERROR",r,s)}}createBoundElementProperty(e,t,n=!1,s=!0){if(t.isAnimation)return new hi(t.name,4,ke.NONE,t.expression,null,t.sourceSpan,t.keySpan,t.valueSpan);let r=null,i=void 0,a=null;const o=t.name.split(".");let l=void 0;if(o.length>1)if("attr"==o[0]){a=o.slice(1).join("."),n||this._validatePropertyOrAttributeName(a,t.sourceSpan,!0),l=Ua(this._schemaRegistry,e,a,!0);const s=a.indexOf(":");if(s>-1){const e=a.substring(0,s),t=a.substring(s+1);a=ye(e,t)}i=1}else"class"==o[0]?(a=o[1],i=2,l=[ke.NONE]):"style"==o[0]&&(r=o.length>2?o[2]:null,a=o[1],i=3,l=[ke.STYLE]);if(null===a){const r=this._schemaRegistry.getMappedPropName(t.name);a=s?r:t.name,l=Ua(this._schemaRegistry,e,r,!1),i=0,n||this._validatePropertyOrAttributeName(r,t.sourceSpan,!1)}return new hi(a,i,l[0],t.expression,r,t.sourceSpan,t.keySpan,t.valueSpan)}parseEvent(e,t,n,s,r,i,a){0===e.length&&this._reportError("Event name is missing in binding",n),ja(e)?(e=e.substr(1),void 0!==a&&(a=qa(a,new ri(a.start.offset+1,a.end.offset))),this._parseAnimationEvent(e,t,n,s,i,a)):this._parseRegularEvent(e,t,n,s,r,i,a)}calcPossibleSecurityContexts(e,t,n){const s=this._schemaRegistry.getMappedPropName(t);return Ua(this._schemaRegistry,e,s,n)}_parseAnimationEvent(e,t,n,s,r,i){const a=gn(e,".",[e,""]),o=a[0],l=a[1].toLowerCase(),c=this._parseAction(t,s);r.push(new ui(o,l,1,c,n,s,i)),0===o.length&&this._reportError("Animation event name is missing in binding",n),l?"start"!==l&&"done"!==l&&this._reportError(`The provided animation output phase value "${l}" for "@${o}" is not supported (use start or done)`,n):this._reportError(`The animation trigger output event (@${o}) is missing its phase value name (start or done are currently supported)`,n)}_parseRegularEvent(e,t,n,s,r,i,a){const[o,l]=mn(e,[null,e]),c=this._parseAction(t,s);r.push([e,c.source]),i.push(new ui(l,o,0,c,n,s,a))}_parseAction(e,t){const n=(t&&t.start||"(unknown").toString(),s=t&&t.start?t.start.offset:0;try{const r=this._exprParser.parseAction(e,n,s,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),!r||r.ast instanceof Dr?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",n,s)):(this._checkPipes(r,t),r)}catch(e){return this._reportError(""+e,t),this._exprParser.wrapLiteralPrimitive("ERROR",n,s)}}_reportError(e,t,n=Er.ERROR){this.errors.push(new br(t,e,n))}_reportExpressionParserErrors(e,t){for(const n of e)this._reportError(n.message,t)}_checkPipes(e,t){if(e&&this.pipesByName){const n=new Va;e.visit(n),n.pipes.forEach((e,n)=>{const s=this.pipesByName.get(n);s?this._usedPipes.set(n,s):this._reportError(`The pipe '${n}' could not be found`,new Sr(t.start.moveBy(e.span.start),t.start.moveBy(e.span.end)))})}}_validatePropertyOrAttributeName(e,t,n){const s=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);s.error&&this._reportError(s.msg,t,Er.ERROR)}}class Va extends li{constructor(){super(...arguments),this.pipes=new Map}visitPipe(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null}}function ja(e){return"@"==e[0]}function Ua(e,t,n,s){const r=[];return be.parse(t).forEach(t=>{const i=t.element?[t.element]:e.allKnownElementNames(),a=new Set(t.notSelectors.filter(e=>e.isElementSelector()).map(e=>e.element)),o=i.filter(e=>!a.has(e));r.push(...o.map(t=>e.securityContext(t,n,s)))}),0===r.length?[ke.NONE]:Array.from(new Set(r)).sort()}function qa(e,t){const n=t.start-e.start.offset,s=t.end-e.end.offset;return new Sr(e.start.moveBy(n),e.end.moveBy(s),e.fullStart.moveBy(n),e.details)}function Ha(e){let t=null,n=null,s=null,r=!1,i="";e.attrs.forEach(e=>{const a=e.name.toLowerCase();"select"==a?t=e.value:"href"==a?n=e.value:"rel"==a?s=e.value:"ngNonBindable"==e.name?r=!0:"ngProjectAs"==e.name&&e.value.length>0&&(i=e.value)}),t=function(e){return null===e||0===e.length?"*":e}(t);const a=e.name.toLowerCase();let o=Wa.OTHER;return fe(a)?o=Wa.NG_CONTENT:"style"==a?o=Wa.STYLE:"script"==a?o=Wa.SCRIPT:"link"==a&&"stylesheet"==s&&(o=Wa.STYLESHEET),new Ka(o,t,n,r,i)}var Wa,za;!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(Wa||(Wa={}));class Ka{constructor(e,t,n,s,r){this.type=e,this.selectAttr=t,this.hrefAttr=n,this.nonBindable=s,this.projectAs=r}}function Xa(e){return e instanceof ii&&(e=e.ast),e instanceof Dr}function Ga(e){const t=e.charCodeAt(0);if(t==e.charCodeAt(e.length-1)&&(39==t||34==t)){const t=e.substring(1,e.length-1);-1==t.indexOf("'")&&-1==t.indexOf('"')&&(e=t)}return e}function Qa(e){return e.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}class Ya{constructor(e){this._directiveExpr=e,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}registerBoundInput(e){let t=null,n=e.name;switch(e.type){case 0:t=this.registerInputBasedOnName(n,e.value,e.sourceSpan);break;case 3:t=this.registerStyleInput(n,!1,e.value,e.sourceSpan,e.unit);break;case 2:t=this.registerClassInput(n,!1,e.value,e.sourceSpan)}return!!t}registerInputBasedOnName(e,t,n){let s=null;const r=e.substring(0,6),i="style"===e||"style."===r||"style!"===r;if(i||!i&&("class"===e||"class."===r||"class!"===r)){const r="."!==e.charAt(5),a=e.substr(r?5:6);s=i?this.registerStyleInput(a,r,t,n):this.registerClassInput(a,r,t,n)}return s}registerStyleInput(e,t,n,s,r){if(Xa(n))return null;e=Qa(e);const{property:i,hasOverrideFlag:a,suffix:o}=Ja(e),l={name:i,suffix:r="string"==typeof r&&0!==r.length?r:o,value:n,sourceSpan:s,hasOverrideFlag:a};return t?this._styleMapInput=l:((this._singleStyleInputs=this._singleStyleInputs||[]).push(l),Za(this._stylesIndex,i)),this._lastStylingInput=l,this._firstStylingInput=this._firstStylingInput||l,this._checkForPipes(n),this.hasBindings=!0,l}registerClassInput(e,t,n,s){if(Xa(n))return null;const{property:r,hasOverrideFlag:i}=Ja(e),a={name:r,value:n,sourceSpan:s,hasOverrideFlag:i,suffix:null};if(t){if(this._classMapInput)throw new Error("[class] and [className] bindings cannot be used on the same element simultaneously");this._classMapInput=a}else(this._singleClassInputs=this._singleClassInputs||[]).push(a),Za(this._classesIndex,r);return this._lastStylingInput=a,this._firstStylingInput=this._firstStylingInput||a,this._checkForPipes(n),this.hasBindings=!0,a}_checkForPipes(e){e instanceof ii&&e.ast instanceof zr&&(this.hasBindingsWithPipes=!0)}registerStyleAttr(e){this._initialStyleValues=function(e){const t=[];let n=0,s=0,r=0,i=0,a=0,o=null,l=!1;for(;n<e.length;)switch(e.charCodeAt(n++)){case 40:s++;break;case 41:s--;break;case 39:l=l||i>0,0===r?r=39:39===r&&92!==e.charCodeAt(n-1)&&(r=0);break;case 34:l=l||i>0,0===r?r=34:34===r&&92!==e.charCodeAt(n-1)&&(r=0);break;case 58:o||0!==s||0!==r||(o=Qa(e.substring(a,n-1).trim()),i=n);break;case 59:if(o&&i>0&&0===s&&0===r){const s=e.substring(i,n-1).trim();t.push(o,l?Ga(s):s),a=n,i=0,o=null,l=!1}}if(o&&i){const n=e.substr(i).trim();t.push(o,l?Ga(n):n)}return t}(e),this._hasInitialValues=!0}registerClassAttr(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(e){if(this._initialClassValues.length){e.push(Jt(1));for(let t=0;t<this._initialClassValues.length;t++)e.push(Jt(this._initialClassValues[t]))}if(this._initialStyleValues.length){e.push(Jt(2));for(let t=0;t<this._initialStyleValues.length;t+=2)e.push(Jt(this._initialStyleValues[t]),Jt(this._initialStyleValues[t+1]))}}assignHostAttrs(e,t){this._directiveExpr&&(e.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(e),t.set("hostAttrs",Xt(e)))}buildClassMapInstruction(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}buildStyleMapInstruction(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}_buildMapBasedInstruction(e,t,n){let s=2;const r=n.value.visit(e);let i;return r instanceof Qr?(s+=r.expressions.length,i=t?function(e){switch(Ys(e)){case 1:return In.classMap;case 3:return In.classMapInterpolate1;case 5:return In.classMapInterpolate2;case 7:return In.classMapInterpolate3;case 9:return In.classMapInterpolate4;case 11:return In.classMapInterpolate5;case 13:return In.classMapInterpolate6;case 15:return In.classMapInterpolate7;case 17:return In.classMapInterpolate8;default:return In.classMapInterpolateV}}(r):function(e){switch(Ys(e)){case 1:return In.styleMap;case 3:return In.styleMapInterpolate1;case 5:return In.styleMapInterpolate2;case 7:return In.styleMapInterpolate3;case 9:return In.styleMapInterpolate4;case 11:return In.styleMapInterpolate5;case 13:return In.styleMapInterpolate6;case 15:return In.styleMapInterpolate7;case 17:return In.styleMapInterpolate8;default:return In.styleMapInterpolateV}}(r)):i=t?In.classMap:In.styleMap,{reference:i,calls:[{supportsInterpolation:!0,sourceSpan:n.sourceSpan,allocateBindingSlots:s,params:e=>{const t=e(r);return Array.isArray(t)?t:[t]}}]}}_buildSingleInputs(e,t,n,s,r){const i=[];return t.forEach(t=>{const a=i[i.length-1],o=t.value.visit(n);let l=e,c=2;o instanceof Qr&&(c+=o.expressions.length,s&&(l=s(o)));const u={sourceSpan:t.sourceSpan,allocateBindingSlots:c,supportsInterpolation:!!s,params:e=>{const n=[];n.push(Jt(t.name));const s=e(o);return Array.isArray(s)?n.push(...s):n.push(s),r||null===t.suffix||n.push(Jt(t.suffix)),n}};a&&a.reference===l?a.calls.push(u):i.push({reference:l,calls:[u]})}),i}_buildClassInputs(e){return this._singleClassInputs?this._buildSingleInputs(In.classProp,this._singleClassInputs,e,null,!0):[]}_buildStyleInputs(e){return this._singleStyleInputs?this._buildSingleInputs(In.styleProp,this._singleStyleInputs,e,eo,!1):[]}buildUpdateLevelInstructions(e){const t=[];if(this.hasBindings){const n=this.buildStyleMapInstruction(e);n&&t.push(n);const s=this.buildClassMapInstruction(e);s&&t.push(s),t.push(...this._buildStyleInputs(e)),t.push(...this._buildClassInputs(e))}return t}}function Za(e,t){e.has(t)||e.set(t,e.size)}function Ja(e){let t=!1;const n=e.indexOf("!important");-1!==n&&(e=n>0?e.substring(0,n):"",t=!0);let s=null,r=e;const i=e.lastIndexOf(".");return i>0&&(s=e.substr(i+1),r=e.substring(0,i)),{property:r,suffix:s,hasOverrideFlag:t}}function eo(e){switch(Ys(e)){case 1:return In.styleProp;case 3:return In.stylePropInterpolate1;case 5:return In.stylePropInterpolate2;case 7:return In.stylePropInterpolate3;case 9:return In.stylePropInterpolate4;case 11:return In.stylePropInterpolate5;case 13:return In.stylePropInterpolate6;case 15:return In.stylePropInterpolate7;case 17:return In.stylePropInterpolate8;default:return In.stylePropInterpolateV}}!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error"}(za||(za={}));const to=["var","let","as","null","undefined","true","false","if","else","this"];class no{tokenize(e){const t=new oo(e),n=[];let s=t.scanToken();for(;null!=s;)n.push(s),s=t.scanToken();return n}}class so{constructor(e,t,n,s,r){this.index=e,this.end=t,this.type=n,this.numValue=s,this.strValue=r}isCharacter(e){return this.type==za.Character&&this.numValue==e}isNumber(){return this.type==za.Number}isString(){return this.type==za.String}isOperator(e){return this.type==za.Operator&&this.strValue==e}isIdentifier(){return this.type==za.Identifier}isKeyword(){return this.type==za.Keyword}isKeywordLet(){return this.type==za.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==za.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==za.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==za.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==za.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==za.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==za.Keyword&&"this"==this.strValue}isError(){return this.type==za.Error}toNumber(){return this.type==za.Number?this.numValue:-1}toString(){switch(this.type){case za.Character:case za.Identifier:case za.Keyword:case za.Operator:case za.String:case za.Error:return this.strValue;case za.Number:return this.numValue.toString();default:return null}}}function ro(e,t,n){return new so(e,t,za.Character,n,String.fromCharCode(n))}function io(e,t,n){return new so(e,t,za.Operator,0,n)}const ao=new so(-1,-1,za.Character,0,"");class oo{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}scanToken(){const e=this.input,t=this.length;let n=this.peek,s=this.index;for(;n<=32;){if(++s>=t){n=0;break}n=e.charCodeAt(s)}if(this.peek=n,this.index=s,s>=t)return null;if(lo(n))return this.scanIdentifier();if(mr(n))return this.scanNumber(s);const r=s;switch(n){case 46:return this.advance(),mr(this.peek)?this.scanNumber(r):ro(r,this.index,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(r,n);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(r,String.fromCharCode(n));case 63:return this.scanComplexOperator(r,"?",46,".");case 60:case 62:return this.scanComplexOperator(r,String.fromCharCode(n),61,"=");case 33:case 61:return this.scanComplexOperator(r,String.fromCharCode(n),61,"=",61,"=");case 38:return this.scanComplexOperator(r,"&",38,"&");case 124:return this.scanComplexOperator(r,"|",124,"|");case 160:for(;dr(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(n)}]`,0)}scanCharacter(e,t){return this.advance(),ro(e,this.index,t)}scanOperator(e,t){return this.advance(),io(e,this.index,t)}scanComplexOperator(e,t,n,s,r,i){this.advance();let a=t;return this.peek==n&&(this.advance(),a+=s),null!=r&&this.peek==r&&(this.advance(),a+=i),io(e,this.index,a)}scanIdentifier(){const e=this.index;for(this.advance();co(this.peek);)this.advance();const t=this.input.substring(e,this.index);return to.indexOf(t)>-1?new so(e,this.index,za.Keyword,0,t):function(e,t,n){return new so(e,t,za.Identifier,0,n)}(e,this.index,t)}scanNumber(e){let t=this.index===e;for(this.advance();;){if(mr(this.peek));else if(46==this.peek)t=!1;else{if(101!=(n=this.peek)&&69!=n)break;if(this.advance(),uo(this.peek)&&this.advance(),!mr(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var n;const s=this.input.substring(e,this.index),r=t?function(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(s):parseFloat(s);return new so(e,this.index,za.Number,r,"")}scanString(){const e=this.index,t=this.peek;this.advance();let n="",s=this.index;const r=this.input;for(;this.peek!=t;)if(92==this.peek){let e;if(n+=r.substring(s,this.index),this.advance(),this.peek=this.peek,117==this.peek){const t=r.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(t))return this.error(`Invalid unicode escape [\\u${t}]`,0);e=parseInt(t,16);for(let e=0;e<5;e++)this.advance()}else e=ho(this.peek),this.advance();n+=String.fromCharCode(e),s=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}const i=r.substring(s,this.index);return this.advance(),new so(e,this.index,za.String,0,n+i)}error(e,t){const n=this.index+t;return function(e,t,n){return new so(e,t,za.Error,0,n)}(n,this.index,`Lexer Error: ${e} at column ${n} in expression [${this.input}]`)}}function lo(e){return 97<=e&&e<=122||65<=e&&e<=90||95==e||36==e}function co(e){return gr(e)||mr(e)||95==e||36==e}function uo(e){return 45==e||43==e}function po(e){return 39===e||34===e||96===e}function ho(e){switch(e){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return e}}class mo{constructor(e,t,n){this.strings=e,this.expressions=t,this.offsets=n}}class go{constructor(e,t,n){this.templateBindings=e,this.warnings=t,this.errors=n}}class fo{constructor(e){this._lexer=e,this.errors=[],this.simpleExpressionChecker=So}parseAction(e,t,n,s=or){this._checkNoInterpolation(e,t,s);const r=this._stripComments(e),i=this._lexer.tokenize(this._stripComments(e)),a=new xo(e,t,n,i,r.length,!0,this.errors,e.length-r.length).parseChain();return new ii(a,e,t,n,this.errors)}parseBinding(e,t,n,s=or){const r=this._parseBindingAst(e,t,n,s);return new ii(r,e,t,n,this.errors)}checkSimpleExpression(e){const t=new this.simpleExpressionChecker;return e.visit(t),t.errors}parseSimpleBinding(e,t,n,s=or){const r=this._parseBindingAst(e,t,n,s),i=this.checkSimpleExpression(r);return i.length>0&&this._reportError("Host binding expression cannot contain "+i.join(" "),e,t),new ii(r,e,t,n,this.errors)}_reportError(e,t,n,s){this.errors.push(new kr(e,t,n,s))}_parseBindingAst(e,t,n,s){const r=this._parseQuote(e,t,n);if(null!=r)return r;this._checkNoInterpolation(e,t,s);const i=this._stripComments(e),a=this._lexer.tokenize(i);return new xo(e,t,n,a,i.length,!1,this.errors,e.length-i.length).parseChain()}_parseQuote(e,t,n){if(null==e)return null;const s=e.indexOf(":");if(-1==s)return null;const r=e.substring(0,s).trim();if(!function(e){if(0==e.length)return!1;const t=new oo(e);if(!lo(t.peek))return!1;for(t.advance();0!==t.peek;){if(!co(t.peek))return!1;t.advance()}return!0}(r))return null;const i=e.substring(s+1),a=new Or(0,e.length);return new Rr(a,a.toAbsolute(n),r,i,t)}parseTemplateBindings(e,t,n,s,r){const i=this._lexer.tokenize(t);return new xo(t,n,r,i,t.length,!1,this.errors,0).parseTemplateBindings({source:e,span:new ri(s,s+e.length)})}parseInterpolation(e,t,n,s=or){const{strings:r,expressions:i,offsets:a}=this.splitInterpolation(e,t,s);if(0===i.length)return null;const o=[];for(let s=0;s<i.length;++s){const r=i[s].text,l=this._stripComments(r),c=this._lexer.tokenize(l),u=new xo(e,t,n,c,l.length,!1,this.errors,a[s]+(r.length-l.length)).parseChain();o.push(u)}return this.createInterpolationAst(r.map(e=>e.text),o,e,t,n)}parseInterpolationExpression(e,t,n){const s=this._stripComments(e),r=this._lexer.tokenize(s),i=new xo(e,t,n,r,s.length,!1,this.errors,0).parseChain();return this.createInterpolationAst(["",""],[i],e,t,n)}createInterpolationAst(e,t,n,s,r){const i=new Or(0,n.length),a=new Qr(i,i.toAbsolute(r),e,t);return new ii(a,n,s,r,this.errors)}splitInterpolation(e,t,n=or){const s=[],r=[],i=[];let a=0,o=!1,l=!1,{start:c,end:u}=n;for(;a<e.length;)if(o){const n=a,s=n+c.length,p=this._getInterpolationEndIndex(e,u,s);if(-1===p){o=!1,l=!0;break}const h=p+u.length,d=e.substring(s,p);0===d.trim().length&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${a} in`,t),r.push({text:d,start:n,end:h}),i.push(s),a=h,o=!1}else{const t=a;a=e.indexOf(c,a),-1===a&&(a=e.length);const n=e.substring(t,a);s.push({text:n,start:t,end:a}),o=!0}if(!o)if(l){const t=s[s.length-1];t.text+=e.substring(a),t.end=e.length}else s.push({text:e.substring(a),start:a,end:e.length});return new mo(s,r,i)}wrapLiteralPrimitive(e,t,n){const s=new Or(0,null==e?0:e.length);return new ii(new Kr(s,s.toAbsolute(n),e),e,t,n,this.errors)}_stripComments(e){const t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e}_commentStart(e){let t=null;for(let n=0;n<e.length-1;n++){const s=e.charCodeAt(n),r=e.charCodeAt(n+1);if(47===s&&47==r&&null==t)return n;t===s?t=null:null==t&&po(s)&&(t=s)}return null}_checkNoInterpolation(e,t,{start:n,end:s}){let r=-1,i=-1;for(const t of this._forEachUnquotedChar(e,0))if(-1===r)e.startsWith(n)&&(r=t);else if(i=this._getInterpolationEndIndex(e,s,t),i>-1)break;r>-1&&i>-1&&this._reportError(`Got interpolation (${n}${s}) where expression was expected`,e,`at column ${r} in`,t)}_getInterpolationEndIndex(e,t,n){for(const s of this._forEachUnquotedChar(e,n)){if(e.startsWith(t,s))return s;if(e.startsWith("//",s))return e.indexOf(t,s)}return-1}_forEachUnquotedChar(e,t){return regeneratorRuntime.mark(function n(){var s,r,i,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:s=null,r=0,i=t;case 3:if(!(i<e.length)){n.next=16;break}if(a=e[i],!po(e.charCodeAt(i))||null!==s&&s!==a||r%2!=0){n.next=9;break}s=null===s?a:null,n.next=12;break;case 9:if(null!==s){n.next=12;break}return n.next=12,i;case 12:r="\\"===a?r+1:0;case 13:i++,n.next=3;break;case 16:case"end":return n.stop()}},n)})()}}class vo extends fo{constructor(){super(...arguments),this.simpleExpressionChecker=Eo}}var yo;!function(e){e[e.None=0]="None",e[e.Writable=1]="Writable"}(yo||(yo={}));class xo{constructor(e,t,n,s,r,i,a,o){this.input=e,this.location=t,this.absoluteOffset=n,this.tokens=s,this.inputLength=r,this.parseAction=i,this.errors=a,this.offset=o,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=yo.None,this.sourceSpanCache=new Map,this.index=0}peek(e){const t=this.index+e;return t<this.tokens.length?this.tokens[t]:ao}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:0===this.tokens.length?this.inputLength+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,t){let n=this.currentEndIndex;return void 0!==t&&t>this.currentEndIndex&&(n=t),new Or(e,n)}sourceSpan(e,t){const n=`${e}@${this.inputIndex}:${t}`;return this.sourceSpanCache.has(n)||this.sourceSpanCache.set(n,this.span(e,t).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(n)}advance(){this.index++}withContext(e,t){this.context|=e;const n=t();return this.context^=e,n}consumeOptionalCharacter(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error("Missing expected "+String.fromCharCode(e))}consumeOptionalOperator(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}expectOperator(e){this.consumeOptionalOperator(e)||this.error("Missing expected operator "+e)}prettyPrintToken(e){return e===ao?"end of input":"token "+e}expectIdentifierOrKeyword(){const e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null)}expectIdentifierOrKeywordOrString(){const e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),"")}parseChain(){const e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){const t=this.parsePipe();if(e.push(t),this.consumeOptionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(59););else this.index<this.tokens.length&&this.error(`Unexpected token '${this.next}'`)}if(0==e.length){const e=this.offset,t=this.offset+this.inputLength;return new Dr(this.span(e,t),this.sourceSpan(e,t))}return 1==e.length?e[0]:new $r(this.span(t),this.sourceSpan(t),e)}parsePipe(){const e=this.inputIndex;let t=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{const n=this.inputIndex;let s,r=this.expectIdentifierOrKeyword(),i=void 0;null!==r?s=this.sourceSpan(n):(r="",i=-1!==this.next.index?this.next.index:this.inputLength+this.offset,s=new Or(i,i).toAbsolute(this.absoluteOffset));const a=[];for(;this.consumeOptionalCharacter(58);)a.push(this.parseExpression());t=new zr(this.span(e),this.sourceSpan(e,i),t,r,a,s)}while(this.consumeOptionalOperator("|"))}return t}parseExpression(){return this.parseConditional()}parseConditional(){const e=this.inputIndex,t=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){const n=this.parsePipe();let s;if(this.consumeOptionalCharacter(58))s=this.parsePipe();else{const t=this.input.substring(e,this.inputIndex);this.error(`Conditional expression ${t} requires all 3 expressions`),s=new Dr(this.span(e),this.sourceSpan(e))}return new Vr(this.span(e),this.sourceSpan(e),t,n,s)}return t}parseLogicalOr(){const e=this.inputIndex;let t=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){const n=this.parseLogicalAnd();t=new Yr(this.span(e),this.sourceSpan(e),"||",t,n)}return t}parseLogicalAnd(){const e=this.inputIndex;let t=this.parseEquality();for(;this.consumeOptionalOperator("&&");){const n=this.parseEquality();t=new Yr(this.span(e),this.sourceSpan(e),"&&",t,n)}return t}parseEquality(){const e=this.inputIndex;let t=this.parseRelational();for(;this.next.type==za.Operator;){const n=this.next.strValue;switch(n){case"==":case"===":case"!=":case"!==":this.advance();const s=this.parseRelational();t=new Yr(this.span(e),this.sourceSpan(e),n,t,s);continue}break}return t}parseRelational(){const e=this.inputIndex;let t=this.parseAdditive();for(;this.next.type==za.Operator;){const n=this.next.strValue;switch(n){case"<":case">":case"<=":case">=":this.advance();const s=this.parseAdditive();t=new Yr(this.span(e),this.sourceSpan(e),n,t,s);continue}break}return t}parseAdditive(){const e=this.inputIndex;let t=this.parseMultiplicative();for(;this.next.type==za.Operator;){const n=this.next.strValue;switch(n){case"+":case"-":this.advance();let s=this.parseMultiplicative();t=new Yr(this.span(e),this.sourceSpan(e),n,t,s);continue}break}return t}parseMultiplicative(){const e=this.inputIndex;let t=this.parsePrefix();for(;this.next.type==za.Operator;){const n=this.next.strValue;switch(n){case"*":case"%":case"/":this.advance();let s=this.parsePrefix();t=new Yr(this.span(e),this.sourceSpan(e),n,t,s);continue}break}return t}parsePrefix(){if(this.next.type==za.Operator){const e=this.inputIndex;let t;switch(this.next.strValue){case"+":return this.advance(),t=this.parsePrefix(),Zr.createPlus(this.span(e),this.sourceSpan(e),t);case"-":return this.advance(),t=this.parsePrefix(),Zr.createMinus(this.span(e),this.sourceSpan(e),t);case"!":return this.advance(),t=this.parsePrefix(),new Jr(this.span(e),this.sourceSpan(e),t)}}return this.parseCallChain()}parseCallChain(){const e=this.inputIndex;let t=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(46))t=this.parseAccessMemberOrMethodCall(t,e,!1);else if(this.consumeOptionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,e,!0);else if(this.consumeOptionalCharacter(91))this.withContext(yo.Writable,()=>{this.rbracketsExpected++;const n=this.parsePipe();if(n instanceof Dr&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(93),this.consumeOptionalOperator("=")){const s=this.parseConditional();t=new Wr(this.span(e),this.sourceSpan(e),t,n,s)}else t=new Hr(this.span(e),this.sourceSpan(e),t,n)});else if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const n=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),t=new si(this.span(e),this.sourceSpan(e),t,n)}else{if(!this.consumeOptionalOperator("!"))return t;t=new ei(this.span(e),this.sourceSpan(e),t)}}parsePrimary(){const e=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),e}if(this.next.isKeywordNull())return this.advance(),new Kr(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Kr(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Kr(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Kr(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new Br(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;const t=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new Xr(this.span(e),this.sourceSpan(e),t)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new Fr(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){const t=this.next.toNumber();return this.advance(),new Kr(this.span(e),this.sourceSpan(e),t)}if(this.next.isString()){const t=this.next.toString();return this.advance(),new Kr(this.span(e),this.sourceSpan(e),t)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new Dr(this.span(e),this.sourceSpan(e))):(this.error("Unexpected token "+this.next),new Dr(this.span(e),this.sourceSpan(e)))}parseExpressionList(e){const t=[];do{if(this.next.isCharacter(e))break;t.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return t}parseLiteralMap(){const e=[],t=[],n=this.inputIndex;if(this.expectCharacter(123),!this.consumeOptionalCharacter(125)){this.rbracesExpected++;do{const n=this.next.isString(),s=this.expectIdentifierOrKeywordOrString();e.push({key:s,quoted:n}),this.expectCharacter(58),t.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new Gr(this.span(n),this.sourceSpan(n),e,t)}parseAccessMemberOrMethodCall(e,t,n=!1){const s=this.inputIndex,r=this.withContext(yo.Writable,()=>{var t;const n=null!==(t=this.expectIdentifierOrKeyword())&&void 0!==t?t:"";return 0===n.length&&this.error("Expected identifier for property access",e.span.end),n}),i=this.sourceSpan(s);if(this.consumeOptionalCharacter(40)){this.rparensExpected++;const s=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;const a=this.span(t),o=this.sourceSpan(t);return n?new ni(a,o,i,e,r,s):new ti(a,o,i,e,r,s)}if(n)return this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new Dr(this.span(t),this.sourceSpan(t))):new qr(this.span(t),this.sourceSpan(t),i,e,r);if(this.consumeOptionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new Dr(this.span(t),this.sourceSpan(t));const n=this.parseConditional();return new Ur(this.span(t),this.sourceSpan(t),i,e,r,n)}return new jr(this.span(t),this.sourceSpan(t),i,e,r)}parseCallArguments(){if(this.next.isCharacter(41))return[];const e=[];do{e.push(this.parsePipe())}while(this.consumeOptionalCharacter(44));return e}expectTemplateBindingKey(){let e="",t=!1;const n=this.currentAbsoluteOffset;do{e+=this.expectIdentifierOrKeywordOrString(),t=this.consumeOptionalOperator("-"),t&&(e+="-")}while(t);return{source:e,span:new ri(n,n+e.length)}}parseTemplateBindings(e){const t=[];for(t.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){const n=this.parseLetBinding();if(n)t.push(n);else{const n=this.expectTemplateBindingKey(),s=this.parseAsBinding(n);s?t.push(s):(n.source=e.source+n.source.charAt(0).toUpperCase()+n.source.substring(1),t.push(...this.parseDirectiveKeywordBindings(n)))}this.consumeStatementTerminator()}return new go(t,[],this.errors)}parseDirectiveKeywordBindings(e){const t=[];this.consumeOptionalCharacter(58);const n=this.getDirectiveBoundTarget();let s=this.currentAbsoluteOffset;const r=this.parseAsBinding(e);r||(this.consumeStatementTerminator(),s=this.currentAbsoluteOffset);const i=new ri(e.span.start,s);return t.push(new oi(i,e,n)),r&&t.push(r),t}getDirectiveBoundTarget(){if(this.next===ao||this.peekKeywordAs()||this.peekKeywordLet())return null;const e=this.parsePipe(),{start:t,end:n}=e.span,s=this.input.substring(t,n);return new ii(e,s,this.location,this.absoluteOffset+t,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();const t=this.expectTemplateBindingKey();this.consumeStatementTerminator();const n=new ri(e.span.start,this.currentAbsoluteOffset);return new ai(n,t,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;const e=this.currentAbsoluteOffset;this.advance();const t=this.expectTemplateBindingKey();let n=null;this.consumeOptionalOperator("=")&&(n=this.expectTemplateBindingKey()),this.consumeStatementTerminator();const s=new ri(e,this.currentAbsoluteOffset);return new ai(s,t,n)}consumeStatementTerminator(){this.consumeOptionalCharacter(59)||this.consumeOptionalCharacter(44)}error(e,t=null){this.errors.push(new kr(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return null==e&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(59)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(41))&&(this.rbracesExpected<=0||!e.isCharacter(125))&&(this.rbracketsExpected<=0||!e.isCharacter(93))&&!(this.context&yo.Writable&&e.isOperator("="));)this.next.isError()&&this.errors.push(new kr(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}}class So{constructor(){this.errors=[]}visitImplicitReceiver(e,t){}visitThisReceiver(e,t){}visitInterpolation(e,t){}visitLiteralPrimitive(e,t){}visitPropertyRead(e,t){}visitPropertyWrite(e,t){}visitSafePropertyRead(e,t){}visitMethodCall(e,t){}visitSafeMethodCall(e,t){}visitFunctionCall(e,t){}visitLiteralArray(e,t){this.visitAll(e.expressions,t)}visitLiteralMap(e,t){this.visitAll(e.values,t)}visitUnary(e,t){}visitBinary(e,t){}visitPrefixNot(e,t){}visitNonNullAssert(e,t){}visitConditional(e,t){}visitPipe(e,t){this.errors.push("pipes")}visitKeyedRead(e,t){}visitKeyedWrite(e,t){}visitAll(e,t){return e.map(e=>e.visit(this,t))}visitChain(e,t){}visitQuote(e,t){}}class Eo extends li{constructor(){super(...arguments),this.errors=[]}visitPipe(){this.errors.push("pipes")}}let _o;function wo(){return _o||(_o={},Co(ke.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Co(ke.STYLE,["*|style"]),Co(ke.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),Co(ke.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),_o}function Co(e,t){for(const n of t)_o[n.toLowerCase()]=e}const bo=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|autocomplete,!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,autocomplete,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],Io={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},To=Object.keys(Io).reduce((e,t)=>(e[Io[t]]=t,e),{});class No extends class{}{constructor(){super(),this._schema={},bo.forEach(e=>{const t={},[n,s]=e.split("|"),r=s.split(","),[i,a]=n.split("^");i.split(",").forEach(e=>this._schema[e.toLowerCase()]=t);const o=a&&this._schema[a.toLowerCase()];o&&Object.keys(o).forEach(e=>{t[e]=o[e]}),r.forEach(e=>{if(e.length>0)switch(e[0]){case"*":break;case"!":t[e.substring(1)]="boolean";break;case"#":t[e.substring(1)]="number";break;case"%":t[e.substring(1)]="object";break;default:t[e]="string"}})})}hasProperty(e,t,n){if(n.some(e=>"no-errors-schema"===e.name))return!0;if(e.indexOf("-")>-1){if(ge(e)||fe(e))return!1;if(n.some(e=>"custom-elements"===e.name))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]}hasElement(e,t){if(t.some(e=>"no-errors-schema"===e.name))return!0;if(e.indexOf("-")>-1){if(ge(e)||fe(e))return!0;if(t.some(e=>"custom-elements"===e.name))return!0}return!!this._schema[e.toLowerCase()]}securityContext(e,t,n){n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let s=wo()[e+"|"+t];return s||(s=wo()["*|"+t],s||ke.NONE)}getMappedPropName(e){return Io[e]||e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...\nIf '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Object.keys(this._schema)}allKnownAttributesOfElement(e){const t=this._schema[e.toLowerCase()]||this._schema.unknown;return Object.keys(t).map(e=>{var t;return null!==(t=To[e])&&void 0!==t?t:e})}normalizeAnimationStyleProperty(e){return e.replace(dn,(...e)=>e[1].toUpperCase())}normalizeAnimationStyleValue(e,t,n){let s="";const r=n.toString().trim();let i=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&(i=`Please provide a CSS unit value for ${t}:${n}`)}return{error:i,value:r+s}}}const Ao=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function Po(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),Ao.has(e+"|"+t)||Ao.has("*|"+t)}const ko=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,Oo={start:"[(",end:")]"},Mo={start:"[",end:"]"},Lo={start:"(",end:")"};class Ro{constructor(e){this.bindingParser=e,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.inI18nBlock=!1}visitElement(e){const t=Ns(e.i18n);t&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);const n=Ha(e);if(n.type===Wa.SCRIPT)return null;if(n.type===Wa.STYLE){const t=1===(s=e).children.length&&s.children[0]instanceof na?s.children[0].value:null;return null!==t&&this.styles.push(t),null}if(n.type===Wa.STYLESHEET&&function(e){if(null==e||0===e.length||"/"==e[0])return!1;const t=e.match(Ba);return null===t||"package"==t[1]||"asset"==t[1]}(n.hrefAttr))return this.styleUrls.push(n.hrefAttr),null;var s;const r="ng-template"===me(e.name)[1],i=[],a=[],o=[],l=[],c=[],u={},p=[],h=[];let d=!1;for(const t of e.attrs){let e=!1;const n=Fo(t.name);let s=!1;if(t.i18n&&(u[t.name]=t.i18n),n.startsWith("*")){d&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",t.sourceSpan),s=!0,d=!0;const e=t.value,r=n.substring("*".length),i=[];this.bindingParser.parseInlineTemplateBinding(r,e,t.sourceSpan,t.valueSpan?t.valueSpan.start.offset:t.sourceSpan.start.offset+t.name.length,[],p,i,!0),h.push(...i.map(e=>new Yn(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan)))}else e=this.parseAttribute(r,t,[],i,a,o,l);e||s||c.push(this.visitAttribute(t))}const m=la(n.nonBindable?Do:this,e.children);let g;if(n.type===Wa.NG_CONTENT){e.children&&!e.children.every(e=>function(e){return e instanceof na&&0==e.value.trim().length}(e)||function(e){return e instanceof oa}(e))&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);const t=n.selectAttr,s=e.attrs.map(e=>this.visitAttribute(e));g=new Qn(t,s,e.sourceSpan,e.i18n),this.ngContentSelectors.push(t)}else if(r){const t=this.extractAttributes(e.name,i,u);g=new Gn(e.name,c,t.bound,a,[],m,l,o,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{const t=this.extractAttributes(e.name,i,u);g=new Xn(e.name,c,t.bound,a,m,l,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(d){const n=this.extractAttributes("ng-template",p,u),s=[];n.literal.forEach(e=>s.push(e)),n.bound.forEach(e=>s.push(e));const i=g instanceof Xn?{attributes:g.attributes,inputs:g.inputs,outputs:g.outputs}:{attributes:[],inputs:[],outputs:[]};g=new Gn(g.name,i.attributes,i.inputs,i.outputs,s,[g],[],h,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,r&&t?void 0:e.i18n)}return t&&(this.inI18nBlock=!1),g}visitAttribute(e){return new Wn(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!Ns(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);const t=e.i18n,n={},s={};return Object.keys(t.placeholders).forEach(e=>{const r=t.placeholders[e];if(e.startsWith("VAR_")){const t=e.trim(),s=this.bindingParser.parseInterpolationExpression(r.text,r.sourceSpan);n[t]=new Hn(s,r.sourceSpan)}else s[e]=this._visitTextWithInterpolation(r.text,r.sourceSpan)}),new Jn(n,s,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return null}extractAttributes(e,t,n){const s=[],r=[];return t.forEach(t=>{const i=n[t.name];if(t.isLiteral)r.push(new Wn(t.name,t.expression.source||"",t.sourceSpan,t.keySpan,t.valueSpan,i));else{const n=this.bindingParser.createBoundElementProperty(e,t,!0,!1);s.push(zn.fromBoundElementProperty(n,i))}}),{bound:s,literal:r}}parseAttribute(e,t,n,s,r,i,a){const o=Fo(t.name),l=t.value,c=t.sourceSpan,u=t.valueSpan?t.valueSpan.start.offset:c.start.offset;function p(e,n,s){const r=e.start.moveBy(n.length+(t.name.length-o.length)),i=r.moveBy(s.length);return new Sr(r,i,r,s)}const h=o.match(ko);if(h){if(null!=h[1]){const e=h[7],r=p(c,h[1],e);this.bindingParser.parsePropertyBinding(e,l,!1,c,u,t.valueSpan,n,s,r)}else if(h[2])if(e){const e=h[7],n=p(c,h[2],e);this.parseVariable(e,l,c,n,t.valueSpan,i)}else this.reportError('"let-" is only supported on ng-template elements.',c);else if(h[3]){const e=h[7],n=p(c,h[3],e);this.parseReference(e,l,c,n,t.valueSpan,a)}else if(h[4]){const e=[],s=h[7],i=p(c,h[4],s);this.bindingParser.parseEvent(s,l,c,t.valueSpan||c,n,e,i),Bo(e,r)}else if(h[5]){const e=h[7],i=p(c,h[5],e);this.bindingParser.parsePropertyBinding(e,l,!1,c,u,t.valueSpan,n,s,i),this.parseAssignmentEvent(e,l,c,t.valueSpan,n,r,i)}else if(h[6]){const e=p(c,"",o);this.bindingParser.parseLiteralAttr(o,l,c,u,t.valueSpan,n,s,e)}return!0}let d=null;if(o.startsWith(Oo.start)?d=Oo:o.startsWith(Mo.start)?d=Mo:o.startsWith(Lo.start)&&(d=Lo),null!==d&&o.endsWith(d.end)&&o.length>d.start.length+d.end.length){const e=o.substring(d.start.length,o.length-d.end.length),i=p(c,d.start,e);if(d.start===Oo.start)this.bindingParser.parsePropertyBinding(e,l,!1,c,u,t.valueSpan,n,s,i),this.parseAssignmentEvent(e,l,c,t.valueSpan,n,r,i);else if(d.start===Mo.start)this.bindingParser.parsePropertyBinding(e,l,!1,c,u,t.valueSpan,n,s,i);else{const s=[];this.bindingParser.parseEvent(e,l,c,t.valueSpan||c,n,s,i),Bo(s,r)}return!0}const m=p(c,"",o);return this.bindingParser.parsePropertyInterpolation(o,l,c,t.valueSpan,n,s,m)}_visitTextWithInterpolation(e,t,n){const s=Ra(e),r=this.bindingParser.parseInterpolation(s,t);return r?new Hn(r,t,n):new qn(s,t)}parseVariable(e,t,n,s,r,i){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',n):0===e.length&&this.reportError("Variable does not have a name",n),i.push(new Yn(e,t,n,s,r))}parseReference(e,t,n,s,r,i){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',n):0===e.length?this.reportError("Reference does not have a name",n):i.some(t=>t.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,n),i.push(new Zn(e,t,n,s,r))}parseAssignmentEvent(e,t,n,s,r,i,a){const o=[];this.bindingParser.parseEvent(e+"Change",t+"=$event",n,s||n,r,o,a),Bo(o,i)}reportError(e,t,n=Er.ERROR){this.errors.push(new br(t,e,n))}}const Do=new class{visitElement(e){const t=Ha(e);if(t.type===Wa.SCRIPT||t.type===Wa.STYLE||t.type===Wa.STYLESHEET)return null;const n=la(this,e.children,null);return new Xn(e.name,la(this,e.attrs),[],[],n,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new Wn(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new qn(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}};function Fo(e){return/^data-/i.test(e)?e.substring(5):e}function Bo(e,t){t.push(...e.map(e=>Kn.fromParsedEvent(e)))}var $o;!function(e){e[e.ELEMENT=0]="ELEMENT",e[e.TEMPLATE=1]="TEMPLATE"}($o||($o={}));class Vo{constructor(e,t,n=0,s=null,r,i){this.index=e,this.ref=t,this.level=n,this.templateIndex=s,this.meta=r,this.registry=i,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=i||{getUniqueId:Ms(),icus:new Map},this.id=this._registry.getUniqueId()}appendTag(e,t,n,s){t.isVoid&&s||Rs(this.placeholders,t.isVoid||!s?t.startName:t.closeName,{type:e,index:n,ctx:this.id,isVoid:t.isVoid,closed:s})}get icus(){return this._registry.icus}get isRoot(){return 0===this.level}get isResolved(){return 0===this._unresolvedCtxCount}getSerializedPlaceholders(){const e=new Map;return this.placeholders.forEach((t,n)=>e.set(n,t.map(Ho))),e}appendBinding(e){this.bindings.add(e)}appendIcu(e,t){Rs(this._registry.icus,e,t)}appendBoundText(e){Ds(e,this.bindings.size,this.id).forEach((e,t)=>Rs(this.placeholders,t,...e))}appendTemplate(e,t){this.appendTag($o.TEMPLATE,e,t,!1),this.appendTag($o.TEMPLATE,e,t,!0),this._unresolvedCtxCount++}appendElement(e,t,n){this.appendTag($o.ELEMENT,e,t,n)}appendProjection(e,t){this.appendTag($o.ELEMENT,e,t,!1),this.appendTag($o.ELEMENT,e,t,!0)}forkChildContext(e,t,n){return new Vo(e,this.ref,this.level+1,t,n,this._registry)}reconcileChildContext(e){["start","close"].forEach(t=>{const n=(this.placeholders.get(e.meta[t+"Name"])||[]).find(qo(this.id,e.templateIndex));n&&(n.ctx=e.id)}),e.placeholders.forEach((t,n)=>{const s=this.placeholders.get(n);if(!s)return void this.placeholders.set(n,t);const r=s.findIndex(qo(e.id,e.templateIndex));if(r>=0){const e=n.startsWith("CLOSE");n.endsWith("NG-TEMPLATE")?s.splice(r+(e?0:1),0,...t):(t[e?t.length-1:0].tmpl=s[r],s.splice(r,1,...t))}else s.push(...t);this.placeholders.set(n,s)}),this._unresolvedCtxCount--}}function jo(e,t,n,s){return Os(`${s?"/":""}${e}${t}`,n)}function Uo(e,{index:t,ctx:n,isVoid:s},r){return s?jo(e,t,n)+jo(e,t,n,!0):jo(e,t,n,r)}function qo(e,t){return n=>"object"==typeof n&&n.type===$o.TEMPLATE&&n.index===t&&n.ctx===e}function Ho(e){const t=(e,t)=>Uo("#",e,t),n=(e,t)=>Uo("*",e,t);switch(e.type){case $o.ELEMENT:return e.closed?t(e,!0)+(e.tmpl?n(e.tmpl,!0):""):e.tmpl?n(e.tmpl)+t(e)+(e.isVoid?n(e.tmpl,!0):""):t(e);case $o.TEMPLATE:return n(e,e.closed);default:return e}}const Wo=new class{visitText(e){return e.value}visitContainer(e){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e){const t=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${t.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(e=>e.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}formatPh(e){return`{${Bs(e,!1)}}`}};function zo(e){return e.visit(Wo)}const Ko={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class Xo{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,t,n){const s=this._hashTag(e,t,n);if(this._signatureToName[s])return this._signatureToName[s];const r=e.toUpperCase(),i=Ko[r]||"TAG_"+r,a=this._generateUniqueName(n?i:"START_"+i);return this._signatureToName[s]=a,a}getCloseTagPlaceholderName(e){const t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];const n=e.toUpperCase(),s=this._generateUniqueName("CLOSE_"+(Ko[n]||"TAG_"+n));return this._signatureToName[t]=s,s}getPlaceholderName(e,t){const n=e.toUpperCase(),s=`PH: ${n}=${t}`;if(this._signatureToName[s])return this._signatureToName[s];const r=this._generateUniqueName(n);return this._signatureToName[s]=r,r}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}_hashTag(e,t,n){return"<"+e+Object.keys(t).sort().map(e=>` ${e}=${t[e]}`).join("")+(n?"/>":`></${e}>`)}_hashClosingTag(e){return this._hashTag("/"+e,{},!1)}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;const t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,`${e}_${t}`}}const Go=new fo(new no);function Qo(e,t){return t}class Yo{constructor(e,t){this._expressionParser=e,this._interpolationConfig=t}toI18nMessage(e,t="",n="",s="",r){const i={isIcu:1==e.length&&e[0]instanceof sa,icuDepth:0,placeholderRegistry:new Xo,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:r||Qo},a=la(this,e,i);return new ts(a,i.placeholderToContent,i.placeholderToMessage,t,n,s)}visitElement(e,t){var n;const s=la(this,e.children,t),r={};e.attrs.forEach(e=>{r[e.name]=e.value});const i=we(e.name).isVoid,a=t.placeholderRegistry.getStartTagPlaceholderName(e.name,r,i);t.placeholderToContent[a]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let o="";i||(o=t.placeholderRegistry.getCloseTagPlaceholderName(e.name),t.placeholderToContent[o]={text:`</${e.name}>`,sourceSpan:null!==(n=e.endSourceSpan)&&void 0!==n?n:e.sourceSpan});const l=new is(e.name,r,a,o,s,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return t.visitNodeFn(e,l)}visitAttribute(e,t){const n=this._visitTextWithInterpolation(e.value,e.valueSpan||e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,n)}visitText(e,t){const n=this._visitTextWithInterpolation(e.value,e.sourceSpan,t,e.i18n);return t.visitNodeFn(e,n)}visitComment(e,t){return null}visitExpansion(e,t){t.icuDepth++;const n={},s=new rs(e.switchValue,e.type,n,e.sourceSpan);if(e.cases.forEach(e=>{n[e.value]=new ss(e.expression.map(e=>e.visit(this,t)),e.expSourceSpan)}),t.icuDepth--,t.isIcu||t.icuDepth>0){const n=t.placeholderRegistry.getUniquePlaceholder("VAR_"+e.type);return s.expressionPlaceholder=n,t.placeholderToContent[n]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},t.visitNodeFn(e,s)}const r=t.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());t.placeholderToMessage[r]=this.toI18nMessage([e],"","","",void 0);const i=new os(s,r,e.sourceSpan);return t.visitNodeFn(e,i)}visitExpansionCase(e,t){throw new Error("Unreachable code")}_visitTextWithInterpolation(e,t,n,s){const{strings:r,expressions:i}=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(0===i.length)return new ns(e,t);const a=[];for(let e=0;e<r.length-1;e++)this._addText(a,r[e],t),this._addPlaceholder(a,n,i[e],t);return this._addText(a,r[r.length-1],t),function(e,t){if(t instanceof ts&&(function(e){const t=e.nodes;if(1!==t.length||!(t[0]instanceof ss))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}(t),t=t.nodes[0]),t instanceof ss){!function(e,t){if(e.length!==t.length)throw new Error("The number of i18n message children changed between first and second pass.");if(e.some((e,n)=>t[n].constructor!==e.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}(t.children,e);for(let n=0;n<e.length;n++)e[n].sourceSpan=t.children[n].sourceSpan}}(a,s),new ss(a,t)}_addText(e,t,n){if(t.text.length>0){const s=Zo(n,t);e.push(new ns(t.text,s))}}_addPlaceholder(e,t,n,s){const r=Zo(s,n),i=n.text.split(Jo)[2]||"INTERPOLATION",a=t.placeholderRegistry.getPlaceholderName(i,n.text);t.placeholderToContent[a]={text:this._interpolationConfig.start+n.text+this._interpolationConfig.end,sourceSpan:r},e.push(new as(n.text,a,r))}}function Zo(e,{start:t,end:n}){return new Sr(e.fullStart.moveBy(t),e.fullStart.moveBy(n))}const Jo=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;class el extends br{constructor(e,t){super(e,t)}}const tl=(e,t)=>(e instanceof ta&&(t instanceof os&&e.i18n instanceof ts&&(t.previousMessage=e.i18n),e.i18n=t),t);class nl{constructor(e=or,t=!1,n=!1){this.interpolationConfig=e,this.keepI18nAttrs=t,this.enableI18nLegacyMessageIdFormat=n,this.hasI18nMeta=!1,this._errors=[],this._createI18nMessage=function(e){const t=new Yo(Go,e);return(e,n,s,r,i)=>t.toI18nMessage(e,n,s,r,i)}(this.interpolationConfig)}_generateI18nMessage(e,t="",n){const{meaning:s,description:r,customId:i}=this._parseMetadata(t),a=this._createI18nMessage(e,s,r,i,n);return this._setMessageId(a,t),this._setLegacyIds(a,t),a}visitAllWithErrors(e){const t=e.map(e=>e.visit(this,null));return new Na(t,this._errors)}visitElement(e){if(function(e){return e.attrs.some(e=>Ts(e.name))}(e)){this.hasI18nMeta=!0;const t=[],n={};for(const s of e.attrs)if("i18n"===s.name){const t=this._generateI18nMessage(e.children,e.i18n||s.value,tl);t.nodes.length&&(e.i18n=t)}else if(s.name.startsWith("i18n-")){const t=s.name.slice("i18n-".length);Po(e.name,t)?this._reportError(s,`Translating attribute '${t}' is disallowed for security reasons.`):n[t]=s.value}else t.push(s);if(Object.keys(n).length)for(const e of t){const t=n[e.name];void 0!==t&&e.value&&(e.i18n=this._generateI18nMessage([e],e.i18n||t))}this.keepI18nAttrs||(e.attrs=t)}return la(this,e.children,e.i18n),e}visitExpansion(e,t){let n;const s=e.i18n;if(this.hasI18nMeta=!0,s instanceof os){const t=s.name;n=this._generateI18nMessage([e],s),ks(n).name=t}else n=this._generateI18nMessage([e],t||s);return e.i18n=n,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}_parseMetadata(e){return"string"==typeof e?function(e=""){let t,n,s;if(e=e.trim()){const r=e.indexOf("@@"),i=e.indexOf("|");let a;[a,t]=r>-1?[e.slice(0,r),e.slice(r+2)]:[e,""],[n,s]=i>-1?[a.slice(0,i),a.slice(i+1)]:["",a]}return{customId:t,meaning:n,description:s}}(e):e instanceof ts?e:{}}_setMessageId(e,t){e.id||(e.id=t instanceof ts&&t.id||function(e){return e.id||ps(e)}(e))}_setLegacyIds(e,t){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[us(e),ps(e)];else if("string"!=typeof t){const n=t instanceof ts?t:t instanceof os?t.previousMessage:void 0;e.legacyIds=n?n.legacyIds:[]}}_reportError(e,t){this._errors.push(new el(e.sourceSpan,t))}}function sl(e,t,n,s){const r=[Jt(function(e){return e.nodes.map(e=>e.visit(rl,null)).join("")}(t))];Object.keys(s).length&&r.push(Tr(s,!0));const i=n.set(Ht("goog.getMsg").callFn(r)).toConstDecl(),a=function(e){const t=[];return e.description&&t.push({tagName:"desc",text:e.description}),e.meaning&&t.push({tagName:"meaning",text:e.meaning}),0==t.length?null:function(e=[]){return new Ft(e)}(t)}(t);return null!==a&&i.addLeadingComment(a),[i,new jt(e.set(n))]}const rl=new class{formatPh(e){return`{$${Bs(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e){return zo(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(e=>e.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitIcuPlaceholder(e,t){return this.formatPh(e.name)}};function il(e,t,n){const{messageParts:s,placeHolders:r}=function(e){const t=[];return e.nodes.forEach(e=>e.visit(al,t)),function(e){const t=[],n=[];e[0]instanceof mt&&t.push(ol(e[0].sourceSpan.start));for(let s=0;s<e.length;s++){const r=e[s];r instanceof dt?t.push(r):(n.push(r),e[s-1]instanceof mt&&t.push(ol(e[s-1].sourceSpan.end)))}return e[e.length-1]instanceof mt&&t.push(ol(e[e.length-1].sourceSpan.end)),{messageParts:t,placeHolders:n}}(t)}(t),i=function(e){const t=e.nodes[0];return new Sr(t.sourceSpan.start,e.nodes[e.nodes.length-1].sourceSpan.end,t.sourceSpan.fullStart,t.sourceSpan.details)}(t),a=r.map(e=>n[e.text]),o=function(e,t,n,s,r){return new gt(e,t,n,s,r)}(t,s,r,a,i),l=e.set(o);return[new jt(l)]}const al=new class{visitText(e,t){t[t.length-1]instanceof dt?t[t.length-1].text+=e.value:t.push(new dt(e.value,e.sourceSpan))}visitContainer(e,t){e.children.forEach(e=>e.visit(this,t))}visitIcu(e,t){t.push(new dt(zo(e),e.sourceSpan))}visitTagPlaceholder(e,t){var n,s;t.push(this.createPlaceholderPiece(e.startName,null!==(n=e.startSourceSpan)&&void 0!==n?n:e.sourceSpan)),e.isVoid||(e.children.forEach(e=>e.visit(this,t)),t.push(this.createPlaceholderPiece(e.closeName,null!==(s=e.endSourceSpan)&&void 0!==s?s:e.sourceSpan)))}visitPlaceholder(e,t){t.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitIcuPlaceholder(e,t){t.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}createPlaceholderPiece(e,t){return new mt(Bs(e,!1),t)}};function ol(e){return new dt("",new Sr(e,e))}const ll=new Set(["$event"]),cl=new Map([["window",In.resolveWindow],["document",In.resolveDocument],["body",In.resolveBody]]),ul=[" ","\n","\r","\t"];function pl(e,t){return Yt(Ht("rf").bitwiseAnd(Jt(e),null,!1),t)}function hl(e,t=null,n=null){const{type:s,name:r,target:i,phase:a,handler:o}=e;if(i&&!cl.has(i))throw new Error(`Unexpected global target '${i}' defined for '${r}' event.\n        Supported list of global targets: ${Array.from(cl.keys())}.`);const l=new Set,c=null===n||0===n.bindingLevel?Ht("ctx"):n.getOrCreateSharedContextVar(0),u=function(e,t,n,s,r,i,a,o){e||(e=new Ci(ll));const l=function(e,t){const n=new _i(e);return t.visit(n)}({createLiteralArrayConverter:e=>e=>Xt(e),createLiteralMapConverter:e=>t=>Gt(e.map((e,n)=>({key:e.key,value:t[n],quoted:e.quoted}))),createPipeConverter:e=>{throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: "+e)}},n),c=new wi(e,t,"b",()=>fn("Unexpected interpolation"),i,a),u=[];!function e(t,n){Array.isArray(t)?t.forEach(t=>e(t,n)):n.push(t)}(l.visit(c,Cr.Statement),u),function(e,t,n){for(let t=e-1;t>=0;t--)n.unshift(xi("b",t))}(c.temporaryCount,0,u),c.usesImplicitReceiver&&e.notifyImplicitReceiverUse();const p=u.length-1;let h=null;if(p>=0){const e=(d=u[p])instanceof jt?d.expr:d instanceof Ut?d.value:null;e&&(h=Ht("pd_b"),u[p]=h.set(e.cast(Ve).notIdentical(Jt(!1))).toDeclStmt(null,[Dt.Final]))}var d;return new mi(u,h)}(n,c,o,0,0,e.handlerSpan,l),p=[];n&&(p.push(...n.restoreViewStatement()),p.push(...n.variableDeclarations())),p.push(...u.render3Stmts);const h=1===s?function(e,t){return`@${e}.${t}`}(r,a):r,d=t&&_n(t),m=[];l.has("$event")&&m.push(new bt("$event",Ve));const g=Qt(m,p,je,null,d),f=[Jt(h),g];return i&&f.push(Jt(!1),Wt(cl.get(i))),f}class dl{constructor(e,t,n=0,s,r,i,a,o,l,c,u,p,h,d,m=function(){return{prepareStatements:[],constExpressions:[],i18nVarRefsCache:new Map}}()){this.constantPool=e,this.level=n,this.contextName=s,this.i18nContext=r,this.templateIndex=i,this.templateName=a,this.directiveMatcher=o,this.directives=l,this.pipeTypeByName=c,this.pipes=u,this._namespace=p,this.i18nUseExternalIds=d,this._constants=m,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=qs,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=Hs,this.visitVariable=Hs,this.visitTextAttribute=Hs,this.visitBoundAttribute=Hs,this.visitBoundEvent=Hs,this._bindingScope=t.nestedScope(n),this.fileBasedI18nSuffix=h.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new ml(e,()=>this.allocateDataSlot(),e=>this.allocatePureFunctionSlots(e),(e,t,n,s)=>{const r=c.get(e);r&&this.pipes.add(r),this._bindingScope.set(this.level,t,s),this.creationInstruction(null,In.pipe,[Jt(n),Jt(e)])})}buildTemplateFunction(e,t,n=0,s){this._ngContentSelectorsOffset=n,this._namespace!==In.namespaceHTML&&this.creationInstruction(null,this._namespace),t.forEach(e=>this.registerContextVariables(e));const r=this.i18nContext||Ns(s)&&!As(s)&&!(1===(i=e).length&&i[0]instanceof Xn&&e[0].i18n===s);var i;const a=Nl(e);if(r&&this.i18nStart(null,s,a),es(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(e=>e()),0===this.level&&this._ngContentReservedSlots.length){const e=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){const t=this._ngContentReservedSlots.map(e=>"*"!==e?De(e):e);e.push(this.constantPool.getConstLiteral(Ws(t),!0))}this.creationInstruction(null,In.projectionDef,e,!0)}r&&this.i18nEnd(null,a);const o=this._creationCodeFns.map(e=>e()),l=this._updateCodeFns.map(e=>e()),c=this._bindingScope.viewSnapshotStatements(),u=this._bindingScope.variableDeclarations().concat(this._tempVariables),p=o.length>0?[pl(1,c.concat(o))]:[],h=l.length>0?[pl(2,u.concat(l))]:[];return Qt([new bt("rf",qe),new bt("ctx",null)],[...this._prefixCode,...p,...h],je,null,this.templateName)}getLocal(e){return this._bindingScope.get(e)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}i18nTranslate(e,t={},n,s){const r=n||this.i18nGenerateMainBlockVar(),i=function(e,t,n,s={},r){const i=[Vs(t),Yt(Al(),sl(t,e,n,Fs(s,!0)),il(t,e,Fs(s,!1)))];return r&&i.push(new jt(t.set(r(t)))),i}(e,r,this.i18nGenerateClosureVar(e.id),t,s);return this._constants.prepareStatements.push(...i),r}registerContextVariables(e){const t=this._bindingScope.freshReferenceName(),n=this.level,s=Ht(e.name+t);this._bindingScope.set(n,e.name,s,1,(t,r)=>{let i;return i=t.bindingLevel===n?Ht("ctx"):t.getSharedContextName(n)||yl(r),[s.set(i.prop(e.value||"$implicit")).toConstDecl()]})}i18nAppendBindings(e){e.length>0&&e.forEach(e=>this.i18n.appendBinding(e))}i18nBindProps(e){const t={};return Object.keys(e).forEach(n=>{const s=e[n];if(s instanceof qn)t[n]=Jt(s.value);else{const e=s.value.visit(this._valueConverter);if(this.allocateBindingSlots(e),e instanceof Qr){const{strings:s,expressions:r}=e,{id:i,bindings:a}=this.i18n,o=function(e,t=0,n=0){if(!e.length)return"";let s="";const r=e.length-1;for(let i=0;i<r;i++)s+=`${e[i]}${Os(t+i,n)}`;return s+=e[r],s}(s,a.size,i);this.i18nAppendBindings(r),t[n]=Jt(o)}}}),t}i18nGenerateMainBlockVar(){return Ht(this.constantPool.uniqueName("i18n_"))}i18nGenerateClosureVar(e){let t;const n=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){const s=$s("EXTERNAL_"),r=this.constantPool.uniqueName(n);t=`${s}${_n(e)}$$${r}`}else{const e=$s(n);t=this.constantPool.uniqueName(e)}return Ht(t)}i18nUpdateRef(e){const{icus:t,meta:n,isRoot:s,isResolved:r,isEmitted:i}=e;if(s&&r&&!i&&!As(n)){e.isEmitted=!0;const s=e.getSerializedPlaceholders();let r,i={},a=s.size?Ls(s):{};t.size&&t.forEach((e,t)=>{if(1===e.length)a[t]=e[0];else{const n=Os("I18N_EXP_"+t);a[t]=Jt(n),i[t]=Xt(e)}}),(Array.from(s.values()).some(e=>e.length>1)||Object.keys(i).length)&&(r=e=>{const t=[e];return Object.keys(i).length&&t.push(Tr(i,!0)),vl(null,In.i18nPostprocess,t)}),this.i18nTranslate(n,a,e.ref,r)}}i18nStart(e=null,t,n){const s=this.allocateDataSlot();this.i18n=this.i18nContext?this.i18nContext.forkChildContext(s,this.templateIndex,t):new Vo(s,this.i18nGenerateMainBlockVar(),0,this.templateIndex,t);const{id:r,ref:i}=this.i18n,a=[Jt(s),this.addToConsts(i)];r>0&&a.push(Jt(r)),this.creationInstruction(e,n?In.i18n:In.i18nStart,a)}i18nEnd(e=null,t){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);const{index:n,bindings:s}=this.i18n;if(s.size){const t=[];s.forEach(n=>{t.push({sourceSpan:e,value:()=>this.convertPropertyBinding(n)})}),this.updateInstructionChainWithAdvance(this.getConstCount()-1,In.i18nExp,t),this.updateInstruction(e,In.i18nApply,[Jt(n)])}t||this.creationInstruction(e,In.i18nEnd),this.i18n=null}i18nAttributesInstruction(e,t,n){let s=!1;const r=[],i=[];if(t.forEach(e=>{const t=e.i18n,a=e.value.visit(this._valueConverter);if(this.allocateBindingSlots(a),a instanceof Qr){const o=Ls(Ds(t));r.push(Jt(e.name),this.i18nTranslate(t,o)),a.expressions.forEach(e=>{s=!0,i.push({sourceSpan:n,value:()=>this.convertPropertyBinding(e)})})}}),i.length>0&&this.updateInstructionChainWithAdvance(e,In.i18nExp,i),r.length>0){const e=Jt(this.allocateDataSlot()),t=this.addToConsts(Xt(r));this.creationInstruction(n,In.i18nAttributes,[e,t]),s&&this.updateInstruction(n,In.i18nApply,[e])}}getNamespaceInstruction(e){switch(e){case"math":return In.namespaceMathML;case"svg":return In.namespaceSVG;default:return In.namespaceHTML}}addNamespaceInstruction(e,t){this._namespace=e,this.creationInstruction(t.startSourceSpan,e)}interpolatedUpdateInstruction(e,t,n,s,r,i){this.updateInstructionWithAdvance(t,s.sourceSpan,e,()=>[Jt(n),...this.getUpdateInstructionArguments(r),...i])}visitContent(e){const t=this.allocateDataSlot(),n=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,s=[Jt(t)];this._ngContentReservedSlots.push(e.selector);const r=e.attributes.filter(e=>"select"!==e.name.toLowerCase()),i=this.getAttributeExpressions(e.name,r,[],[]);i.length>0?s.push(Jt(n),Xt(i)):0!==n&&s.push(Jt(n)),this.creationInstruction(e.sourceSpan,In.projection,s),this.i18n&&this.i18n.appendProjection(e.i18n,t)}visitElement(e){var t,n;const s=this.allocateDataSlot(),r=new Ya(null);let i=!1;const a=Ns(e.i18n)&&!As(e.i18n),o=[],[l,c]=me(e.name),u=ge(e.name);for(const t of e.attributes){const{name:e,value:n}=t;"ngNonBindable"===e?i=!0:"style"===e?r.registerStyleAttr(n):"class"===e?r.registerClassAttr(n):o.push(t)}this.matchDirectives(e.name,e);const p=[Jt(s)];u||p.push(Jt(c));const h=[],d=[];e.inputs.forEach(e=>{r.registerBoundInput(e)||(0===e.type&&e.i18n?d.push(e):h.push(e))});const m=this.getAttributeExpressions(e.name,o,h,e.outputs,r,[],d);p.push(this.addAttrsToConsts(m));const g=this.prepareRefsArray(e.references);p.push(this.addToConsts(g));const f=this._namespace,v=this.getNamespaceInstruction(l);v!==f&&this.addNamespaceInstruction(v,e),this.i18n&&this.i18n.appendElement(e.i18n,s);const y=!a&&this.i18n?!Nl(e.children):e.children.length>0,x=!r.hasBindingsWithPipes&&0===e.outputs.length&&0===d.length&&!y,S=!x&&Nl(e.children);if(x)this.creationInstruction(e.sourceSpan,u?In.elementContainer:In.element,Ks(p));else{if(this.creationInstruction(e.startSourceSpan,u?In.elementContainerStart:In.elementStart,Ks(p)),i&&this.creationInstruction(e.startSourceSpan,In.disableBindings),d.length>0&&this.i18nAttributesInstruction(s,d,null!==(t=e.startSourceSpan)&&void 0!==t?t:e.sourceSpan),e.outputs.length>0){const t=e.outputs.map(t=>({sourceSpan:t.sourceSpan,params:this.prepareListenerParameter(e.name,t,s)}));this.creationInstructionChain(In.listener,t)}a&&this.i18nStart(e.startSourceSpan,e.i18n,S)}const E=r.buildUpdateLevelInstructions(this._valueConverter),_=E.length-1;for(let e=0;e<=_;e++)this._bindingSlots+=this.processStylingUpdateInstruction(s,E[e]);const w=Jt(void 0),C=[],b=[];if(h.forEach(e=>{const t=e.type;if(4===t){const t=e.value.visit(this._valueConverter),n=!(t instanceof Kr&&!t.value);this.allocateBindingSlots(t),C.push({name:Vn(e.name),sourceSpan:e.sourceSpan,value:()=>n?this.convertPropertyBinding(t):w})}else{if(e.i18n)return;const n=e.value.visit(this._valueConverter);if(void 0!==n){const r=[],[i,a]=me(e.name),o=bl(e.securityContext,1===t);if(o&&r.push(o),i){const e=Jt(i);o?r.push(e):r.push(Jt(null),e)}if(this.allocateBindingSlots(n),0===t)n instanceof Qr?this.interpolatedUpdateInstruction(_l(n),s,a,e,n,r):C.push({name:a,sourceSpan:e.sourceSpan,value:()=>this.convertPropertyBinding(n),params:r});else if(1===t)if(n instanceof Qr&&Ys(n)>1)this.interpolatedUpdateInstruction(function(e){switch(Ys(e)){case 3:return In.attributeInterpolate1;case 5:return In.attributeInterpolate2;case 7:return In.attributeInterpolate3;case 9:return In.attributeInterpolate4;case 11:return In.attributeInterpolate5;case 13:return In.attributeInterpolate6;case 15:return In.attributeInterpolate7;case 17:return In.attributeInterpolate8;default:return In.attributeInterpolateV}}(n),s,a,e,n,r);else{const t=n instanceof Qr?n.expressions[0]:n;b.push({name:a,sourceSpan:e.sourceSpan,value:()=>this.convertPropertyBinding(t),params:r})}else this.updateInstructionWithAdvance(s,e.sourceSpan,In.classProp,()=>[Jt(s),Jt(a),this.convertPropertyBinding(n),...r])}}}),C.length>0&&this.updateInstructionChainWithAdvance(s,In.property,C),b.length>0&&this.updateInstructionChainWithAdvance(s,In.attribute,b),es(this,e.children),!a&&this.i18n&&this.i18n.appendElement(e.i18n,s,!0),!x){const t=null!==(n=e.endSourceSpan)&&void 0!==n?n:e.sourceSpan;a&&this.i18nEnd(t,S),i&&this.creationInstruction(t,In.enableBindings),this.creationInstruction(t,u?In.elementContainerEnd:In.elementEnd)}}visitTemplate(e){var t;const n=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(e.i18n,n);const s=_n(e.tagName||""),r=`${this.contextName}${s?"_"+s:""}_${n}`,i=r+"_Template",a=[Jt(n),Ht(i),Jt(e.tagName?me(e.tagName)[1]:e.tagName)];this.matchDirectives("ng-template",e);const o=this.getAttributeExpressions("ng-template",e.attributes,e.inputs,e.outputs,void 0,e.templateAttrs);if(a.push(this.addAttrsToConsts(o)),e.references&&e.references.length){const t=this.prepareRefsArray(e.references);a.push(this.addToConsts(t)),a.push(Wt(In.templateRefExtractor))}const l=new dl(this.constantPool,this._bindingScope,this.level+1,r,this.i18n,n,i,this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this._constants);if(this._nestedTemplateFns.push(()=>{const t=l.buildTemplateFunction(e.children,e.variables,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,e.i18n);this.constantPool.statements.push(t.toDeclStmt(i)),l._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...l._ngContentReservedSlots)}),this.creationInstruction(e.sourceSpan,In.templateCreate,()=>(a.splice(2,0,Jt(l.getConstCount()),Jt(l.getVarCount())),Ks(a))),this.templatePropertyBindings(n,e.templateAttrs),"ng-template"===e.tagName){const[s,r]=function(e,t){const n=[],s=[];for(const r of e)(t(r)?n:s).push(r);return[n,s]}(e.inputs,Ps);if(s.length>0&&this.i18nAttributesInstruction(n,s,null!==(t=e.startSourceSpan)&&void 0!==t?t:e.sourceSpan),r.length>0&&this.templatePropertyBindings(n,r),e.outputs.length>0){const t=e.outputs.map(e=>({sourceSpan:e.sourceSpan,params:this.prepareListenerParameter("ng_template",e,n)}));this.creationInstructionChain(In.listener,t)}}}visitBoundText(e){if(this.i18n){const t=e.value.visit(this._valueConverter);return this.allocateBindingSlots(t),void(t instanceof Qr&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(t.expressions)))}const t=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,In.text,[Jt(t)]);const n=e.value.visit(this._valueConverter);this.allocateBindingSlots(n),n instanceof Qr?this.updateInstructionWithAdvance(t,e.sourceSpan,function(e){switch(Ys(e)){case 1:return In.textInterpolate;case 3:return In.textInterpolate1;case 5:return In.textInterpolate2;case 7:return In.textInterpolate3;case 9:return In.textInterpolate4;case 11:return In.textInterpolate5;case 13:return In.textInterpolate6;case 15:return In.textInterpolate7;case 17:return In.textInterpolate8;default:return In.textInterpolateV}}(n),()=>this.getUpdateInstructionArguments(n)):fn("Text nodes should be interpolated and never bound directly.")}visitText(e){this.i18n||this.creationInstruction(e.sourceSpan,In.text,[Jt(this.allocateDataSlot()),Jt(e.value)])}visitIcu(e){let t=!1;this.i18n||(t=!0,this.i18nStart(null,e.i18n,!0));const n=this.i18n,s=this.i18nBindProps(e.vars),r=this.i18nBindProps(e.placeholders),i=e.i18n,a=e=>{const t=Fs(Object.assign(Object.assign({},s),r),!1);return vl(null,In.i18nPostprocess,[e,Tr(t,!0)])};if(As(n.meta))this.i18nTranslate(i,{},n.ref,a);else{const e=this.i18nTranslate(i,{},void 0,a);n.appendIcu(ks(i).name,e)}return t&&this.i18nEnd(null,!0),null}allocateDataSlot(){return this._dataIndex++}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getConsts(){return this._constants}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(Ws(this._ngContentReservedSlots),!0):null}bindingContext(){return""+this._bindingContext++}templatePropertyBindings(e,t){const n=[];t.forEach(t=>{if(t instanceof zn){const s=t.value.visit(this._valueConverter);if(void 0!==s)if(this.allocateBindingSlots(s),s instanceof Qr){const n=[];this.interpolatedUpdateInstruction(_l(s),e,t.name,t,s,n)}else n.push({name:t.name,sourceSpan:t.sourceSpan,value:()=>this.convertPropertyBinding(s)})}}),n.length>0&&this.updateInstructionChainWithAdvance(e,In.property,n)}instructionFn(e,t,n,s,r=!1){e[r?"unshift":"push"](()=>{const e=Array.isArray(s)?s:s();return vl(t,n,e).toStmt()})}processStylingUpdateInstruction(e,t){let n=0;if(t){const s=[];t.calls.forEach(e=>{n+=e.allocateBindingSlots,s.push({sourceSpan:e.sourceSpan,value:()=>e.params(t=>e.supportsInterpolation&&t instanceof Qr?this.getUpdateInstructionArguments(t):this.convertPropertyBinding(t))})}),this.updateInstructionChainWithAdvance(e,t.reference,s)}return n}creationInstruction(e,t,n,s){this.instructionFn(this._creationCodeFns,e,t,n||[],s)}creationInstructionChain(e,t){const n=t.length?t[0].sourceSpan:null;this._creationCodeFns.push(()=>Qs(e,t.map(e=>e.params()),n).toStmt())}updateInstructionWithAdvance(e,t,n,s){this.addAdvanceInstructionIfNecessary(e,t),this.updateInstruction(t,n,s)}updateInstruction(e,t,n){this.instructionFn(this._updateCodeFns,e,t,n||[])}updateInstructionChain(e,t){const n=t.length?t[0].sourceSpan:null;this._updateCodeFns.push(()=>{const s=t.map(e=>{const t=e.value(),n=Array.isArray(t)?t:[t];return e.params&&n.push(...e.params),e.name&&n.unshift(Jt(e.name)),n});return Qs(e,s,n).toStmt()})}updateInstructionChainWithAdvance(e,t,n){this.addAdvanceInstructionIfNecessary(e,n.length?n[0].sourceSpan:null),this.updateInstructionChain(t,n)}addAdvanceInstructionIfNecessary(e,t){if(e!==this._currentIndex){const n=e-this._currentIndex;if(n<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,t,In.advance,[Jt(n)]),this._currentIndex=e}}allocatePureFunctionSlots(e){const t=this._pureFunctionSlots;return this._pureFunctionSlots+=e,t}allocateBindingSlots(e){this._bindingSlots+=e instanceof Qr?e.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?Ht("ctx"):this._bindingScope.getOrCreateSharedContextVar(0)}convertPropertyBinding(e){const t=fi(this,this.getImplicitReceiverExpr(),e,this.bindingContext(),wr.Expression,()=>fn("Unexpected interpolation")),n=t.currValExpr;return this._tempVariables.push(...t.stmts),n}getUpdateInstructionArguments(e){const{args:t,stmts:n}=function(e,t,n,s){const r=new wi(e,t,s,void 0),i=n.visit(r,Cr.Expression);r.usesImplicitReceiver&&e.notifyImplicitReceiverUse();const a=vi(r,s);let o=i.args.slice(1);if(n instanceof Qr){const e=n.strings;3===o.length&&""===e[0]&&""===e[1]?o=[o[1]]:o.length>=19&&(o=[Xt(o)])}return{stmts:a,args:o}}(this,this.getImplicitReceiverExpr(),e,this.bindingContext());return this._tempVariables.push(...n),t}matchDirectives(e,t){if(this.directiveMatcher){const n=function(e,t){const n=new be,s=me(e)[1];return n.setElement(s),Object.getOwnPropertyNames(t).forEach(e=>{const s=me(e)[1],r=t[e];n.addAttribute(s,r),"class"===e.toLowerCase()&&r.trim().split(/\s+/).forEach(e=>n.addClassName(e))}),n}(e,function(e){const t={};return e instanceof Gn&&"ng-template"!==e.tagName?e.templateAttrs.forEach(e=>t[e.name]=""):(e.attributes.forEach(e=>{Ts(e.name)||(t[e.name]=e.value)}),e.inputs.forEach(e=>{t[e.name]=""}),e.outputs.forEach(e=>{t[e.name]=""})),t}(t));this.directiveMatcher.match(n,(e,t)=>{this.directives.add(t)})}}getAttributeExpressions(e,t,n,s,r,i=[],a=[]){const o=new Set,l=[];let c;for(const n of t)if("ngProjectAs"===n.name&&(c=n),n.i18n){const{i18nVarRefsCache:e}=this._constants;let t;e.has(n.i18n)?t=e.get(n.i18n):(t=this.i18nTranslate(n.i18n),e.set(n.i18n,t)),l.push(Jt(n.name),t)}else l.push(...Sl(n.name),Il(e,n));function u(e,t){"string"==typeof e?o.has(e)||(l.push(...Sl(e)),void 0!==t&&l.push(t),o.add(e)):l.push(Jt(e))}if(c&&l.push(...function(e){const t=De(e.value)[0];return[Jt(5),Ws(t)]}(c)),r&&r.populateInitialStylingAttrs(l),n.length||s.length){const e=l.length;for(let e=0;e<n.length;e++){const t=n[e];4!==t.type&&1!==t.type&&u(t.name)}for(let e=0;e<s.length;e++){const t=s[e];1!==t.type&&u(t.name)}l.length!==e&&l.splice(e,0,Jt(3))}return i.length&&(l.push(Jt(4)),i.forEach(e=>u(e.name))),a.length&&(l.push(Jt(6)),a.forEach(e=>u(e.name))),l}addToConsts(e){if(en(e))return Rt;const t=this._constants.constExpressions;for(let n=0;n<t.length;n++)if(t[n].isEquivalent(e))return Jt(n);return Jt(t.push(e)-1)}addAttrsToConsts(e){return e.length>0?this.addToConsts(Xt(e)):Rt}prepareRefsArray(e){return e&&0!==e.length?Ws(function e(t){return t.reduce((t,n)=>{const s=Array.isArray(n)?e(n):n;return t.concat(s)},[])}(e.map(e=>{const t=this.allocateDataSlot(),n=this._bindingScope.freshReferenceName(),s=this.level,r=Ht(n);return this._bindingScope.set(s,e.name,r,0,(e,n)=>{const s=n>0?[yl(n).toStmt()]:[],i=r.set(Wt(In.reference).callFn([Jt(t)]));return s.concat(i.toConstDecl())},!0),[e.name,e.value]}))):Rt}prepareListenerParameter(e,t,n){return()=>{const s=t.name,r=1===t.type?Un(s,t.phase):_n(s),i=`${this.templateName}_${e}_${r}_${n}_listener`,a=this._bindingScope.nestedScope(this._bindingScope.bindingLevel,ll);return hl(t,i,a)}}}class ml extends class{visitImplicitReceiver(e,t){return e}visitThisReceiver(e,t){return e}visitInterpolation(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new Qr(e.span,e.sourceSpan,e.strings,n):e}visitLiteralPrimitive(e,t){return e}visitPropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new jr(e.span,e.sourceSpan,e.nameSpan,n,e.name):e}visitPropertyWrite(e,t){const n=e.receiver.visit(this),s=e.value.visit(this);return n!==e.receiver||s!==e.value?new Ur(e.span,e.sourceSpan,e.nameSpan,n,e.name,s):e}visitSafePropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new qr(e.span,e.sourceSpan,e.nameSpan,n,e.name):e}visitMethodCall(e,t){const n=e.receiver.visit(this),s=this.visitAll(e.args);return n!==e.receiver||s!==e.args?new ti(e.span,e.sourceSpan,e.nameSpan,n,e.name,s):e}visitSafeMethodCall(e,t){const n=e.receiver.visit(this),s=this.visitAll(e.args);return n!==e.receiver||s!==e.args?new ni(e.span,e.sourceSpan,e.nameSpan,n,e.name,s):e}visitFunctionCall(e,t){const n=e.target&&e.target.visit(this),s=this.visitAll(e.args);return n!==e.target||s!==e.args?new si(e.span,e.sourceSpan,n,s):e}visitLiteralArray(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new Xr(e.span,e.sourceSpan,n):e}visitLiteralMap(e,t){const n=this.visitAll(e.values);return n!==e.values?new Gr(e.span,e.sourceSpan,e.keys,n):e}visitUnary(e,t){const n=e.expr.visit(this);if(n!==e.expr)switch(e.operator){case"+":return Zr.createPlus(e.span,e.sourceSpan,n);case"-":return Zr.createMinus(e.span,e.sourceSpan,n);default:throw new Error("Unknown unary operator "+e.operator)}return e}visitBinary(e,t){const n=e.left.visit(this),s=e.right.visit(this);return n!==e.left||s!==e.right?new Yr(e.span,e.sourceSpan,e.operation,n,s):e}visitPrefixNot(e,t){const n=e.expression.visit(this);return n!==e.expression?new Jr(e.span,e.sourceSpan,n):e}visitNonNullAssert(e,t){const n=e.expression.visit(this);return n!==e.expression?new ei(e.span,e.sourceSpan,n):e}visitConditional(e,t){const n=e.condition.visit(this),s=e.trueExp.visit(this),r=e.falseExp.visit(this);return n!==e.condition||s!==e.trueExp||r!==e.falseExp?new Vr(e.span,e.sourceSpan,n,s,r):e}visitPipe(e,t){const n=e.exp.visit(this),s=this.visitAll(e.args);return n!==e.exp||s!==e.args?new zr(e.span,e.sourceSpan,n,e.name,s,e.nameSpan):e}visitKeyedRead(e,t){const n=e.obj.visit(this),s=e.key.visit(this);return n!==e.obj||s!==e.key?new Hr(e.span,e.sourceSpan,n,s):e}visitKeyedWrite(e,t){const n=e.obj.visit(this),s=e.key.visit(this),r=e.value.visit(this);return n!==e.obj||s!==e.key||r!==e.value?new Wr(e.span,e.sourceSpan,n,s,r):e}visitAll(e){const t=[];let n=!1;for(let s=0;s<e.length;++s){const r=e[s],i=r.visit(this);t[s]=i,n=n||i!==r}return n?t:e}visitChain(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new $r(e.span,e.sourceSpan,n):e}visitQuote(e,t){return e}}{constructor(e,t,n,s){super(),this.constantPool=e,this.allocateSlot=t,this.allocatePureFunctionSlots=n,this.definePipe=s,this._pipeBindExprs=[]}visitPipe(e,t){const n=this.allocateSlot(),s="PIPE:"+n,r=this.allocatePureFunctionSlots(2+e.args.length),i=new jr(e.span,e.sourceSpan,e.nameSpan,new Fr(e.span,e.sourceSpan),s),{identifier:a,isVarLength:o}=function(e){const t=gl[e.length];return{identifier:t||In.pipeBindV,isVarLength:!t}}(e.args);this.definePipe(e.name,s,n,Wt(a));const l=[e.exp,...e.args],c=this.visitAll(o?[new Xr(e.span,e.sourceSpan,l)]:l),u=new si(e.span,e.sourceSpan,i,[new Kr(e.span,e.sourceSpan,n),new Kr(e.span,e.sourceSpan,r),...c]);return this._pipeBindExprs.push(u),u}updatePipeSlotOffsets(e){this._pipeBindExprs.forEach(t=>{t.args[1].value+=e})}visitLiteralArray(e,t){return new bi(e.span,e.sourceSpan,this.visitAll(e.expressions),e=>{const t=Xt(e);return xl(this.constantPool,t,this.allocatePureFunctionSlots)})}visitLiteralMap(e,t){return new bi(e.span,e.sourceSpan,this.visitAll(e.values),t=>{const n=Gt(t.map((t,n)=>({key:e.keys[n].key,value:t,quoted:e.keys[n].quoted})));return xl(this.constantPool,n,this.allocatePureFunctionSlots)})}}const gl=[In.pipeBind1,In.pipeBind2,In.pipeBind3,In.pipeBind4],fl=[In.pureFunction0,In.pureFunction1,In.pureFunction2,In.pureFunction3,In.pureFunction4,In.pureFunction5,In.pureFunction6,In.pureFunction7,In.pureFunction8];function vl(e,t,n){return Wt(t,null,e).callFn(n,e)}function yl(e){return Wt(In.nextContext).callFn(e>1?[Jt(e)]:[])}function xl(e,t,n){const{literalFactory:s,literalFactoryArguments:r}=e.getLiteralFactory(t),i=n(1+r.length),{identifier:a,isVarLength:o}=function(e){const t=fl[e.length];return{identifier:t||In.pureFunctionV,isVarLength:!t}}(r),l=[Jt(i),s];return o?l.push(Xt(r)):l.push(...r),Wt(a).callFn(l)}function Sl(e){const[t,n]=me(e),s=Jt(n);return t?[Jt(0),Jt(t),s]:[s]}class El{constructor(e=0,t=null,n){if(this.bindingLevel=e,this.parent=t,this.globals=n,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null,void 0!==n)for(const e of n)this.set(0,e,Ht(e))}static createRootScope(){return new El}get(e){let t=this;for(;t;){let n=t.map.get(e);if(null!=n)return t!==this&&(n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority,localRef:n.localRef},this.map.set(e,n),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView(n.retrievalLevel,n.localRef)),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;t=t.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)}set(e,t,n,s=0,r,i){if(this.map.has(t)){if(i)return this;fn(`The name ${t} is already defined in scope to be ${this.map.get(t)}`)}return this.map.set(t,{retrievalLevel:e,lhs:n,declare:!1,declareLocalCallback:r,priority:s,localRef:i||!1}),this}getLocal(e){return this.get(e)}notifyImplicitReceiverUse(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)}nestedScope(e,t){const n=new El(e,this,t);return e>0&&n.generateSharedContextVar(0),n}getOrCreateSharedContextVar(e){const t="$$shared_ctx$$"+e;return this.map.has(t)||this.generateSharedContextVar(e),this.map.get(t).lhs}getSharedContextName(e){const t=this.map.get("$$shared_ctx$$"+e);return t&&t.declare?t.lhs:null}maybeGenerateSharedContextVar(e){if(1===e.priority&&e.retrievalLevel<this.bindingLevel){const t=this.map.get("$$shared_ctx$$"+e.retrievalLevel);t?t.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}generateSharedContextVar(e){const t=Ht("ctx"+this.freshReferenceName());this.map.set("$$shared_ctx$$"+e,{retrievalLevel:e,lhs:t,declareLocalCallback:(e,n)=>[t.set(yl(n)).toConstDecl()],declare:!1,priority:2,localRef:!1})}getComponentProperty(e){const t=this.map.get("$$shared_ctx$$0");return t.declare=!0,this.maybeRestoreView(0,!1),t.lhs.prop(e)}maybeRestoreView(e,t){this.isListenerScope()&&(e<this.bindingLevel||t)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=Ht(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){return this.restoreViewVariable?[vl(null,In.restoreView,[this.restoreViewVariable]).toStmt()]:[]}viewSnapshotStatements(){const e=vl(null,In.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(e).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let e=0;return Array.from(this.map.values()).filter(e=>e.declare).sort((e,t)=>t.retrievalLevel-e.retrievalLevel||t.priority-e.priority).reduce((t,n)=>{const s=this.bindingLevel-n.retrievalLevel,r=n.declareLocalCallback(this,s-e);return e=s,t.concat(r)},[])}freshReferenceName(){let e=this;for(;e.parent;)e=e.parent;return"_r"+e.referenceNameIndex++}}function _l(e){switch(Ys(e)){case 1:return In.propertyInterpolate;case 3:return In.propertyInterpolate1;case 5:return In.propertyInterpolate2;case 7:return In.propertyInterpolate3;case 9:return In.propertyInterpolate4;case 11:return In.propertyInterpolate5;case 13:return In.propertyInterpolate6;case 15:return In.propertyInterpolate7;case 17:return In.propertyInterpolate8;default:return In.propertyInterpolateV}}const wl=new No;function Cl(e=or){return new $a(new vo(new no),e,wl,null,[])}function bl(e,t){switch(e){case ke.HTML:return Wt(In.sanitizeHtml);case ke.SCRIPT:return Wt(In.sanitizeScript);case ke.STYLE:return t?Wt(In.sanitizeStyle):null;case ke.URL:return Wt(In.sanitizeUrl);case ke.RESOURCE_URL:return Wt(In.sanitizeResourceUrl);default:return null}}function Il(e,t){const n=Ws(t.value);if(!Po(e,t.name))return n;switch(wl.securityContext(e,t.name,!0)){case ke.HTML:return Zt(Wt(In.trustConstantHtml),new ut([new pt(t.value)],[]),void 0,t.valueSpan);case ke.RESOURCE_URL:return Zt(Wt(In.trustConstantResourceUrl),new ut([new pt(t.value)],[]),void 0,t.valueSpan);default:return n}}function Tl(e){return e instanceof qn||e instanceof Hn||e instanceof Jn}function Nl(e){return e.every(Tl)}function Al(){return Kt(Ht("ngI18nClosureMode")).notIdentical(Jt("undefined",He)).and(Ht("ngI18nClosureMode"))}const Pl=/attr\.([^\]]+)/;function kl(e,t,n){const s=new Gs,r=De(e.selector);return s.set("type",e.internalType),r.length>0&&s.set("selectors",Ws(r)),e.queries.length>0&&s.set("contentQueries",function(e,t,n){const s=[],r=[],i=Us(r,"_t");for(const n of e){s.push(Wt(In.contentQuery).callFn([Ht("dirIndex"),...Ll(n,t)]).toStmt());const e=i(),a=Wt(In.loadQuery).callFn([]),o=Wt(In.queryRefresh).callFn([e.set(a)]),l=Ht("ctx").prop(n.propertyName).set(n.first?e.prop("first"):e);r.push(o.and(l).toStmt())}const a=n?n+"_ContentQueries":null;return Qt([new bt("rf",qe),new bt("ctx",null),new bt("dirIndex",null)],[pl(1,s),pl(2,r)],je,null,a)}(e.queries,t,e.name)),e.viewQueries.length&&s.set("viewQuery",function(e,t,n){const s=[],r=[],i=Us(r,"_t");e.forEach(e=>{const n=Wt(In.viewQuery).callFn(Ll(e,t));s.push(n.toStmt());const a=i(),o=Wt(In.loadQuery).callFn([]),l=Wt(In.queryRefresh).callFn([a.set(o)]),c=Ht("ctx").prop(e.propertyName).set(e.first?a.prop("first"):a);r.push(l.and(c).toStmt())});const a=n?n+"_Query":null;return Qt([new bt("rf",qe),new bt("ctx",null)],[pl(1,s),pl(2,r)],je,null,a)}(e.viewQueries,t,e.name)),s.set("hostBindings",function(e,t,n,s,r,i,a){const o=Ht("ctx"),l=new Ya(o),{styleAttr:c,classAttr:u}=e.specialAttributes;void 0!==c&&l.registerStyleAttr(c),void 0!==u&&l.registerClassAttr(u);const p=[],h=[],d=t,m=Vl(e),g=n.createDirectiveHostEventAsts(m,d);if(g&&g.length){const e=function(e,t){const n=[],s=[],r=[];return e.forEach(e=>{let r=e.name&&_n(e.name);const i=1===e.type?Un(r,e.targetOrPhase):r,a=t&&r?`${t}_${i}_HostBindingHandler`:null,o=hl(Kn.fromParsedEvent(e),a);1==e.type?s.push(o):n.push(o)}),s.length>0&&r.push(Qs(In.syntheticHostListener,s).toStmt()),n.length>0&&r.push(Qs(In.listener,n).toStmt()),r}(g,i);p.push(...e)}const f=n.createBoundHostProperties(m,d),v=[];let y,x=0;f&&f.forEach(e=>{l.registerInputBasedOnName(e.name,e.expression,d)?x+=2:(v.push(e),x++)});const S=()=>(y||(y=new ml(s,()=>fn("Unexpected node"),e=>{const t=x;return x+=e,t},()=>fn("Unexpected pipe"))),y),E=[],_=[],w=[];v.forEach(e=>{const t=e.expression.visit(S()),s=$l(o,t),{bindingName:i,instruction:a,isAttribute:l}=function(e){let t,n=e.name;const s=n.match(Pl);return s?(n=s[1],t=In.attribute):e.isAnimation?(n=Vn(n),t=In.syntheticHostProperty):t=In.hostProperty,{bindingName:n,instruction:t,isAttribute:!!s}}(e),c=n.calcPossibleSecurityContexts(r,i,l).filter(e=>e!==ke.NONE);let u=null;c.length&&(u=2===c.length&&c.indexOf(ke.URL)>-1&&c.indexOf(ke.RESOURCE_URL)>-1?Wt(In.sanitizeUrlOrResourceUrl):bl(c[0],l));const p=[Jt(i),s.currValExpr];u&&p.push(u),h.push(...s.stmts),a===In.hostProperty?E.push(p):a===In.attribute?_.push(p):a===In.syntheticHostProperty?w.push(p):h.push(Wt(a).callFn(p).toStmt())}),E.length>0&&h.push(Qs(In.hostProperty,E).toStmt()),_.length>0&&h.push(Qs(In.attribute,_).toStmt()),w.length>0&&h.push(Qs(In.syntheticHostProperty,w).toStmt());const C=function(e){const t=[];for(let n of Object.getOwnPropertyNames(e)){const s=e[n];t.push(Jt(n),s)}return t}(e.attributes);if(l.assignHostAttrs(C,a),l.hasBindings&&l.buildUpdateLevelInstructions(S()).forEach(e=>{if(e.calls.length>0){const t=[];e.calls.forEach(e=>{x+=Math.max(e.allocateBindingSlots-2,0),t.push(function(e,t,n){return e.params(e=>n(t,e).currValExpr)}(e,o,$l))}),h.push(Qs(e.reference,t).toStmt())}}),x&&a.set("hostVars",Jt(x)),p.length>0||h.length>0){const e=i?i+"_HostBindings":null,t=[];return p.length>0&&t.push(pl(1,p)),h.length>0&&t.push(pl(2,h)),Qt([new bt("rf",qe),new bt("ctx",null)],t,je,null,e)}return null}(e.host,e.typeSourceSpan,n,t,e.selector||"",e.name,s)),s.set("inputs",zs(e.inputs,!0)),s.set("outputs",zs(e.outputs)),null!==e.exportAs&&s.set("exportAs",Xt(e.exportAs.map(e=>Jt(e)))),s}function Ol(e,t){const n=[],s=t.providers,r=t.viewProviders;if(s||r){const e=[s||new kt([])];r&&e.push(r),n.push(Wt(In.ProvidersFeature).callFn(e))}t.usesInheritance&&n.push(Wt(In.InheritDefinitionFeature)),t.fullInheritance&&n.push(Wt(In.CopyDefinitionFeature)),t.lifecycle.usesOnChanges&&n.push(Wt(In.NgOnChangesFeature)),n.length&&e.set("features",Xt(n))}function Ml(e,t){switch(t){case 0:return e;case 1:return Qt([],[new Ut(e)]);case 2:const t=e.callMethod("map",[Wt(In.resolveForwardRef)]);return Qt([],[new Ut(t)])}}function Ll(e,t){const n=[Xs(e,t),Jt(Rl(e))];return e.read&&n.push(e.read),n}function Rl(e){return(e.descendants?1:0)|(e.static?2:0)|(e.emitDistinctChangesOnly?4:0)}function Dl(e){return zt(Gt(Object.keys(e).map(t=>({key:t,value:Jt(Array.isArray(e[t])?e[t][0]:e[t]),quoted:!0}))))}function Fl(e){return e.length>0?zt(Xt(e.map(e=>Jt(e)))):We}function Bl(e){const t=null!==e.selector?e.selector.replace(/\n/g,""):null;return[$n(e.type.type,e.typeArgumentCount),null!==t?(n=t,zt(Jt(n))):We,null!==e.exportAs?Fl(e.exportAs):We,Dl(e.inputs),Dl(e.outputs),Fl(e.queries.map(e=>e.propertyName))];var n}function $l(e,t){return fi(null,e,t,"b",wr.Expression,()=>fn("Unexpected interpolation"))}function Vl(e){return{hostAttributes:{},hostListeners:e.listeners,hostProperties:e.properties}}const jl=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;class Ul{get(e){return""}}const ql=Object.keys({useClass:null})[0],Hl=Object.keys({useFactory:null})[0],Wl=Object.keys({useValue:null})[0],zl=Object.keys({useExisting:null})[0],Kl=function(e){const t=new tt(e);return{value:t,type:t}};function Xl(e){return Object.assign(Object.assign({},e),{predicate:Array.isArray(e.predicate)?e.predicate:new tt(e.predicate),read:e.read?new tt(e.read):null,static:e.static,emitDistinctChangesOnly:e.emitDistinctChangesOnly})}function Gl(e){var t,n,s,r;return{propertyName:e.propertyName,first:null!==(t=e.first)&&void 0!==t&&t,predicate:Array.isArray(e.predicate)?e.predicate:new tt(e.predicate),descendants:null!==(n=e.descendants)&&void 0!==n&&n,read:e.read?new tt(e.read):null,static:null!==(s=e.static)&&void 0!==s&&s,emitDistinctChangesOnly:null===(r=e.emitDistinctChangesOnly)||void 0===r||r}}function Ql(e){const t=cc(e.inputs||[]),n=cc(e.outputs||[]),s=e.propMetadata,r={},i={};for(const e in s)s.hasOwnProperty(e)&&s[e].forEach(t=>{"Input"===t.ngMetadataName?r[e]=t.bindingPropertyName?[t.bindingPropertyName,e]:e:lc(t)&&(i[e]=t.bindingPropertyName||e)});return Object.assign(Object.assign({},e),{typeSourceSpan:e.typeSourceSpan,type:Kl(e.type),internalType:new tt(e.type),deps:ic(e.deps),host:ac(e.propMetadata,e.typeSourceSpan,e.host),inputs:Object.assign(Object.assign({},t),r),outputs:Object.assign(Object.assign({},n),i),queries:e.queries.map(Xl),providers:null!=e.providers?new tt(e.providers):null,viewQueries:e.viewQueries.map(Xl),fullInheritance:!1})}function Yl(e,t){var n,s,r,i,a,o,l,c;return{name:e.type.name,type:Kl(e.type),typeSourceSpan:t,internalType:new tt(e.type),selector:null!==(n=e.selector)&&void 0!==n?n:null,inputs:null!==(s=e.inputs)&&void 0!==s?s:{},outputs:null!==(r=e.outputs)&&void 0!==r?r:{},host:Zl(e.host),queries:(null!==(i=e.queries)&&void 0!==i?i:[]).map(Gl),viewQueries:(null!==(a=e.viewQueries)&&void 0!==a?a:[]).map(Gl),providers:void 0!==e.providers?new tt(e.providers):null,exportAs:null!==(o=e.exportAs)&&void 0!==o?o:null,usesInheritance:null!==(l=e.usesInheritance)&&void 0!==l&&l,lifecycle:{usesOnChanges:null!==(c=e.usesOnChanges)&&void 0!==c&&c},deps:null,typeArgumentCount:0,fullInheritance:!1}}function Zl(e={}){var t,n,s;return{attributes:Jl(null!==(t=e.attributes)&&void 0!==t?t:{}),listeners:null!==(n=e.listeners)&&void 0!==n?n:{},properties:null!==(s=e.properties)&&void 0!==s?s:{},specialAttributes:{classAttr:e.classAttribute,styleAttr:e.styleAttribute}}}function Jl(e){const t={};for(const n of Object.keys(e))t[n]=new tt(e[n]);return t}function ec(e){var t,n,s;return{selector:e.selector,type:new tt(e.type),inputs:null!==(t=e.inputs)&&void 0!==t?t:[],outputs:null!==(n=e.outputs)&&void 0!==n?n:[],exportAs:null!==(s=e.exportAs)&&void 0!==s?s:null}}function tc(e){const t=new Map;if(void 0===e)return t;for(const n of Object.keys(e))t.set(n,new tt(e[n]));return t}function nc(e,t,n,s,r){const i=r?ar.fromArray(r):or,a=function(e,t,n={}){var s;const{interpolationConfig:r,preserveWhitespaces:i,enableI18nLegacyMessageIdFormat:a}=n,o=null!==(s=n.isInline)&&void 0!==s&&s,l=Cl(r),c=(new ka).parse(e,t,Object.assign(Object.assign({leadingTriviaChars:ul},n),{tokenizeExpansionForms:!0}));if(!n.alwaysAttemptHtmlToR3AstConversion&&c.errors&&c.errors.length>0)return{interpolationConfig:r,preserveWhitespaces:i,template:e,templateUrl:t,isInline:o,errors:c.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};let u=c.rootNodes;const p=new nl(r,!i,a),h=p.visitAllWithErrors(u);if(!n.alwaysAttemptHtmlToR3AstConversion&&h.errors&&h.errors.length>0)return{interpolationConfig:r,preserveWhitespaces:i,template:e,templateUrl:t,isInline:o,errors:h.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};u=h.rootNodes,i||(u=la(new Da,u),p.hasI18nMeta&&(u=la(new nl(r,!1),u)));const{nodes:d,errors:m,styleUrls:g,styles:f,ngContentSelectors:v}=function(e,t){const n=new Ro(t);return{nodes:la(n,e),errors:t.errors.concat(n.errors),styleUrls:n.styleUrls,styles:n.styles,ngContentSelectors:n.ngContentSelectors}}(u,l);return m.push(...c.errors,...h.errors),{interpolationConfig:r,preserveWhitespaces:i,errors:m.length>0?m:null,template:e,templateUrl:t,isInline:o,nodes:d,styleUrls:g,styles:f,ngContentSelectors:v}}(e,n,{preserveWhitespaces:s,interpolationConfig:i});if(null!==a.errors){const e=a.errors.map(e=>e.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${t}: ${e}`)}return{template:a,interpolation:i}}function sc(e,t){return e.hasOwnProperty(t)?new tt(e[t]):void 0}function rc(e){let t;return t=null===e.token?new ct(null):e.resolved===er.Attribute?new ct(e.token):new tt(e.token),{token:t,attribute:null,resolved:e.resolved,host:e.host,optional:e.optional,self:e.self,skipSelf:e.skipSelf}}function ic(e){return null==e?null:e.map(rc)}function ac(e,t,n){const s=function(e){const t={},n={},s={},r={};for(const i of Object.keys(e)){const a=e[i],o=i.match(jl);if(null===o)switch(i){case"class":if("string"!=typeof a)throw new Error("Class binding must be string");r.classAttr=a;break;case"style":if("string"!=typeof a)throw new Error("Style binding must be string");r.styleAttr=a;break;default:t[i]="string"==typeof a?Jt(a):a}else if(null!=o[1]){if("string"!=typeof a)throw new Error("Property binding must be string");s[o[1]]=a}else if(null!=o[2]){if("string"!=typeof a)throw new Error("Event binding must be string");n[o[2]]=a}}return{attributes:t,listeners:n,properties:s,specialAttributes:r}}(n||{}),r=function(e,t){const n=Vl(e),s=Cl();return s.createDirectiveHostEventAsts(n,t),s.createBoundHostProperties(n,t),s.errors}(s,t);if(r.length)throw new Error(r.map(e=>e.msg).join("\n"));for(const t in e)e.hasOwnProperty(t)&&e[t].forEach(e=>{"HostBinding"===e.ngMetadataName?s.properties[e.hostPropertyName||t]=jn("this",t):oc(e)&&(s.listeners[e.eventName||t]=`${t}(${(e.args||[]).join(",")})`)});return s}function oc(e){return"HostListener"===e.ngMetadataName}function lc(e){return"Output"===e.ngMetadataName}function cc(e){return e.reduce((e,t)=>{const[n,s]=t.split(",").map(e=>e.trim());return e[n]=s||n,e},{})}var uc,pc,hc;new class{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}("11.2.4"),function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(uc||(uc={})),function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(pc||(pc={})),Ht("_l"),Ht("_l"),Ht("_v"),Ht("_ck"),Ht("_co"),Ht("en"),Ht("ad"),function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(hc||(hc={})),(En.ng||(En.ng={})).ɵcompilerFacade=new class{constructor(e=new pr){this.jitEvaluator=e,this.R3ResolvedDependencyType=er,this.R3FactoryTarget=Js,this.ResourceLoader=Ul,this.elementSchemaRegistry=new No}compilePipe(e,t,n){const s=Pr({name:n.name,type:Kl(n.type),internalType:new tt(n.type),typeArgumentCount:n.typeArgumentCount,deps:ic(n.deps),pipeName:n.pipeName,pure:n.pure});return this.jitExpression(s.expression,e,t,[])}compilePipeDeclaration(e,t,n){const s=Pr(function(e){var t;return{name:e.type.name,type:Kl(e.type),internalType:new tt(e.type),typeArgumentCount:0,pipeName:e.name,deps:null,pure:null===(t=e.pure)||void 0===t||t}}(n));return this.jitExpression(s.expression,e,t,[])}compileInjectable(e,t,n){const{expression:s,statements:r}=function(e){let t=null;const n={name:e.name,type:e.type,internalType:e.internalType,typeArgumentCount:e.typeArgumentCount,deps:[],injectFn:hn.inject,target:Js.Injectable};if(void 0!==e.useClass){const s=e.useClass.isEquivalent(e.internalType);let r=void 0;void 0!==e.userDeps&&(r=e.userDeps),t=void 0!==r?tr(Object.assign(Object.assign({},n),{delegate:e.useClass,delegateDeps:r,delegateType:Zs.Class})):s?tr(n):rr(e.type.value,e.useClass)}else t=void 0!==e.useFactory?void 0!==e.userDeps?tr(Object.assign(Object.assign({},n),{delegate:e.useFactory,delegateDeps:e.userDeps||[],delegateType:Zs.Function})):{statements:[],factory:Qt([],[new Ut(e.useFactory.callFn([]))])}:void 0!==e.useValue?tr(Object.assign(Object.assign({},n),{expression:e.useValue})):void 0!==e.useExisting?tr(Object.assign(Object.assign({},n),{expression:Wt(hn.inject).callFn([e.useExisting])})):rr(e.type.value,e.internalType);const s={token:e.internalType,factory:t.factory};return null!==e.providedIn.value&&(s.providedIn=e.providedIn),{expression:Wt(hn.ɵɵdefineInjectable).callFn([Bn(s)]),type:new $e(Wt(hn.InjectableDef,[$n(e.type.type,e.typeArgumentCount)])),statements:t.statements}}({name:n.name,type:Kl(n.type),internalType:new tt(n.type),typeArgumentCount:n.typeArgumentCount,providedIn:(i=n.providedIn,null==i||"string"==typeof i?new ct(i):new tt(i)),useClass:sc(n,ql),useFactory:sc(n,Hl),useValue:sc(n,Wl),useExisting:sc(n,zl),userDeps:ic(n.userDeps)||void 0});var i;return this.jitExpression(s,e,t,r)}compileInjector(e,t,n){const s=function(e){const t=tr({name:e.name,type:e.type,internalType:e.internalType,typeArgumentCount:0,deps:e.deps,injectFn:In.inject,target:Js.NgModule}),n={factory:t.factory};return null!==e.providers&&(n.providers=e.providers),e.imports.length>0&&(n.imports=Xt(e.imports)),{expression:Wt(In.defineInjector).callFn([Bn(n)]),type:new $e(Wt(In.InjectorDef,[new $e(e.type.type)])),statements:t.statements}}({name:n.name,type:Kl(n.type),internalType:new tt(n.type),deps:ic(n.deps),providers:new tt(n.providers),imports:n.imports.map(e=>new tt(e))});return this.jitExpression(s.expression,e,t,s.statements)}compileNgModule(e,t,n){const s=function(e){const{internalType:t,type:n,bootstrap:s,declarations:r,imports:i,exports:a,schemas:o,containsForwardDecls:l,emitInline:c,id:u}=e,p=[],h={type:t};if(s.length&&(h.bootstrap=Ar(s,l)),c)r.length&&(h.declarations=Ar(r,l)),i.length&&(h.imports=Ar(i,l)),a.length&&(h.exports=Ar(a,l));else{const t=function(e){const{adjacentType:t,declarations:n,imports:s,exports:r,containsForwardDecls:i}=e,a={};if(n.length&&(a.declarations=Ar(n,i)),s.length&&(a.imports=Ar(s,i)),r.length&&(a.exports=Ar(r,i)),0===Object.keys(a).length)return null;const o=function(e,t){const n=new St({name:"ngJitMode",moduleName:null}),s=new Nt(Ke.Identical,new et(n),Jt("undefined")),r=new Nt(Ke.Or,s,n,void 0,void 0,!0);return new Nt(Ke.And,r,t)}(0,new at(Wt(In.setNgModuleScope),[t,Bn(a)])),l=new It([],[o.toStmt()]);return new at(l,[]).toStmt()}(e);null!==t&&p.push(t)}return o&&o.length&&(h.schemas=Xt(o.map(e=>e.value))),u&&(h.id=u),{expression:Wt(In.defineNgModule).callFn([Bn(h)]),type:new $e(Wt(In.NgModuleDefWithMeta,[new $e(n.type),Nr(r),Nr(i),Nr(a)])),additionalStatements:p}}({type:Kl(n.type),internalType:new tt(n.type),adjacentType:new tt(n.type),bootstrap:n.bootstrap.map(Kl),declarations:n.declarations.map(Kl),imports:n.imports.map(Kl),exports:n.exports.map(Kl),emitInline:!0,containsForwardDecls:!1,schemas:n.schemas?n.schemas.map(Kl):null,id:n.id?new tt(n.id):null});return this.jitExpression(s.expression,e,t,[])}compileDirective(e,t,n){const s=Ql(n);return this.compileDirectiveFromMeta(e,t,s)}compileDirectiveDeclaration(e,t,n){const s=Yl(n,this.createParseSourceSpan("Directive",n.type.name,t));return this.compileDirectiveFromMeta(e,t,s)}compileDirectiveFromMeta(e,t,n){const s=new an,r=function(e,t,n){const s=kl(e,t,Cl());return Ol(s,e),{expression:Wt(In.defineDirective).callFn([s.toLiteralMap()]),type:function(e){const t=Bl(e);return zt(Wt(In.DirectiveDefWithMeta,t))}(e)}}(n,s);return this.jitExpression(r.expression,e,t,s.statements)}compileComponent(e,t,n){const{template:s,interpolation:r}=nc(n.template,n.name,t,n.preserveWhitespaces,n.interpolation),i=Object.assign(Object.assign(Object.assign({},n),Ql(n)),{selector:n.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:s,declarationListEmitMode:0,styles:[...n.styles,...s.styles],encapsulation:n.encapsulation,interpolation:r,changeDetection:n.changeDetection,animations:null!=n.animations?new tt(n.animations):null,viewProviders:null!=n.viewProviders?new tt(n.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0});return this.compileComponentFromMeta(e,`ng:///${n.name}.js`,i)}compileComponentDeclaration(e,t,n){const s=function(e,t,n){var s,r,i,a,o;const{template:l,interpolation:c}=nc(e.template,e.type.name,n,null!==(s=e.preserveWhitespaces)&&void 0!==s&&s,e.interpolation);return Object.assign(Object.assign({},Yl(e,t)),{template:l,styles:null!==(r=e.styles)&&void 0!==r?r:[],directives:(null!==(i=e.directives)&&void 0!==i?i:[]).map(ec),pipes:tc(e.pipes),viewProviders:void 0!==e.viewProviders?new tt(e.viewProviders):null,animations:void 0!==e.animations?new tt(e.animations):null,changeDetection:null!==(a=e.changeDetection)&&void 0!==a?a:Pe.Default,encapsulation:null!==(o=e.encapsulation)&&void 0!==o?o:Ae.Emulated,interpolation:c,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0})}(n,this.createParseSourceSpan("Component",n.type.name,t),t);return this.compileComponentFromMeta(e,t,s)}compileComponentFromMeta(e,t,n){const s=new an,r=function(e,t,n){const s=kl(e,t,n);Ol(s,e);const r=e.selector&&be.parse(e.selector),i=r&&r[0];if(i){const e=i.getAttrs();e.length&&s.set("attrs",t.getConstLiteral(Xt(e.map(e=>Jt(null!=e?e:void 0))),!0))}let a=null;if(e.directives.length>0){const t=new Ie;for(const{selector:n,type:s}of e.directives)t.addSelectables(be.parse(n),s);a=t}const o=e.name,l=o?o+"_Template":null,c=new Set,u=new Set,p=e.changeDetection,h=e.template,d=new dl(t,El.createRootScope(),0,o,null,null,l,a,c,e.pipes,u,In.namespaceHTML,e.relativeContextFilePath,e.i18nUseExternalIds),m=d.buildTemplateFunction(h.nodes,[]),g=d.getNgContentSelectors();g&&s.set("ngContentSelectors",g),s.set("decls",Jt(d.getConstCount())),s.set("vars",Jt(d.getVarCount()));const{constExpressions:f,prepareStatements:v}=d.getConsts();if(f.length>0){let e=Xt(f);v.length>0&&(e=Qt([],[...v,new Ut(e)])),s.set("consts",e)}if(s.set("template",m),c.size){const t=Ml(Xt(Array.from(c)),e.declarationListEmitMode);s.set("directives",t)}if(u.size){const t=Ml(Xt(Array.from(u)),e.declarationListEmitMode);s.set("pipes",t)}if(null===e.encapsulation&&(e.encapsulation=Ae.Emulated),e.styles&&e.styles.length){const n=(e.encapsulation==Ae.Emulated?function(e,t,n){const s=new Ii;return e.map(e=>s.shimCssText(e,"_ngcontent-%COMP%","_nghost-%COMP%"))}(e.styles):e.styles).map(e=>t.getConstLiteral(Jt(e)));s.set("styles",Xt(n))}else e.encapsulation===Ae.Emulated&&(e.encapsulation=Ae.None);return e.encapsulation!==Ae.Emulated&&s.set("encapsulation",Jt(e.encapsulation)),null!==e.animations&&s.set("data",Gt([{key:"animation",value:e.animations,quoted:!1}])),null!=p&&p!==Pe.Default&&s.set("changeDetection",Jt(p)),{expression:Wt(In.defineComponent).callFn([s.toLiteralMap()]),type:function(e){const t=Bl(e);return t.push(Fl(e.template.ngContentSelectors)),zt(Wt(In.ComponentDefWithMeta,t))}(e)}}(n,s,Cl(n.interpolation));return this.jitExpression(r.expression,e,t,s.statements)}compileFactory(e,t,n){const s=tr({name:n.name,type:Kl(n.type),internalType:new tt(n.type),typeArgumentCount:n.typeArgumentCount,deps:ic(n.deps),injectFn:"directiveInject"===n.injectFn?hn.directiveInject:hn.inject,target:n.target});return this.jitExpression(s.factory,e,t,s.statements)}createParseSourceSpan(e,t,n){return function(e,t,n){const s=new xr("",`in ${e} ${t} in ${n}`);return new Sr(new yr(s,-1,-1,-1),new yr(s,-1,-1,-1))}(e,t,n)}jitExpression(e,t,n,s){const r=[...s,new $t("$def",e,void 0,[Dt.Exported])];return this.jitEvaluator.evaluateStatements(n,r,new Ir(t),!0).$def}};const dc="attribute",mc="element",gc={[dc]:"attrs",[mc]:mc},fc=(e,t,n)=>{n.report({node:e,messageId:"prefixFailure",data:{prefix:t}})},vc=(e,t,n)=>{n.report({node:e,messageId:"styleFailure",data:{style:t}})},yc=(e,t,n)=>{n.report({node:e,messageId:"typeFailure",data:{type:t}})},xc=(e,t,n)=>{const s=Q(e),r=n,i=s.length>0&&s.every(e=>-1!==[mc,dc].indexOf(e)),a=t.length>0,o=-1!==[u,p].indexOf(r);return i&&a&&o},Sc=(e,t,n,s)=>{const r=Q(t||["attrs",mc]).reduce((e,t)=>e.concat(gc[t]),[]),i=s===p?Z.kebabCase:Z.camelCase;let a=null;if(e&&I(e)?a=be.parse(e.raw):e&&T(e)&&e.quasis[0]&&(a=be.parse(e.quasis[0].value.raw)),!a)return null;const o=((e,t)=>e.reduce((e,n)=>{const s=t.reduce((e,t)=>{const s=n[t];return s?e.concat(s):e},[]);return e.concat(s)},[]))(a,r),l=o.some(e=>n.some(t=>Z.prefix(t,s)(e))),c=o.some(e=>i(e));return{hasExpectedPrefix:l,hasExpectedType:o.length>0,hasExpectedStyle:c}};var Ec=ne({name:"component-selector",meta:{type:"suggestion",docs:{description:"Component selectors should follow given naming rules. See more at https://angular.io/guide/styleguide#style-02-07, https://angular.io/guide/styleguide#style-05-02\n      and https://angular.io/guide/styleguide#style-05-03.",category:"Best Practices",recommended:!1},schema:[{type:"object",properties:{type:{oneOf:[{type:"string"},{type:"array",items:{enum:[mc,dc]}}]},prefix:{oneOf:[{type:"string"},{type:"array"}]},style:{type:"string",enum:[u,p]}},additionalProperties:!1}],messages:{prefixFailure:"The selector should be prefixed by one of the prefixes: '{{prefix}}' (https://angular.io/guide/styleguide#style-02-07)",styleFailure:"The selector should be {{style}} (https://angular.io/guide/styleguide#style-05-02)",typeFailure:"The selector should be used as an {{type}} (https://angular.io/guide/styleguide#style-05-03)"}},defaultOptions:[{type:"",prefix:"",style:""}],create(e,[t]){const{type:n,prefix:s,style:r}=t;return{[ae](t){const i=K(t,"selector");if(!i)return;if(!xc(n,s,r))return;const a=Sc(i,n,Q(s),r);null!==a&&(a.hasExpectedType?a.hasExpectedStyle?a.hasExpectedPrefix||fc(i,s,e):vc(i,r,e):yc(i,n,e))}}}}),_c=ne({name:"contextual-lifecycle",meta:{type:"problem",docs:{description:"Ensures that lifecycle methods are used in a correct context",category:"Possible Errors",recommended:"error"},schema:[],messages:{contextuaLifecycle:"This lifecycle method is not called for {{decorator}}"}},defaultOptions:[],create(e){function t({parent:t},n){const s=t,r=f.get(n),i=X(s);for(const t of i){const s=G(t);q(s)&&!(null==r?void 0:r.has(s))&&e.report({node:t.key,messageId:"contextuaLifecycle",data:{decorator:n}})}}return{[ae](e){t(e,s.Component)},[oe](e){t(e,s.Directive)},'ClassDeclaration > Decorator[expression.callee.name="Injectable"]'(e){t(e,s.Injectable)},'ClassDeclaration > Decorator[expression.callee.name="NgModule"]'(e){t(e,s.NgModule)},[le](e){t(e,s.Pipe)}}}}),wc=ne({name:"directive-class-suffix",meta:{type:"suggestion",docs:{description:'Classes decorated with @Directive must have suffix "Directive" (or custom) in their name. See more at https://angular.io/styleguide#style-02-03.',category:"Best Practices",recommended:"error"},schema:[{type:"object",properties:{suffixes:{type:"array",items:{type:"string"}}},additionalProperties:!1}],messages:{directiveClassSuffix:"The name of the class {{className}} should end with the suffix {{suffixes}} (https://angular.io/styleguide#style-02-03)"}},defaultOptions:[{suffixes:["Directive"]}],create(e,[t]){const{suffixes:n}=t;return{[oe](t){const s=t.parent,r=M(s);B(s).some(e=>e.endsWith("Validator"))&&n.push("Validator"),r&&n.some(e=>r.endsWith(e))||e.report({node:s.id?s.id:s,messageId:"directiveClassSuffix",data:{className:r,suffixes:n}})}}}}),Cc=ne({name:"directive-selector",meta:{type:"suggestion",docs:{description:"Directive selectors should follow given naming rules. See more at https://angular.io/guide/styleguide#style-02-06 and https://angular.io/guide/styleguide#style-02-08.",category:"Best Practices",recommended:!1},schema:[{type:"object",properties:{type:{oneOf:[{type:"string"},{type:"array",items:{enum:[mc,dc]}}]},prefix:{oneOf:[{type:"string"},{type:"array"}]},style:{type:"string",enum:[u,p]}},additionalProperties:!1}],messages:{prefixFailure:"The selector should be prefixed by one of the prefixes: '{{prefix}}' (https://angular.io/guide/styleguide#style-02-08)",styleFailure:"The selector should be {{style}} (https://angular.io/guide/styleguide#style-02-06)",typeFailure:"The selector should be used as an {{type}} (https://angular.io/guide/styleguide#style-02-06)"}},defaultOptions:[{type:"",prefix:"",style:""}],create(e,[t]){const{type:n,prefix:s,style:r}=t;return{[oe](t){const i=K(t,"selector");if(!i)return;if(!xc(n,s,r))return;const a=Sc(i,n,Q(s),r);null!==a&&(a.hasExpectedType?a.hasExpectedStyle?a.hasExpectedPrefix||fc(i,s,e):vc(i,r,e):yc(i,n,e))}}}}),bc=ne({name:"no-attribute-decorator",meta:{type:"problem",docs:{description:`Disallows usage of @${o.Attribute} decorator.`,category:"Possible Errors",recommended:!1},schema:[],messages:{noAttributeDecorator:`@${o.Attribute} is considered bad practice. Use @Input instead`}},defaultOptions:[],create:t=>({MethodDefinition(n){n.value&&n.value.type===e.AST_NODE_TYPES.FunctionExpression&&function(e){return"constructor"===e.kind}(n)&&function(e){e.value.params.forEach(e=>{if(null!=e.decorators)for(const n of e.decorators)if(R(n)===o.Attribute){t.report({node:e,messageId:"noAttributeDecorator"});break}})}(n)}})});const Ic=[l.DoCheck,l.OnChanges],Tc=[c.ngDoCheck,c.ngOnChanges];var Nc=ne({name:"no-conflicting-lifecycle",meta:{type:"suggestion",docs:{description:"Ensures that directives not implement conflicting lifecycle interfaces.",category:"Best Practices",recommended:"error"},schema:[],messages:{noConflictingLifecycleInterface:`Implementing ${l.DoCheck} and ${l.OnChanges} in a class is not recommended`,noConflictingLifecycleMethod:`Declaring ${c.ngDoCheck} and ${c.ngOnChanges} method in a class is not recommended`}},defaultOptions:[],create:e=>({ClassDeclaration(t){(t=>{const n=$(t);if(!Ic.every(e=>n.includes(e)))return;const s=F(t).filter(e=>E(e.expression)&&U(e.expression.name));for(const t of s)e.report({node:t,messageId:"noConflictingLifecycleInterface"})})(t),(t=>{const n=(e=>X(e).map(G).filter(q))(t);if(!Tc.every(e=>n.includes(e)))return;const s=X(t).filter(e=>E(e.key)&&q(e.key.name));for(const t of s)e.report({node:t,messageId:"noConflictingLifecycleMethod"})})(t)}})}),Ac=ne({name:"no-forward-ref",meta:{type:"suggestion",docs:{description:"Disallows usage of `forwardRef` references for DI",category:"Best Practices",recommended:!1},schema:[],messages:{noForwardRef:"Avoid using `forwardRef`"}},defaultOptions:[],create:e=>({'CallExpression[callee.type="Identifier"][callee.name="forwardRef"]'(t){e.report({node:t,messageId:"noForwardRef"})}})}),Pc=ne({name:"no-host-metadata-property",meta:{type:"suggestion",docs:{description:"Disallows usage of the `host` metadata property. See more at https://angular.io/styleguide#style-06-03.",category:"Best Practices",recommended:"error"},schema:[],messages:{noHostMetadataProperty:`Use @${o.HostBinding} or @${o.HostListener} rather than the \`host\` metadata property (https://angular.io/styleguide#style-06-03)`}},defaultOptions:[],create:e=>({[ie](t){const n=K(t,"host");n&&e.report({node:n.parent,messageId:"noHostMetadataProperty"})}})}),kc=ne({name:"no-input-prefix",meta:{type:"suggestion",docs:{description:"Input names should not be prefixed by the configured disallowed prefixes.",category:"Best Practices",recommended:!1},schema:[{type:"object",properties:{prefixes:{type:"array",items:{type:"string"}}},additionalProperties:!1}],messages:{noInputPrefix:"@Inputs should not be prefixed by {{disallowedPrefixes}}"}},defaultOptions:[{prefixes:[]}],create:(e,[t])=>({':matches(ClassProperty, MethodDefinition[kind="set"]) > Decorator[expression.callee.name="Input"]'(n){if(!J(n.expression.callee,"@angular/core"))return;const s=n.parent,r=W(s),i=t.prefixes;i.some(e=>e===r||new RegExp(`^${e}[^a-z]`).test(r))&&e.report({node:s,messageId:"noInputPrefix",data:{disallowedPrefixes:i.join(", ")}})}})});const Oc=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-controls","aria-current","aria-describedby","aria-disabled","aria-dragged","aria-dropeffect","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"]);var Mc=ne({name:"no-input-rename",meta:{type:"suggestion",docs:{description:"Disallows renaming directive inputs by providing a string to the decorator.",category:"Best Practices",recommended:"error"},schema:[],messages:{noInputRename:"In the class {{className}}, the directive input property {{propertyName}} should not be renamed"}},defaultOptions:[],create:e=>({':matches(ClassProperty, MethodDefinition[kind="set"]) > Decorator[expression.callee.name="Input"]'(t){const n=t.expression;if(!J(n.callee,"@angular/core"))return;if(0===n.arguments.length)return;let r;const i=t.parent,a=i.parent.parent,o=a.decorators&&a.decorators.find(e=>S(e.expression)&&E(e.expression.callee)&&e.expression.callee.name===s.Directive);if(o){const e=K(o,"selector");e&&I(e)&&e.value&&(r=(e.value.toString()||"").replace(/[[\]\s]/g,"").split(","))}const l=n.arguments[0].value;l&&E(i.key)&&((e,t)=>{return!!(e!==t&&r&&r.some(n=>new RegExp(`^${n}((${t[0].toUpperCase()+t.slice(1)}$)|(?=$))`).test(e))||Oc.has(e)&&t===(n=e,n.replace(/-[a-zA-Z]/g,e=>e[1].toUpperCase())));var n})(l.toString(),i.key.name)||e.report({node:i,messageId:"noInputRename",data:{className:a.id&&a.id.name,propertyName:i.key.name}})}})}),Lc=ne({name:"no-inputs-metadata-property",meta:{type:"suggestion",docs:{description:"Disallows usage of the `inputs` metadata property. See more at https://angular.io/styleguide#style-05-12.",category:"Best Practices",recommended:"error"},schema:[],messages:{noInputsMetadataProperty:`Use @${o.Input} rather than the \`inputs\` metadata property (https://angular.io/styleguide#style-05-12)`}},defaultOptions:[],create:e=>({[ie](t){const n=K(t,"inputs");n&&e.report({node:n.parent,messageId:"noInputsMetadataProperty"})}})}),Rc=ne({name:"no-lifecycle-call",meta:{type:"suggestion",docs:{description:"Disallows explicit calls to lifecycle methods",category:"Best Practices",recommended:!1},schema:[],messages:{noLifecycleCall:"Avoid explicit calls to lifecycle methods"}},defaultOptions:[],create:e=>({[`ClassDeclaration MemberExpression[property.name=${te([...j])}]`]:t=>{!L(function(e){return O(e,w)}(t))||function(e){return"Super"===e.type}(t.object)&&function(e){const t=O(e,k);return Boolean(t&&function({property:e},{key:t}){return E(e)&&E(t)&&e.name===t.name}(e,t))}(t)||e.report({node:t.parent,messageId:"noLifecycleCall"})}})}),Dc=ne({name:"no-output-native",meta:{type:"suggestion",docs:{description:"Disallows naming directive outputs as standard DOM event.",category:"Best Practices",recommended:"error"},schema:[],messages:{noOutputNative:"The output property should not be named or renamed as a native event"}},defaultOptions:[],create:e=>({'ClassProperty > Decorator[expression.callee.name="Output"]'(t){const n=t.parent;if(!M(t))return;const s=W(n),r=t.expression.arguments[0],i=r&&I(r)&&r.value||s;i&&(Fc||(Fc=new Set(["abort","afterprint","animationend","animationiteration","animationstart","appinstalled","audioprocess","audioend","audiostart","beforeprint","beforeunload","beginEvent","blocked","blur","boundary","cached","canplay","canplaythrough","change","chargingchange","chargingtimechange","checking","click","close","complete","compositionend","compositionstart","compositionupdate","contextmenu","copy","cut","dblclick","devicechange","devicelight","devicemotion","deviceorientation","deviceproximity","dischargingtimechange","DOMAttributeNameChanged","DOMAttrModified","DOMCharacterDataModified","DOMContentLoaded","DOMElementNameChanged","focus","focusin","focusout","DOMNodeInserted","DOMNodeInsertedIntoDocument","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMSubtreeModified","downloading","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","durationchange","emptied","end","ended","endEvent","error","fullscreenchange","fullscreenerror","gamepadconnected","gamepaddisconnected","gotpointercapture","hashchange","lostpointercapture","input","invalid","keydown","keypress","keyup","languagechange","levelchange","load","loadeddata","loadedmetadata","loadend","loadstart","mark","message","messageerror","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","nomatch","notificationclick","noupdate","obsolete","offline","online","open","orientationchange","pagehide","pageshow","paste","pause","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","pointerlockerror","pointermove","pointerout","pointerover","pointerup","play","playing","popstate","progress","push","pushsubscriptionchange","ratechange","readystatechange","repeatEvent","reset","resize","resourcetimingbufferfull","result","resume","scroll","seeked","seeking","select","selectstart","selectionchange","show","soundend","soundstart","speechend","speechstart","stalled","start","storage","submit","success","suspend","SVGAbort","SVGError","SVGLoad","SVGResize","SVGScroll","SVGUnload","SVGZoom","timeout","timeupdate","touchcancel","touchend","touchmove","touchstart","transitionend","unload","updateready","upgradeneeded","userproximity","voiceschanged","versionchange","visibilitychange","volumechange","waiting","wheel"]))).has(i.toString())&&e.report({node:n,messageId:"noOutputNative"})}})});let Fc=null;var Bc=ne({name:"no-output-on-prefix",meta:{type:"suggestion",docs:{description:"Name events without the prefix on. See more at https://angular.io/guide/styleguide#dont-prefix-output-properties.",category:"Best Practices",recommended:"error"},schema:[],messages:{noOutputOnPrefix:'In the class "{{className}}", the output property "{{memberName}}" should not be prefixed with on'}},defaultOptions:[],create:e=>({'ClassProperty > Decorator[expression.callee.name="Output"]'(t){const n=t.parent,s=M(t),r=W(n);r&&/^on((?![a-z])|(?=$))/.test(r)&&e.report({node:n,messageId:"noOutputOnPrefix",data:{className:s,memberName:r}})}})}),$c=ne({name:"no-output-rename",meta:{type:"suggestion",docs:{description:"Disallows renaming directive outputs by providing a string to the decorator.",category:"Best Practices",recommended:"error"},schema:[],messages:{noOutputRename:"@Outputs should not be renamed"}},defaultOptions:[],create:e=>({'ClassProperty > Decorator[expression.callee.name="Output"]'(t){const n=t.expression;if(!J(n.callee,"@angular/core"))return;if(0===n.arguments.length)return;let r;const i=t.parent,a=i.parent.parent,o=a.decorators&&a.decorators.find(e=>S(e.expression)&&E(e.expression.callee)&&e.expression.callee.name===s.Directive);if(o){const e=K(o,"selector");e&&I(e)&&e.value&&(r=new Set((e.value.toString()||"").replace(/[[\]\s]/g,"").split(",")))}const l=n.arguments[0].value;l&&E(i.key)&&((e,t)=>!(!r||!r.has(e)||e===t))(l.toString(),i.key.name)||e.report({node:i,messageId:"noOutputRename"})}})}),Vc=ne({name:"no-outputs-metadata-property",meta:{type:"suggestion",docs:{description:"Disallows usage of the `outputs` metadata property. See more at https://angular.io/styleguide#style-05-12.",category:"Best Practices",recommended:"error"},schema:[],messages:{noOutputsMetadataProperty:`Use @${o.Output} rather than the \`outputs\` metadata property (https://angular.io/styleguide#style-05-12)`}},defaultOptions:[],create:e=>({[ie](t){const n=K(t,"outputs");n&&e.report({node:n.parent,messageId:"noOutputsMetadataProperty"})}})}),jc=ne({name:"no-pipe-impure",meta:{type:"suggestion",docs:{description:"Disallows the declaration of impure pipes.",category:"Best Practices",recommended:!1},schema:[],messages:{noPipeImpure:"Impure pipes should be avoided because they are invoked on each change-detection cycle."}},defaultOptions:[],create:e=>({[le](t){const n=z(t,"pure");n&&I(n.value)&&!n.value.value&&e.report({node:n.value,messageId:"noPipeImpure"})}})}),Uc=ne({name:"no-queries-metadata-property",meta:{type:"suggestion",docs:{description:"Disallows usage of the `queries` metadata property. See more at https://angular.io/styleguide#style-05-12.",category:"Best Practices",recommended:!1},schema:[],messages:{noQueriesMetadataProperty:`Use @${o.Output} rather than the \`queries\` metadata property (https://angular.io/styleguide#style-05-12)`}},defaultOptions:[],create:e=>({[ie](t){const n=K(t,"queries");n&&e.report({node:n.parent,messageId:"noQueriesMetadataProperty"})}})}),qc=ne({name:"no-empty-lifecycle-method",meta:{type:"suggestion",docs:{description:"Disallows declaring empty lifecycle methods",category:"Best Practices",recommended:"error"},schema:[],messages:{noEmptyLifecycleMethod:"Lifecycle methods should not be empty"}},defaultOptions:[],create:e=>({[`MethodDefinition[key.name=${te([...j])}][value.body.body.length=0]`](t){L(t.parent.parent)&&e.report({node:t.key,messageId:"noEmptyLifecycleMethod"})}})});const Hc="prefer-on-push-component-change-detection";var Wc=ne({name:Hc,meta:{type:"suggestion",docs:{description:"Enforces component's change detection to ChangeDetectionStrategy.OnPush.",category:"Best Practices",recommended:!1},schema:[],messages:{preferOnPushComponentChangeDetection:"The changeDetection value of a component should be set to ChangeDetectionStrategy.OnPush"}},defaultOptions:[],create:e=>({[ae](t){const n=K(t,"changeDetection");n?E(n.property)&&"OnPush"===n.property.name||e.report({node:n,messageId:"preferOnPushComponentChangeDetection"}):e.report({node:t,messageId:"preferOnPushComponentChangeDetection"})}})}),zc=ne({name:"prefer-output-readonly",meta:{type:"suggestion",docs:{description:"Prefer to declare `@Output` as readonly since they are not supposed to be reassigned",category:"Best Practices",recommended:!1},schema:[],messages:{preferOutputReadonly:"Prefer to declare `@Output` as readonly since they are not supposed to be reassigned"}},defaultOptions:[],create:e=>({'ClassProperty[readonly=undefined] > Decorator[expression.callee.name="Output"]'({parent:t}){e.report({node:t.key,messageId:"preferOutputReadonly"})}})});const Kc=/^\.{1,2}\/[^./]/;var Xc=ne({name:"relative-url-prefix",meta:{type:"suggestion",docs:{description:"The ./ and ../ prefix is standard syntax for relative URLs; don't depend on Angular's current ability to do without that prefix. See more at https://angular.io/styleguide#style-05-04.",category:"Best Practices",recommended:!1},schema:[],messages:{relativeUrlPrefix:"The ./ and ../ prefix is standard syntax for relative URLs. (https://angular.io/styleguide#style-05-04)"}},defaultOptions:[],create:e=>({[ae](t){const n=z(t,"templateUrl");n&&P(n.value)&&(Kc.test(n.value.value)||e.report({node:n.value,messageId:"relativeUrlPrefix"}));const s=z(t,"styleUrls");s&&s.value&&b(s.value)&&s.value.elements.length>0&&s.value.elements.forEach(t=>{P(t)&&!Kc.test(t.value)&&e.report({node:t,messageId:"relativeUrlPrefix"})})}})}),Gc=ne({name:"use-component-selector",meta:{type:"suggestion",docs:{description:"Component selector must be declared",category:"Best Practices",recommended:!1},schema:[],messages:{useComponentSelector:"The selector of the component '{{className}}' is mandatory"}},defaultOptions:[],create:e=>({[ae](t){const n=t.parent;if(!n||!n.id||!n.id.name)return;const s=K(t,"selector");s&&P(s)&&s.value.length||e.report({node:t,messageId:"useComponentSelector",data:{className:n.id.name}})}})}),Qc=ne({name:"use-component-view-encapsulation",meta:{type:"suggestion",docs:{description:"Disallows using ViewEncapsulation.None",category:"Best Practices",recommended:!1},schema:[],messages:{useComponentViewEncapsulation:"Using ViewEncapsulation.None makes your styles global, which may have an unintended effect"}},defaultOptions:[],create:e=>({[ae](t){const n=K(t,"encapsulation");!n||_(n)&&E(n.property)&&"None"!==n.property.name||e.report({node:n,messageId:"useComponentViewEncapsulation"})}})}),Yc=ne({name:"use-injectable-provided-in",meta:{type:"suggestion",docs:{description:`"Using the 'providedIn' property makes classes decorated with @${s.Injectable} tree shakeable`,category:"Best Practices",recommended:!1},schema:[],messages:{useInjectableProvidedIn:`Classes decorated with @${s.Injectable} should use the 'providedIn' property`}},defaultOptions:[],create:e=>({'ClassDeclaration > Decorator[expression.callee.name="Injectable"]'(t){K(t,"providedIn")||e.report({node:t,messageId:"useInjectableProvidedIn"})}})}),Zc=ne({name:"use-lifecycle-interface",meta:{type:"suggestion",docs:{description:"Ensures that classes implement lifecycle interfaces corresponding to the declared lifecycle methods",category:"Best Practices",recommended:"warn"},schema:[],messages:{useLifecycleInterface:"Lifecycle interface '{{interfaceName}}' should be implemented for method '{{methodName}}'. (https://angular.io/styleguide#style-09-01)"}},defaultOptions:[],create:e=>({[`MethodDefinition[key.name=${te([...j])}]`]({key:t,parent:n}){const s=n.parent;if(!L(s))return;const r=$(s),i=t.name,a=(e=>e.slice(2))(i);r.includes(l[a])||e.report({node:t,messageId:"useLifecycleInterface",data:{interfaceName:a,methodName:i}})}})}),Jc=ne({name:"use-pipe-transform-interface",meta:{type:"suggestion",docs:{description:"Ensures that Pipes implement `PipeTransform` interface",category:"Best Practices",recommended:"error"},fixable:"code",schema:[],messages:{usePipeTransformInterface:"Pipes should implement `PipeTransform` interface"}},defaultOptions:[],create:e=>({[le]({parent:t}){if(B(t).find(e=>"PipeTransform"===e))return;const{errorNode:n,implementsNodeReplace:s,implementsTextReplace:r}=function(e){const t=e.id,[n,s,r]=e.implements?[t,tu(e.implements),", PipeTransform"]:[t,t," implements PipeTransform"];return{errorNode:n,implementsNodeReplace:s,implementsTextReplace:r}}(t);e.report({node:n,messageId:"usePipeTransformInterface",fix:e=>[eu(t,e),e.insertTextAfter(s,r)]})}})});function eu(e,t){const n=function(e,t){let n=e;for(;n=n.parent;)if("Program"===n.type)return n.body.find(e=>N(e)&&"@angular/core"===e.source.value);return n}(e);if(!(null==n?void 0:n.specifiers.length))return t.insertTextAfterRange([0,0],"import { PipeTransform } from '@angular/core';\n");const s=tu(n.specifiers);return t.insertTextAfter(s,", PipeTransform")}function tu(e){return e.slice(-1)[0]}var nu=ne({name:"pipe-prefix",meta:{type:"suggestion",docs:{description:"Enforce consistent prefix for pipes.",category:"Stylistic Issues",recommended:!1},schema:[{type:"object",properties:{prefixes:{type:"array",items:{type:"string"},minimum:1,uniqueItems:!0}},additionalProperties:!1}],messages:{pipePrefix:"@Pipe's name should be prefixed by {{prefixes}}"}},defaultOptions:[{prefixes:[]}],create:(e,[{prefixes:t}])=>({[le](n){const s=K(n,"name");if(!s)return;if(!function(e){return Array.isArray(e)&&e.length>0}(t))return;const r=t.join("|"),i=Z.prefix(r,"camelCase");let a;P(s)?a=s.value:T(s)&&s.quasis[0]&&(a=s.quasis[0].value.raw),a&&(i.apply(this,[a])||e.report({node:s,messageId:"pipePrefix",data:{prefixes:ee(t)}}))}})});module.exports={configs:{all:{extends:"./configs/base.json",rules:{"@angular-eslint/component-class-suffix":"error","@angular-eslint/component-max-inline-declarations":"error","@angular-eslint/component-selector":"error","@angular-eslint/contextual-decorator":"error","@angular-eslint/contextual-lifecycle":"error","@angular-eslint/directive-class-suffix":"error","@angular-eslint/directive-selector":"error","@angular-eslint/no-attribute-decorator":"error","@angular-eslint/no-conflicting-lifecycle":"error","@angular-eslint/no-empty-lifecycle-method":"error","@angular-eslint/no-forward-ref":"error","@angular-eslint/no-host-metadata-property":"error","@angular-eslint/no-input-prefix":"error","@angular-eslint/no-input-rename":"error","@angular-eslint/no-inputs-metadata-property":"error","@angular-eslint/no-lifecycle-call":"error","@angular-eslint/no-output-native":"error","@angular-eslint/no-output-on-prefix":"error","@angular-eslint/no-output-rename":"error","@angular-eslint/no-outputs-metadata-property":"error","@angular-eslint/no-pipe-impure":"error","@angular-eslint/no-queries-metadata-property":"error","@angular-eslint/pipe-prefix":"error","@angular-eslint/prefer-on-push-component-change-detection":"error","@angular-eslint/prefer-output-readonly":"error","@angular-eslint/relative-url-prefix":"error","@angular-eslint/use-component-selector":"error","@angular-eslint/use-component-view-encapsulation":"error","@angular-eslint/use-injectable-provided-in":"error","@angular-eslint/use-lifecycle-interface":"error","@angular-eslint/use-pipe-transform-interface":"error"}},base:{parser:"@typescript-eslint/parser",parserOptions:{ecmaVersion:2020,sourceType:"module",project:"./tsconfig.json"},plugins:["@typescript-eslint","@angular-eslint"]},recommended:{extends:"./configs/base.json",rules:{"no-restricted-imports":["error",{paths:[{name:"rxjs/Rx",message:"Please import directly from 'rxjs' instead"}]}],"@typescript-eslint/member-ordering":["error",{default:["static-field","instance-field","static-method","instance-method"]}],"no-restricted-syntax":["error",{selector:'CallExpression[callee.object.name="console"][callee.property.name=/^(debug|info|time|timeEnd|trace)$/]',message:"Unexpected property on console object was called"}],"@typescript-eslint/no-inferrable-types":["error",{ignoreParameters:!0}],"@typescript-eslint/no-non-null-assertion":"error","no-fallthrough":"error","@angular-eslint/component-class-suffix":"error","@angular-eslint/contextual-lifecycle":"error","@angular-eslint/directive-class-suffix":"error","@angular-eslint/no-conflicting-lifecycle":"error","@angular-eslint/no-empty-lifecycle-method":"error","@angular-eslint/no-host-metadata-property":"error","@angular-eslint/no-input-rename":"error","@angular-eslint/no-inputs-metadata-property":"error","@angular-eslint/no-output-native":"error","@angular-eslint/no-output-on-prefix":"error","@angular-eslint/no-output-rename":"error","@angular-eslint/no-outputs-metadata-property":"error","@angular-eslint/use-lifecycle-interface":"warn","@angular-eslint/use-pipe-transform-interface":"error"}},"ng-cli-compat":{extends:["./configs/base.json"],env:{browser:!0,es6:!0,node:!0},plugins:["eslint-plugin-import","eslint-plugin-jsdoc","eslint-plugin-prefer-arrow"],rules:{"@typescript-eslint/interface-name-prefix":"off","@typescript-eslint/explicit-member-accessibility":"off","sort-keys":"off","@angular-eslint/component-class-suffix":"error","@angular-eslint/component-selector":["error",{type:"element",prefix:"app",style:"kebab-case"}],"@angular-eslint/contextual-lifecycle":"error","@angular-eslint/directive-class-suffix":"error","@angular-eslint/directive-selector":["error",{type:"attribute",prefix:"app",style:"camelCase"}],"@angular-eslint/no-conflicting-lifecycle":"error","@angular-eslint/no-host-metadata-property":"error","@angular-eslint/no-input-rename":"error","@angular-eslint/no-inputs-metadata-property":"error","@angular-eslint/no-output-native":"error","@angular-eslint/no-output-on-prefix":"error","@angular-eslint/no-output-rename":"error","@angular-eslint/no-outputs-metadata-property":"error","@angular-eslint/use-lifecycle-interface":"error","@angular-eslint/use-pipe-transform-interface":"error","@typescript-eslint/adjacent-overload-signatures":"error","@typescript-eslint/array-type":"off","@typescript-eslint/ban-types":["error",{types:{Object:{message:"Avoid using the `Object` type. Did you mean `object`?"},Function:{message:"Avoid using the `Function` type. Prefer a specific function type, like `() => void`."},Boolean:{message:"Avoid using the `Boolean` type. Did you mean `boolean`?"},Number:{message:"Avoid using the `Number` type. Did you mean `number`?"},String:{message:"Avoid using the `String` type. Did you mean `string`?"},Symbol:{message:"Avoid using the `Symbol` type. Did you mean `symbol`?"}}}],"@typescript-eslint/consistent-type-assertions":"error","@typescript-eslint/dot-notation":"error","@typescript-eslint/member-ordering":"error","@typescript-eslint/naming-convention":"error","@typescript-eslint/no-empty-function":"off","@typescript-eslint/no-empty-interface":"error","@typescript-eslint/no-explicit-any":"off","@typescript-eslint/no-inferrable-types":["error",{ignoreParameters:!0}],"@typescript-eslint/no-misused-new":"error","@typescript-eslint/no-namespace":"error","@typescript-eslint/no-non-null-assertion":"error","@typescript-eslint/no-parameter-properties":"off","@typescript-eslint/no-unused-expressions":"error","@typescript-eslint/no-use-before-define":"off","@typescript-eslint/no-var-requires":"off","@typescript-eslint/prefer-for-of":"error","@typescript-eslint/prefer-function-type":"error","@typescript-eslint/prefer-namespace-keyword":"error","@typescript-eslint/triple-slash-reference":["error",{path:"always",types:"prefer-import",lib:"always"}],"@typescript-eslint/unified-signatures":"error",complexity:"off","constructor-super":"error",eqeqeq:["error","smart"],"guard-for-in":"error","id-blacklist":["error","any","Number","number","String","string","Boolean","boolean","Undefined","undefined"],"id-match":"error","import/no-deprecated":"warn","jsdoc/newline-after-description":"error","jsdoc/no-types":"error","max-classes-per-file":"off","no-bitwise":"error","no-caller":"error","no-cond-assign":"error","no-console":["error",{allow:["log","warn","dir","timeLog","assert","clear","count","countReset","group","groupEnd","table","dirxml","error","groupCollapsed","Console","profile","profileEnd","timeStamp","context"]}],"no-debugger":"error","no-empty":"off","no-eval":"error","no-fallthrough":"error","no-invalid-this":"off","no-new-wrappers":"error","no-restricted-imports":["error",{name:"rxjs/Rx",message:"Please import directly from 'rxjs' instead"}],"@typescript-eslint/no-shadow":["error",{hoist:"all"}],"no-throw-literal":"error","no-undef-init":"error","no-underscore-dangle":"error","no-unsafe-finally":"error","no-unused-labels":"error","no-var":"error","object-shorthand":"error","one-var":["error","never"],"prefer-arrow/prefer-arrow-functions":"error","prefer-const":"error",radix:"error","use-isnan":"error","valid-typeof":"off"}},"ng-cli-compat--formatting-add-on":{plugins:["eslint-plugin-jsdoc"],rules:{"arrow-body-style":"error","arrow-parens":"off","comma-dangle":"off",curly:"error","eol-last":"error","jsdoc/check-alignment":"error","max-len":["error",{code:140}],"new-parens":"error","no-multiple-empty-lines":"off","no-trailing-spaces":"error","quote-props":["error","as-needed"],"space-before-function-paren":["error",{anonymous:"never",asyncArrow:"always",named:"never"}],"@typescript-eslint/member-delimiter-style":["error",{multiline:{delimiter:"semi",requireLast:!0},singleline:{delimiter:"semi",requireLast:!1}}],quotes:"off","@typescript-eslint/quotes":["error","single",{allowTemplateLiterals:!0}],"@typescript-eslint/semi":["error","always"],"@typescript-eslint/type-annotation-spacing":"error"}}},rules:{"contextual-decorator":se,"component-class-suffix":ce,"component-max-inline-declarations":de,"component-selector":Ec,"contextual-lifecycle":_c,"directive-class-suffix":wc,"directive-selector":Cc,"no-attribute-decorator":bc,"no-conflicting-lifecycle":Nc,"no-forward-ref":Ac,"no-host-metadata-property":Pc,"no-input-prefix":kc,"no-input-rename":Mc,"no-inputs-metadata-property":Lc,"no-lifecycle-call":Rc,"no-output-native":Dc,"no-output-on-prefix":Bc,"no-output-rename":$c,"no-outputs-metadata-property":Vc,"no-pipe-impure":jc,"no-queries-metadata-property":Uc,"no-empty-lifecycle-method":qc,[Hc]:Wc,"prefer-output-readonly":zc,"relative-url-prefix":Xc,"use-component-selector":Gc,"use-component-view-encapsulation":Qc,"use-injectable-provided-in":Yc,"use-lifecycle-interface":Zc,"use-pipe-transform-interface":Jc,"pipe-prefix":nu}};
